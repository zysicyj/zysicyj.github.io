<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä»Šå¤©å»çœ‹çœ‹ä¿ºå§ï¼ˆè€å©†ï¼‰æ–°å¼€çš„è¶…å¸‚</title>
      <link href="/648fb133.html"/>
      <url>/648fb133.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><p>æ˜¨æ™šå†™åšå®¢åˆ°12ç‚¹å¤šï¼Œä»Šå¤©å›°æ­»äº†ï¼Œæ¯”è¾ƒæ„å¤–çš„æ˜¯ï¼Œæ—©ä¸Šè€çˆ¸æ²¡æœ‰å«æˆ‘ï¼Œä»Šå¤©æ—©ä¸Šæ˜¯è€çˆ¸å’Œå°èˆ…é€çš„è‘¡è„ã€‚</p><p>æ‰€ä»¥å‘¢ï¼Œä»Šæ—©ç¡å¾—å¾ˆæ™šï¼Œç„¶å6ç‚¹å¤šæ‰é†’ï¼Œç¡å¾—çœŸèˆ’æœï¼Œå¹³æ—¶5ç‚¹å·¦å³å°±è¦èµ·åºŠå•¦ï¼</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/4957977491000.png"></p><h1 id="2"><a href="#2" class="headerlink" title="2"></a>2</h1><p>ä¸Šåˆä¹Ÿæ²¡å¹²å•¥ï¼Œå¼€è½¦å¸¦è€å©†å»å¤ªä¹™èœåœºæ—è¾¹çš„å°åŒºäº¤æ˜“ä¸€ä¸ªäºŒæ‰‹ç©å…·ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸ªå•¦ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/5350305964900.png"></p><p>è€å©†è¯´è¿™ä¸ªç«è½¦è¿˜èƒ½åŠ¨ï¼Œè¦ä¸ç„¶å°±å€¼20å—é’±ï¼Œå˜¿å˜¿ï¼</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/5242119028000.jpg" alt="æˆ‘ä»¬å®¶å®å®è¿˜æœ‰å§å§å®¶å„¿å­"></p><h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><p>ç©å…·æ‹¿å›æ¥ä¹‹åï¼Œè€å©†åœ¨è‘¡è„å›­å’Œæˆ‘çˆ¸å” å—‘ï¼Œæˆ‘å‘¢å»ç»™é—ºå¥³ä¹°æ¢¨ï¼Œé—ºå¥³å’Œè€å©†è¿™ä¸¤å¤©å¥½åƒæ˜¯è¢«æˆ‘ä¼ æŸ“äº†ã€‚éƒ½å’³å—½å’Œå¤´ç–¼</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/5527271416300.png"></p><p>æˆ‘å°èˆ…å‰ä¸¤å¤©ä¹Ÿè¢«æˆ‘ä¼ æŸ“äº†ï¼Œæ˜¨å¤©è¿˜ä¸èˆ’æœå‘¢ï¼Œä»Šå¤©å·²ç»å·®ä¸å¤šå•¦ï¼Œèº«ä½“çœŸæ£’</p><p>å¯æƒœå“¦ï¼Œæˆ‘å›æ¥çš„è·¯ä¸Šè€å©†è¯´ï¼Œæˆ‘å¦ˆå·²ç»ä¹°å¥½äº†ï¼Œemmã€‚ã€‚<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/5630901268000.png"></p><h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><p>ä¸Šåˆæœ€åä¸€ä»¶äº‹å‘€ï¼Œå°±æ˜¯æ¥è¡¨å¼Ÿï¼ˆå°èˆ…å„¿å­ï¼‰è¿‡æ¥åƒä¸ªé¥­ï¼Œå” å” å—‘ã€‚</p><p>ä»–è¿™ä¸æ˜¯è¦å¼€å­¦äº†å˜›ï¼Œæ˜¨å¤©å›å­¦æ ¡çš„ï¼Œå­¦æ ¡ç¦»è¿™é‡Œåˆè¿‘ï¼Œåªæœ‰ä¸‰å…¬é‡Œå·¦å³ï¼Œæˆ‘å°±å¼€è½¦å»æ¥è¿‡æ¥äº†ã€‚</p><p>ä»–æ˜¯åœ¨å—æ–°å¤§ä¸Šçš„å¤§å­¦ï¼Œä¸“ä¸šæ˜¯æœºå™¨äººï¼Œè¿™ä¸ªä¸“ä¸šå§å½“æ—¶è¿˜æ˜¯æˆ‘é€‰çš„ã€‚æƒ³ä¸Šè®¡ç§‘çš„ï¼Œå¯æƒœåˆ†æ•°å·®äº†ä¸€ç‚¹ã€‚ã€‚emm</p><p>ä»Šå¹´å·²ç»å¤§å››äº†ï¼ŒåŠªåŠ›å¤‡æˆ˜è€ƒç ”ä¸­ï¼Œç›®æ ‡æ˜¯æœ¬æ ¡ç ”ç©¶ç”Ÿï¼ŒåŠ æ²¹å“¦ï¼Œå¸Œæœ›ä½ èƒ½è€ƒç ”æˆåŠŸï¼</p><h1 id="5"><a href="#5" class="headerlink" title="5"></a>5</h1><p>ä¹‹åå‘¢ï¼Œå°±æ˜¯åƒé¥­å•¦ï¼Œä»Šå¤©çš„åˆé¥­æˆå‘˜æœ‰è¿™ä¹ˆå‡ ä¸ªï¼š</p><ul><li>çˆ¸çˆ¸</li><li>å¦ˆå¦ˆ</li><li>è€å©†</li><li>å°èˆ…</li><li>è¡¨å¼Ÿ</li><li>æˆ‘</li></ul><p>å®é™…åƒé¥­çš„æ˜¯å‡ ä¸ªå‘¢ã€‚ã€‚</p><ul><li>çˆ¸çˆ¸</li><li>å¦ˆå¦ˆ</li><li>è€å©†ï¼ˆæ‰åƒè¿‡ä¸é¥¿ï¼‰</li><li>å°èˆ…</li><li>è¡¨å¼Ÿï¼ˆåœ¨å­¦æ ¡æ‰åƒè¿‡æ²¡å¤šä¹…ï¼‰</li><li>æˆ‘ï¼ˆæ‰åƒè¿‡ã€‚ã€‚ä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³åƒå‘€ã€‚ã€‚emmï¼‰</li></ul><h1 id="6"><a href="#6" class="headerlink" title="6"></a>6</h1><p>åƒé¥­é¥­å°±ç»™è¡¨å¼Ÿé€åˆ°ä»–å­¦æ ¡äº†ï¼Œç„¶åæˆ‘ä»¬å°±å‡ºå‘å»å§å§æ­£åœ¨è£…ä¿®çš„è¶…å¸‚ã€‚è¿˜æ˜¯æŒºè¿œçš„å“¦ï¼Œå°åŒºæ˜¯ã€Šç´«æ¨¾åºœã€‹ï¼Œåœ¨æ –éœæ˜Ÿæ™¯è·¯1å·ã€‚åˆ°é‚£è¦å››äº”ååˆ†é’Ÿå‘¢ã€‚ã€‚</p><p>è¶…å¸‚åå­—æ˜¯ã€Šè›™ä»”ä¾¿åˆ©åº—ã€‹</p><p>è€å©†è¯´ï¼Œè¿™ä¸ªåå­—æ˜¯å› ä¸ºæƒ³åšæˆè¿é”åº—ï¼Œå¥¹äºŒå§å’Œå¤§å§éƒ½æ˜¯å¼€è¶…å¸‚çš„ï¼Œä¹Ÿéƒ½æ˜¯åœ¨æ –éœã€‚äºŒå§ç§Ÿäº†ä¸€ä¸ªé—¨é¢ï¼Œç„¶åä¹°äº†ä¸€ä¸ªé—¨å¸‚ã€‚å¤§å§ç§Ÿäº†ä¸€ä¸ªé—¨é¢ï¼Œéƒ½æ˜¯å¼€çš„è¶…å¸‚ï¼Œå§å§ä¹Ÿæ˜¯è·Ÿç€å¥¹ä»¬å¹²çš„ã€‚</p><h1 id="7"><a href="#7" class="headerlink" title="7"></a>7</h1><p>å°åŒºæ˜¯æ–°æ ¡åŒºï¼Œè¶…å¸‚é—¨å£çš„é©¬è·¯ä¹Ÿè¿˜åœ¨æ–½å·¥ä¸­ï¼Œè¿˜æ²¡å¼„å®Œã€‚å§å§è¯´è¿˜å¾—åŠå¹´å§ï¼Œæ–­å¤´è·¯æ‰èƒ½æ‰“é€šã€‚å¥½é•¿æ—¶é—´å‘¢ã€‚ã€‚</p><h1 id="8"><a href="#8" class="headerlink" title="8"></a>8</h1><p>æˆ‘å§å¤«ç˜¦ä¸ç˜¦ï¼Œæœ€è¿‘å¿™æ­»äº†ï¼Œç„¶åæ›´ç˜¦äº†ï¼Œä¹‹å‰å°±å¾ˆç˜¦ã€‚åº—é“ºè¿˜åœ¨ä¸Šè´§ä¸­ï¼Œè¿˜æœ‰å¾ˆå¤šè´§éƒ½æ²¡ä¸Šé½å‘¢ï¼Œå¥½åœ¨äºŒå§å’Œå¤§å§å¤«éƒ½å¾ˆçƒ­æƒ…ï¼Œè¿™ä¸¤å¤©éƒ½æ¥å¸®å¿™çš„ï¼Œè½»æ¾ä¸å°‘ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7103603471200.jpg"></p><h1 id="9"><a href="#9" class="headerlink" title="9"></a>9</h1><p>é—²æš‡ä¹‹ä½™ï¼Œç¿»çœ‹äº†CSDNï¼Œæ”¶åˆ°æ¨é€æ‰å‘ç°å†™åšå®¢å·²ç»å¥½ä¹…äº†</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7230259584600.jpg"></p><h1 id="10"><a href="#10" class="headerlink" title="10"></a>10</h1><p>å§å§å’Œå§å¤«ä¸ºäº†çœæˆ¿ç§Ÿï¼Œç›®å‰æ˜¯åœ¨è¶…å¸‚äºŒæ¥¼éš”äº†ä¸€é—´æˆ¿ç¡è§‰ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7277036051400.jpg"></p><p>å®å®ç¡çš„çœŸé¦™</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7294610701500.jpg"></p><h1 id="11"><a href="#11" class="headerlink" title="11"></a>11</h1><p>æˆ‘åœ¨åƒå†·é¥®å‘¢ï¼Œè¿™æ—¶æ¥äº†ä¸ªé”€å”®ï¼Œç»™æˆ‘25å—é’±ï¼Œè®©æˆ‘å»çœ‹ä¸‹æˆ¿ã€‚ã€‚é—²æ¥æ— äº‹ï¼Œé‚£å’±å°±å»çœ‹çœ‹</p><p>ç®—äº†ä¸‹ä¸¤ä¸ªæˆ·å‹ä»·æ ¼ï¼Œå¥½åƒå’Œé«˜æ–°å·®ä¸å¤šï¼Œæ–°æˆ¿ä»·æ ¼æ¯”é«˜æ–°ä½ä¸å°‘ï¼Œè¿™ä¸ªé”€å”®å‘€æŠŠå’±é«˜æ–°è¯´çš„å¥½åºŸå“¦ï¼Œå’±ä¹Ÿä¸æ‡‚ï¼Œå’±ä¹Ÿä¸æ•¢è¯´ä¸æ˜¯ã€‚</p><p>è¯´å’±é«˜æ–°é‚£ä¸ªå¤–å›½è¯­é«˜æ–°åˆ†æ ¡å¾ˆåƒåœ¾ï¼Œåœ¨å—äº¬éƒ½æ’ä¸ä¸Šå·ã€‚è¯´è¿™ä¸ªå°åŒºçš„é‡‘é™µå°å­¦åˆ†æ ¡æ˜¯å—äº¬ç¬¬äºŒæ¢¯é˜Ÿä¸­çš„å‰æ’ï¼Œæ„Ÿè§‰å¾ˆå‰å®³çš„æ ·å­ã€‚ã€‚</p><p>æˆ‘å°è±¡æœ‰å‡ ä¸ªå­¦æ ¡è¿˜æ˜¯ä¸é”™çš„å§ã€‚ã€‚å’±ä¹Ÿä¸æ•¢è¯´ã€‚ã€‚ç¡®å®ä¹Ÿä¸æ‡‚å‘¢ã€‚ã€‚</p><p>è¯´å°åŒºæ˜¯ä¸‰ä¸ªåœ°é“äº¤æ±‡å¤„ï¼Œè¿™ä¸ªçœ‹ç€è¿˜æ˜¯ä¸é”™çš„ï¼Œå·²ç»é€šè½¦äº†ä¸€ä¸ªï¼Œæ˜å¹´å†é€šè½¦ä¸€ä¸ªï¼Œè¿˜æœ‰ä¸€ä¸ªè¯´æ˜¯æ˜å¹´å¼€å§‹å»ºï¼Œä¹Ÿå¾ˆå¿«äº†ã€‚è¿™ä¸ªè¿˜æ˜¯æŒºåŠ åˆ†çš„</p><p>ç„¶åå°±æ˜¯åŒ»é™¢ã€‚ã€‚å¬äº†åŠå¤©ï¼Œå¥½åƒä¹Ÿæ˜¯æ²¡å»ºå‘¢ï¼Œæ²¡é—®æ˜¯ä¸æ˜¯ä¸‰ç”²ã€‚ã€‚ã€‚</p><p>æ­£åœ¨å” å—‘å‘¢ï¼Œè€å©†æ‰“ç”µè¯å‚¬æˆ‘å›å»ï¼Œå¥½å§ï¼Œé‚£å’±å°±æœ‰æœºä¼šå†èŠï¼Œå˜¿å˜¿ï¼</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7366032905200.jpg"></p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7370924201700.jpg"></p><h1 id="12"><a href="#12" class="headerlink" title="12"></a>12</h1><p>è€å©†ä¹°çš„å¿…èƒœå®¢çš„åˆ¸éƒ½å¥½å‡ å¤©äº†ï¼Œ ä»Šå¤©æ™šä¸Šè™½ç„¶ä¸‹æš´é›¨å•Šï¼Œä½†æ˜¯å’±è¿˜æ˜¯å†’é›¨æŠŠå®ƒç»™ç”¨äº†ï¼Œå˜¿å˜¿ï¼</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7816447046300.jpg"></p><p>å¿…èƒœå®¢åƒçš„ä¸å¤šï¼Œéšä¾¿é€‰äº†ä¸¤ä¸ªå£å‘³çš„ï¼Œå‘³é“æ˜¯çœŸä¸é”™å‘€ï¼Œå¥½åƒï¼</p><p>è€å©†å°±åƒäº†å·®ä¸å¤šåŠä¸ªï¼Œå‰©ä¸‹çš„1ä¸ªåŠåŠ ä¸¤ç“¶é¥®æ–™å’±éƒ½ç»™åƒå•¦ï¼Œæœ‰ç‚¹å°æ’‘å“¦ã€‚</p><p>PSï¼šè€å©†æ˜¯å¤´ç–¼ï¼Œä¸æ•¢å–å‡‰çš„ã€‚ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7801606478900.png"></p><h1 id="13"><a href="#13" class="headerlink" title="13"></a>13</h1><p>å†™å®Œè¿™ç¯‡æ–‡ç« ï¼Œå†å‘è¡¨å‡ºå»ï¼Œ9ç‚¹å·¦å³å§ï¼Œå‡†å¤‡ç¡è§‰å•¦ï¼Œæ™šå®‰ï¼Œå®å­ä»¬ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/7954871233400.png"></p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>èŠèŠè¿‘å†µ,ä¸€ä¸ªå­—ã€ç´¯ã€‘</title>
      <link href="/71f4c8f5.html"/>
      <url>/71f4c8f5.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="1"><a href="#1" class="headerlink" title="1"></a>1</h1><p>æœ€è¿‘ç”Ÿæ´»çŠ¶æ€çœŸçš„æ˜¯ä¸€å›¢ç³Ÿå‘€ï¼Œæˆ‘ä»¬å®¶æ˜¯æ‰¿åŒ…äº†äºŒåäº©è‘¡è„å›­çš„ï¼Œä½†æ˜¯åªæœ‰æˆ‘çˆ¸å¦ˆå¿™æ´»ï¼Œä»Šå¹´è¿˜å¥½æˆ‘å°èˆ…åœ¨è¿™è¾¹å¸®å¿™ï¼Œä¸ç„¶æˆ‘çš„æ—¶é—´è¿˜è¦è¢«å‹ç¼©çš„æ›´å‰å®³ï¼Œå†™åšå®¢å­¦ä¹ é‚£è‚¯å®šæ˜¯ä¸æ•¢æƒ³çš„äº†ã€‚</p><p>ä»Šå¹´å³ä½¿æœ‰æˆ‘å°èˆ…å¸®å¿™ï¼Œæˆ‘è¿˜æ˜¯éœ€è¦å¸®å¿™çš„ï¼Œä½†æ˜¯å¹²çš„å°±ä¸ç”¨é‚£ä¹ˆå¤šäº†ã€‚æˆ‘ç°åœ¨ä¸»è¦æ˜¯è´Ÿè´£<strong>é€è‘¡è„</strong>å’Œ<strong>æ¬è‘¡è„</strong>ã€‚</p><h1 id="2"><a href="#2" class="headerlink" title="2"></a>2</h1><p>è¿™ä¸ªæ´»å‘¢ä¸€èˆ¬æ˜¯å·¥ä½œæ—¥çš„æ—©ä¸Š5ç‚¹å¤šåˆ°6ç‚¹å¤šï¼Œå¶å°”ä¼šå¾ˆæ—©ã€‚æˆ‘ä¸€èˆ¬å­¦ä¹ åŠ ä¸Šå†™åšå®¢éƒ½æ˜¯12ç‚¹å·¦å³ç¡ï¼Œå‰ä¸¤å¤©å°±æ˜¯è¿ç»­ä¸¤å¤©æ—©ä¸Š3ç‚¹å°±èµ·æ¥äº†ï¼Œåˆ°è‘¡è„åœ°æ¬è‘¡è„ç„¶åé€è´§ï¼Œçœ¼éƒ½çä¸å¼€ï¼Œç„¶åå›æ¥è¿˜è¦æ‰“æ‰«å«ç”Ÿï¼Œè¿™ä¸ªæ—¶å€™å·®ä¸å¤š8ç‚¹åŠå·¦å³äº†ï¼Œå‡ºå‘ä¸Šç­ï¼Œä»å®¶åˆ°å…¬å¸å¼€è½¦å’Œéª‘è½¦æ—¶é—´å·®ä¸å¤šï¼Œ20åˆ†é’Ÿå·¦å³ï¼Œæ•´ä¸ªç´¯çš„ä¸è¡Œã€‚</p><p>ä¸€èˆ¬é€å®Œè‘¡è„å·®ä¸å¤š7ç‚¹å‡ºå¤´ï¼Œå¶å°”ä¼šåˆ°8ç‚¹ï¼Œä¸€å¤©æ­£å¸¸æ˜¯1~2è¶Ÿã€‚</p><p>11ç‚¹åŠä¸­åˆä¸‹ç­ï¼Œä¸­åˆå˜›å› ä¸ºè€å©†åœ¨å®¶å¸¦å­©å­ä¸å®¹æ˜“ï¼Œæ‰€æœ‰æˆ‘æ¯å¤©ä¸­åˆåŸºæœ¬éƒ½æ˜¯å›å®¶çš„ï¼Œå½“ç„¶é¥­æˆ‘ä¸åšï¼Œä¸€èˆ¬æ˜¯ä¹°é¥­å¸¦å›å»ï¼Œç„¶åæœ‰æ—¶é—´å°±ä¼‘æ¯ä¼šï¼Œ1ç‚¹åŠå·¦å³å»ä¸Šç­ã€‚</p><p>ä¸‹åˆä¸‹ç­å‘¢æ˜¯ä¸‹åˆ6ç‚¹ï¼Œåˆ°å®¶å·®ä¸å¤šæ˜¯6ç‚¹åŠï¼Œç„¶åä¼šå¸®å¿™æ¬è‘¡è„ï¼Œå‰ä¸¤å¹´æˆ‘çˆ¸è¿˜æœ‰åŠ²å‘¢ï¼Œè‡ªå·±æ¬å°±è¡Œäº†ã€‚ç°åœ¨æˆ‘çˆ¸èº«ä½“ä¸å¥½äº†ï¼Œå¹´çºªä¹Ÿå¤§äº†ï¼Œå·²ç»æ¬ä¸äº†äº†ã€‚çˆ¸å¦ˆæŠŠè‘¡è„å‰ªå¥½äº†æ”¾æ¡†é‡Œé¢ï¼Œç„¶åæˆ‘å»åœ°é‡Œé¢æŠŠè‘¡è„æŠ¥åˆ°å®¶é‡Œï¼Œç„¶åæˆ‘å°±å¯ä»¥å›å®¶äº†ã€‚</p><p>åˆ°å®¶ä¹‹åå‘¢ï¼Œä¹Ÿæ²¡å•¥äº‹äº†ï¼Œå” å” å—‘ï¼Œç»™å®å®æ´—æ¾¡ï¼Œæˆ‘è€å©†ä¹Ÿå°±å·®ä¸å¤šç¡è§‰äº†ï¼Œè€å©†ç¡è§‰ä¹‹åæˆ‘å°±å¯ä»¥è‡ªç”±æ´»åŠ¨äº†ã€‚è¿™ä¸ªæ—¶å€™è„‘å­æ—©ä¸çµå…‰äº†ï¼Œå±äºåŠæ‡µçŠ¶æ€ï¼Œå­¦ä¹ é‚£ä¸å¤ªåˆé€‚ï¼Œè¿™ä¸ªç‚¹ä¸€èˆ¬æ˜¯å†™å†™åšå®¢ï¼Œçœ‹çœ‹è§†é¢‘ã€‚</p><h1 id="3"><a href="#3" class="headerlink" title="3"></a>3</h1><p>ä¸å¾—ä¸è¯´ï¼Œå†™åšå®¢æ˜¯çœŸçš„ç´¯å‘€ï¼Œåƒæˆ‘å†™çš„Redisç³»åˆ—ï¼Œå³ä½¿æ˜¯å€ŸåŠ©äº†GPTè¾…åŠ©ï¼Œä¸€ç¯‡æ–‡ç« é‚£ä¹Ÿè¦èŠ±2ä¸ªå°æ—¶å·¦å³çš„æ—¶é—´ã€‚å†™å®Œä¹‹åå‘åšå®¢ï¼Œå‘å„ä¸ªåª’ä½“å¹³å°ï¼Œè¿™ä¸ªæ—¶å€™ä¸€èˆ¬éƒ½ååŠå¤œäº†ï¼Œ12ç‚¹å·¦å³ã€‚å†™Redisçš„æ—¶å€™ï¼Œæœ€è¿Ÿæ˜¯1ç‚¹å¤šå‘çš„å¥½åƒæ˜¯ï¼ŒğŸ˜”</p><h1 id="4"><a href="#4" class="headerlink" title="4"></a>4</h1><p>å†™åšå®¢è¿™ä»¶äº‹ï¼Œä¸ªäººæ„Ÿè§‰ï¼Œä¸€æ—¶çƒ­ä¹æ¯”è¾ƒå¤šï¼Œå¾ˆéš¾åšæŒä¸‹å»ã€‚æˆ‘è¿™ä¹Ÿä¸æ˜¯ç¬¬ä¸€æ¬¡å†™åšå®¢äº†ï¼Œå‡ å¹´å‰æˆ‘å°±å¼€å§‹å†™åšå®¢äº†ï¼Œä½†æ˜¯éƒ½æ˜¯æ–­æ–­ç»­ç»­çš„ï¼Œæ¯æ¬¡å°±åšæŒå¾ˆçŸ­çš„æ—¶é—´ï¼Œä¸ªæŠŠæœˆéƒ½ç®—å¤šçš„äº†ã€‚</p><p>è™½ç„¶å†™çš„ä¸å¤šï¼Œä½†æ˜¯å½¢å¼ä¸Šè¿˜æ˜¯å¾ˆè¶³çš„ã€‚åšå®¢ç½‘ç«™ä¸çŸ¥é“æ­å»ºå¤šå°‘ä¸ªäº†ï¼ŒåŸŸåä¹Ÿæ¢äº†ä¸‰å››ä¸ªï¼Œè…¾è®¯äº‘ã€é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ½ä¹°äº†å¥½å‡ ä¸ªï¼Œå½“ç„¶ï¼Œä»Šå¹´å¹´ä¸­çš„æ—¶å€™æˆ‘éƒ½ç»™é€€æ‰äº†ï¼Œç°åœ¨å…¬å¸éƒ½æ˜¯å†…ç½‘å¼€å‘ï¼Œå®åœ¨æ˜¯ç”¨ä¸ä¸Šã€‚è…¾è®¯ä¹‹å‰ä¹°äº†ä¸€å¹´ï¼Œåæ¥åˆä¹°äº†ä¸‰å¹´ï¼Œé€€äº†ä¸€å¹´ï¼Œè¿˜æ˜¯æŒºç»™åŠ›çš„ï¼Œé˜¿é‡Œçš„é‚£ä¸ªäº‘æ•°æ®åº“ä¸ç»™é€€ï¼Œæˆ‘ä¹Ÿæ˜¯ä¹°çš„ä¸‰å¹´çš„ï¼Œç„¶åæ…¢æ…¢ç­‰å®ƒæ˜å¹´åˆ°æœŸå§ã€‚</p><p>åšå®¢çš®è‚¤ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢Haloåšå®¢çš„Joeä¸»é¢˜ï¼ŒçœŸçš„å¥½çœ‹ï¼Œç°åœ¨çš„åšå®¢æ˜¯ç”¨Hexoæ­å»ºçš„ï¼Œä¸»é¢˜æ˜¯Butterflyï¼Œæˆ‘è§‰ç€å°±è¿˜è¡Œå§ï¼Œä½†æ˜¯ä¹Ÿä¸æ‰“ç®—æ¢äº†ï¼Œéº»çƒ¦çš„å¾ˆã€‚</p><h1 id="5"><a href="#5" class="headerlink" title="5"></a>5</h1><p>æ™šä¸Šé‚£ä¹ˆç´¯ï¼Œå­¦ä¹ è‚¯å®šæ˜¯ä¸åˆé€‚çš„ï¼Œæ‰€ä»¥æˆ‘å­¦ä¹ æ—¶é—´æ˜¯æ—©ä¸Šå¼€è½¦é€è‘¡è„çš„æ—¶å€™ï¼Œæˆ‘ä¼šå¬è¯­éŸ³ï¼Œæˆ‘æ„Ÿè§‰æ•ˆç‡éå¸¸é«˜ï¼Œæ¯”é˜…è¯»æ•ˆç‡é«˜å¤šäº†ã€‚å½“ç„¶ï¼Œè¿™å¾—å…¨ç¥è´¯æ³¨ï¼Œä¸ç„¶æ•ˆæœå°±ä¸ç†æƒ³äº†ã€‚</p><p>å…³äºå­¦ä¹ çš„å¹³å°ï¼Œä¸»è¦æ˜¯å¾®ä¿¡è¯»ä¹¦å’Œæå®¢æ—¶é—´ï¼Œæå®¢æ—¶é—´ä¸Šå‰å‡ å¹´ä¹°äº†å¥½å¤šè¯¾ï¼Œå¾ˆå¤šéƒ½æ²¡çœ‹å‘¢ï¼Œæ…¢æ…¢çœ‹å§ã€‚å¾®ä¿¡è¯»ä¹¦æš‚æ—¶ä¸çœ‹äº†ï¼Œæ—¶é—´ä¸Šä¸å¯Œè¶³ã€‚ç°åœ¨ä¼˜å…ˆçº§æ¯”è¾ƒé«˜çš„æ˜¯åå‘é¢è¯•çš„ï¼Œéœ€è¦æ—¶åˆ»å‡†å¤‡ç€ã€‚</p><h1 id="6"><a href="#6" class="headerlink" title="6"></a>6</h1><p>æ¥ä¸‹æ¥çš„è®¡åˆ’ï¼Œé¦–å…ˆå‘€ï¼Œæœ€è¿‘ç¡®å®å¿™ï¼Œç¡çœ ä¸¥é‡ä¸è¶³ï¼Œæ›´æ–°é¢‘ç‡å‘¢å°±ä¸é‚£ä¹ˆå¿«ï¼Œé¢„è®¡æ˜¯ç­‰åˆ°è‘¡è„å–å®Œå§ï¼Œæ—¶é—´ä¸Šå……è£•äº†ï¼Œå†æ’ä¸€æ’æ›´æ–°è®¡åˆ’ã€‚</p><p>ç°åœ¨ç›®å‰å‘¢æœ‰å‡ ä¸ªç³»åˆ—åœ¨åš</p><h2 id="Redisç³»åˆ—"><a href="#Redisç³»åˆ—" class="headerlink" title="Redisç³»åˆ—"></a>Redisç³»åˆ—</h2><p>è¿™ä¸ªç³»åˆ—å‘¢ï¼Œæ›´æ–°ä¼šæ¯”è¾ƒæ…¢ï¼ŒåŠ ä¸Šæœ€è¿‘è¦åšå¼€å‘è§„èŒƒå’Œæ¶æ„è®¾è®¡ï¼Œè€½è¯¯äº†å·®ä¸å¤šä¸€å‘¨å¤šæ—¶é—´å§ï¼Œç­‰è¿™ä¸¤å¤©é‚£å—å¼„å®Œï¼Œè¿™ä¸ªç³»åˆ—å°±ç»§ç»­ä¿æŒæ›´æ–°</p><h2 id="ä»£ç è§„èŒƒç³»åˆ—"><a href="#ä»£ç è§„èŒƒç³»åˆ—" class="headerlink" title="ä»£ç è§„èŒƒç³»åˆ—"></a>ä»£ç è§„èŒƒç³»åˆ—</h2><p>è¿™ä¸ªç³»åˆ—æ¨å‡ºåŸå› æ¯”è¾ƒç®€å•å•Šï¼Œé¢†å¯¼è®©æˆ‘å‡ºä¸€ä¸ªä»£ç å¼€å‘è§„èŒƒï¼Œé‚£æˆ‘å°±é¡ºå¸¦æ•´ç†äº†ä¸€ä¸‹ï¼Œç°åœ¨å‘¢ä¹Ÿå¿«ç»“æŸäº†ï¼Œäº‰å–æ˜å¤©å¼„å®Œã€‚</p><h2 id="æ—¥è®°"><a href="#æ—¥è®°" class="headerlink" title="æ—¥è®°"></a>æ—¥è®°</h2><p>è¿™ä¸ªæ¨¡å—ï¼Œæˆ‘åŸåˆçš„è®¡åˆ’æ˜¯æ¯å¤©ä¸€æ›´çš„ï¼Œå®é™…ä¸Šæˆ‘è‡ªå·±æ„Ÿè§‰å†…å®¹å¹¶ä¸ä¸°å¯Œï¼Œè®°ä¸è®°å§åŒºåˆ«ä¸å¤§ã€‚æ‰€ä»¥å‘¢ï¼Œå¶å°”ä¼šæ›´æ–°ï¼Œæœ‰å†…å®¹äº†ï¼Œæˆ‘å°±æ›´æ–°äº†ï¼Œè¿™ä¸ªå¹¶ä¸æ˜¯å…³æ³¨çš„é‡ç‚¹ï¼Œå…¶å®æ–‡ç« å¤§éƒ¨åˆ†ä¹Ÿæ˜¯ç›´æ¥ä»æˆ‘æ¥å¯¼å‡ºçš„md<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-27/106344977741400.png" alt="æˆ‘æ¥ä¸Šçš„æ—¥è®°"></p><p>æ—¥è®°æ˜¯æ¯å¤©éƒ½ä¼šæœ‰çš„ï¼Œåªæ˜¯ç°åœ¨æ‡’äº†ï¼Œä¸å‹¤å¿«ï¼Œè®°å¾—ä¸å¤šã€‚ã€‚ã€‚<br>å…³äºæˆ‘æ¥æ—¥è®°ä»¥åŠæ¨¡æ¿è¿™å—ï¼Œåç»­ä¹Ÿä¼šè€ƒè™‘å‡ºè¯¦ç»†çš„æ•™ç¨‹ï¼Œè¿™é‡Œä¸å¤šèµ˜è¿°äº†ã€‚</p><h1 id="7"><a href="#7" class="headerlink" title="7"></a>7</h1><p>è¿™ä¹ˆç´¯ï¼Œä¸ºå•¥è¿˜åšæŒå‘¢ï¼Ÿ</p><p>å¯¹æˆ‘æ¥è¯´ï¼Œæ¶¨ç²‰å’Œé˜…è¯»é‡å°±æ˜¯æœ€å¤§çš„åŠ¨åŠ›ï¼Œå¦å¤–ä¸€ä¸ªåŸå› æ˜¯æˆ‘å¸Œæœ›å€ŸåŠ©å†™ä½œæé«˜è‡ªå·±çš„èƒ½åŠ›ï¼Œè®°å¿†çŸ¥è¯†ç‚¹ï¼ŒåŠ æ·±ç†è§£ã€‚</p><p>CSDNè®¾ç½®ç²‰ä¸å¯è¯»åï¼Œæ¶¨ç²‰çœŸå¿«å‘€ï¼Œå°±æ˜¯é˜…è¯»é‡ä½äº†ç‚¹ï¼Œä¸è¿‡åŒºåˆ«ä¸å¤§ã€‚</p><p>å¾®ä¿¡æ˜¯å¾ˆéš¾æ¶¨ç²‰å‘€ï¼Œæ„</p><h1 id="8"><a href="#8" class="headerlink" title="8"></a>8</h1><p>æœ€è¿‘æ‰“ç®—ä»¥å½•æ’­çš„å½¢å¼å‡ºæ•™å­¦è§†é¢‘ï¼Œè¿˜æ²¡å•¥å¤´ç»ªï¼Œåé¢å†çœ‹çœ‹å§</p><p>#9<br>Bç«™æˆ‘æ˜¯çœŸçš„æƒ³å‡åˆ°ä¸‰çº§å‘€ï¼Œè¿™æ ·å°±èƒ½ä¸Šä¼ 32gè§†é¢‘äº†ï¼Œç°åœ¨åªæœ‰8gï¼Œå®Œå…¨ä¸å¤Ÿã€‚ã€‚ã€‚emmã€‚ã€‚</p><p>å¤§å®¶èƒ½å¸®æˆ‘Bç«™ç‚¹ä¸ªå…³æ³¨å‘¢ï¼Œè°¢è°¢å¤§å®¶äº†ã€‚</p><p><a href="https://space.bilibili.com/258577429">https://space.bilibili.com/258577429</a></p><h1 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h1><p>ç°åœ¨åšå®¢å‘¢ï¼Œæˆ‘è¿˜æ˜¯å¸Œæœ›èƒ½åšæŒä¸‹å»çš„ï¼Œè¿™æ¬¡å¸Œæœ›èƒ½æœ‰æ‰€çªç ´ï¼ŒåŠ æ²¹ï¼ï¼ï¼ï¼</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ã€hibernate validatorã€‘ï¼ˆä¸‰ï¼‰å£°æ˜å’ŒéªŒè¯æ–¹æ³•çº¦æŸ</title>
      <link href="/9df1ab00.html"/>
      <url>/9df1ab00.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="ä¸€ã€å£°æ˜æ–¹æ³•çº¦æŸ"><a href="#ä¸€ã€å£°æ˜æ–¹æ³•çº¦æŸ" class="headerlink" title="ä¸€ã€å£°æ˜æ–¹æ³•çº¦æŸ"></a>ä¸€ã€å£°æ˜æ–¹æ³•çº¦æŸ</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.parameter;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentalStation</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RentalStation</span><span class="params">(<span class="meta">@NotNull</span> String name)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rentCar</span><span class="params">(</span></span><br><span class="line"><span class="params">            <span class="meta">@NotNull</span> Customer customer,</span></span><br><span class="line"><span class="params">            <span class="meta">@NotNull</span> <span class="meta">@Future</span> Date startDate,</span></span><br><span class="line"><span class="params">            <span class="meta">@Min(1)</span> <span class="type">int</span> durationInDays)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>RentalStationçš„nameä¸èƒ½ä¸ºç©º</li><li>rentCar()ï¼Œcustomerä¸èƒ½ä¸ºç©ºï¼ŒstartDateä¸èƒ½ä¸ºç©ºä¸”å¿…é¡»åœ¨æœªæ¥ï¼ŒdurationInDaysæœ€å°‘ä¸º1å¤©</li></ol><h2 id="1-äº¤å‰å‚æ•°çº¦æŸ"><a href="#1-äº¤å‰å‚æ•°çº¦æŸ" class="headerlink" title="1. äº¤å‰å‚æ•°çº¦æŸ"></a>1. äº¤å‰å‚æ•°çº¦æŸ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@LuggageCountMatchesPassengerCount(piecesOfLuggagePerPassenger = 2)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">load</span><span class="params">(List&lt;Person&gt; passengers, List&lt;PieceOfLuggage&gt; luggage)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¯¥æ³¨è§£é€šè¿‡è‡ªåŠ¨ä¹‰ç¡®ä¿ä¹˜å®¢æºå¸¦ä¸è¶…è¿‡2ä»¶è¡Œæ</p></blockquote><h2 id="2-è¿”å›å€¼çº¦æŸ"><a href="#2-è¿”å›å€¼çº¦æŸ" class="headerlink" title="2. è¿”å›å€¼çº¦æŸ"></a>2. è¿”å›å€¼çº¦æŸ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.returnvalue;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentalStation</span> &#123;</span><br><span class="line">    <span class="meta">@ValidRentalStation</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RentalStation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min = 1)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;<span class="meta">@NotNull</span> Customer&gt; getCustomers() &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä»»ä½•æ–°åˆ›å»ºçš„<code>RentalStation</code>å¯¹è±¡å¿…é¡»æ»¡è¶³<code>@ValidRentalStation</code>çº¦æŸ</li><li>ä¼ å›çš„å®¢æˆ·æ¸…å•<code>getCustomers()</code>ä¸å¾—ä¸º<code>null</code>å¹¶ä¸”å¿…é¡»è‡³å°‘åŒ…å«å…ƒç´ </li><li>è¿”å›çš„å®¢æˆ·æ¸…å•<code>getCustomers()</code>ä¸å¾—åŒ…å«ä»»ä½•<code>null</code>å¯¹è±¡</li></ul><h2 id="3-çº§è”éªŒè¯"><a href="#3-çº§è”éªŒè¯" class="headerlink" title="3. çº§è”éªŒè¯"></a>3. çº§è”éªŒè¯</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.cascaded;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Garage</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Valid</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Garage</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkCar</span><span class="params">(<span class="meta">@Valid</span> <span class="meta">@NotNull</span> Car car)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.cascaded;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min = 2, max = 14)</span></span><br><span class="line">    <span class="keyword">private</span> String licensePlate;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String manufacturer, String licencePlate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.licensePlate = licencePlate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>éªŒè¯checkCar()æ–¹æ³•çš„å‚æ•°æ—¶ï¼Œè¿˜å°†Carè¯„ä¼°å¯¹æ‰€ä¼ é€’å¯¹è±¡çš„å±æ€§çš„çº¦æŸã€‚åŒæ ·ï¼Œåœ¨éªŒè¯æ„é€ å‡½æ•°çš„è¿”å›å€¼æ—¶@NotNullï¼ŒGarageå°†æ£€æŸ¥å¯¹nameå­—æ®µçš„çº¦æŸ Garageã€‚</li><li>é€šå¸¸ï¼Œçº§è”éªŒè¯å¯¹å¯æ‰§è¡Œæ–‡ä»¶çš„å·¥ä½œæ–¹å¼ä¸å¯¹JavaBeanså±æ€§å®Œå…¨ç›¸åŒã€‚</li><li>ç‰¹åˆ«æ˜¯ï¼Œnullåœ¨çº§è”éªŒè¯æœŸé—´ä¼šå¿½ç•¥å€¼ï¼Œå¹¶ä¸”é€’å½’æ‰§è¡Œçº§è”éªŒè¯</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.cascaded.containerelement;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Garage</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkCars</span><span class="params">(<span class="meta">@NotNull</span> List&lt;<span class="meta">@Valid</span> Car&gt; cars)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„æ–¹æ³•çº¦æŸ"><a href="#4-ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„æ–¹æ³•çº¦æŸ" class="headerlink" title="4. ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„æ–¹æ³•çº¦æŸ"></a>4. ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„æ–¹æ³•çº¦æŸ</h2><ul><li>éœ€è¦æ³¨æ„çš„è§„åˆ™<ul><li>æ–¹æ³•çš„è°ƒç”¨è€…å¿…é¡»æ»¡è¶³çš„å‰ææ¡ä»¶ä¸èƒ½åœ¨å­ç±»å‹ä¸­å¾—åˆ°åŠ å¼º</li><li>ä¿è¯æ–¹æ³•è°ƒç”¨è€…çš„åç½®æ¡ä»¶ä¸ä¼šåœ¨å­ç±»å‹ä¸­å‡å¼±</li></ul></li><li>å­ç±»éæ³•çš„æ–¹æ³•å‚æ•°çº¦æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.inheritance.parameter;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">(<span class="meta">@Max(75)</span> <span class="type">int</span> speedInMph)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.inheritance.parameter;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> <span class="keyword">implements</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">(<span class="meta">@Max(55)</span> <span class="type">int</span> speedInMph)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ¬¡ç»“æ„çš„å¹¶è¡Œç±»å‹ä¸­çš„éæ³•æ–¹æ³•å‚æ•°çº¦æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.inheritance.parallel;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">(<span class="meta">@Max(75)</span> <span class="type">int</span> speedInMph)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.inheritance.parallel;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">(<span class="type">int</span> speedInMph)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.inheritance.parallel;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RacingCar</span> <span class="keyword">implements</span> <span class="title class_">Car</span>, Vehicle &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">(<span class="type">int</span> speedInMph)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>çˆ¶ç±»å‹å’Œå­ç±»å‹æ–¹æ³•çš„è¿”å›å€¼çº¦æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.inheritance.returnvalue;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    List&lt;Person&gt; <span class="title function_">getPassengers</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.inheritance.returnvalue;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> <span class="keyword">implements</span> <span class="title class_">Vehicle</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Size(min = 1)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Person&gt; <span class="title function_">getPassengers</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äºŒã€éªŒè¯æ–¹æ³•çº¦æŸ"><a href="#äºŒã€éªŒè¯æ–¹æ³•çº¦æŸ" class="headerlink" title="äºŒã€éªŒè¯æ–¹æ³•çº¦æŸ"></a>äºŒã€éªŒè¯æ–¹æ³•çº¦æŸ</h1><h2 id="å†æ¥ä¸€è¾†è½¦"><a href="#å†æ¥ä¸€è¾†è½¦" class="headerlink" title="å†æ¥ä¸€è¾†è½¦"></a>å†æ¥ä¸€è¾†è½¦</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car2</span><span class="params">(<span class="meta">@NotNull</span> String manufacturer)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    @è‡ªå®šä¹‰è§„åˆ™</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car2</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drive</span><span class="params">(<span class="meta">@Max(75)</span> <span class="meta">@Min(22)</span> <span class="type">int</span> speedInMph)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Size(min = 1)</span></span><br><span class="line">    <span class="keyword">public</span> List <span class="title function_">getParams</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è·å–å·¥å…·"><a href="#è·å–å·¥å…·" class="headerlink" title="è·å–å·¥å…·"></a>è·å–å·¥å…·</h2><h2 id="1-æ ¡éªŒæ™®é€šæ–¹æ³•å‚æ•°"><a href="#1-æ ¡éªŒæ™®é€šæ–¹æ³•å‚æ•°" class="headerlink" title="1. æ ¡éªŒæ™®é€šæ–¹æ³•å‚æ•°"></a>1. æ ¡éªŒæ™®é€šæ–¹æ³•å‚æ•°</h2><h2 id="2-æµ‹è¯•æ™®é€šæ–¹æ³•è¿”å›å€¼"><a href="#2-æµ‹è¯•æ™®é€šæ–¹æ³•è¿”å›å€¼" class="headerlink" title="2. æµ‹è¯•æ™®é€šæ–¹æ³•è¿”å›å€¼"></a>2. æµ‹è¯•æ™®é€šæ–¹æ³•è¿”å›å€¼</h2><h2 id="3-æµ‹è¯•æ„é€ æ–¹æ³•å‚æ•°"><a href="#3-æµ‹è¯•æ„é€ æ–¹æ³•å‚æ•°" class="headerlink" title="3. æµ‹è¯•æ„é€ æ–¹æ³•å‚æ•°"></a>3. æµ‹è¯•æ„é€ æ–¹æ³•å‚æ•°</h2><h2 id="4-æµ‹è¯•æ„é€ æ–¹æ³•çš„è¿”å›å€¼"><a href="#4-æµ‹è¯•æ„é€ æ–¹æ³•çš„è¿”å›å€¼" class="headerlink" title="4. æµ‹è¯•æ„é€ æ–¹æ³•çš„è¿”å›å€¼"></a>4. æµ‹è¯•æ„é€ æ–¹æ³•çš„è¿”å›å€¼</h2><h1 id="ä¸‰ã€å†…ç½®æ–¹æ³•çº¦æŸ"><a href="#ä¸‰ã€å†…ç½®æ–¹æ³•çº¦æŸ" class="headerlink" title="ä¸‰ã€å†…ç½®æ–¹æ³•çº¦æŸ"></a>ä¸‰ã€å†…ç½®æ–¹æ³•çº¦æŸ</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter03.parameterscriptassert;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@ParameterScriptAssert(lang = &quot;javascript&quot;, script = &quot;luggage.size() &lt;= passengers.size() * 2&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">load</span><span class="params">(List&lt;Person&gt; passengers, List&lt;PieceOfLuggage&gt; luggage)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">```        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Hibernate Validator </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å£°æ˜æ–¹æ³•çº¦æŸ </tag>
            
            <tag> äº¤å‰å‚æ•°çº¦æŸ </tag>
            
            <tag> è¿”å›å€¼çº¦æŸ </tag>
            
            <tag> çº§è”éªŒè¯ </tag>
            
            <tag> ç»§æ‰¿å±‚æ¬¡ç»“æ„ä¸­çš„æ–¹æ³•çº¦æŸ </tag>
            
            <tag> æ ¡éªŒæ™®é€šæ–¹æ³•å‚æ•° </tag>
            
            <tag> æµ‹è¯•æ™®é€šæ–¹æ³•è¿”å›å€¼ </tag>
            
            <tag> æµ‹è¯•æ„é€ æ–¹æ³•å‚æ•° </tag>
            
            <tag> æµ‹è¯•æ„é€ æ–¹æ³•çš„è¿”å›å€¼ </tag>
            
            <tag> å†…ç½®æ–¹æ³•çº¦æŸ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€hibernate validatorã€‘ï¼ˆäºŒï¼‰å£°æ˜å’ŒéªŒè¯Beançº¦æŸ</title>
      <link href="/caa11a30.html"/>
      <url>/caa11a30.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="ä¸€ã€å£°æ˜beançº¦æŸ"><a href="#ä¸€ã€å£°æ˜beançº¦æŸ" class="headerlink" title="ä¸€ã€å£°æ˜beançº¦æŸ"></a>ä¸€ã€å£°æ˜beançº¦æŸ</h1><h2 id="1-å­—æ®µçº§åˆ«çº¦æŸ"><a href="#1-å­—æ®µçº§åˆ«çº¦æŸ" class="headerlink" title="1. å­—æ®µçº§åˆ«çº¦æŸ"></a>1. å­—æ®µçº§åˆ«çº¦æŸ</h2><ol><li>ä¸æ”¯æŒé™æ€ç±»å‹å­—æ®µ</li><li>éªŒè¯å¼•æ“ç›´æ¥è®¿é—®å®ä¾‹å˜é‡ï¼Œä¸ä¼šè°ƒç”¨å±æ€§çš„è®¿é—®å™¨</li><li>åœ¨éªŒè¯å­—èŠ‚ç å¢å¼ºçš„å¯¹è±¡æ—¶ï¼Œåº”é€‚ç”¨å±æ€§çº§åˆ«çº¦æŸï¼Œå› ä¸ºå­—èŠ‚ç å¢åº“æ— æ³•é€šè¿‡åå°„ç¡®å®šå­—æ®µè®¿é—®</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.fieldlevel;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@AssertTrue</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> isRegistered;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String manufacturer, <span class="type">boolean</span> isRegistered)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.isRegistered = isRegistered;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//getters and setters...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-å±æ€§çº§åˆ«çº¦æŸ"><a href="#2-å±æ€§çº§åˆ«çº¦æŸ" class="headerlink" title="2. å±æ€§çº§åˆ«çº¦æŸ"></a>2. å±æ€§çº§åˆ«çº¦æŸ</h2><ol><li>å¿…é¡»æ³¨é‡Šgetterè€Œä¸æ˜¯setterï¼Œè¿™æ ·å¯ä»¥é™åˆ¶æ²¡æœ‰è®¾ç½®æ–¹æ³•çš„åªè¯»å±æ€§</li><li>è¯¥çº§åˆ«å°†ä½¿ç”¨å±æ€§è®¿é—®ç­–ç•¥æ¥è®¿é—®éªŒè¯çš„å€¼ï¼Œå³éªŒè¯å¼•æ“é€šè¿‡å±æ€§è®¿é—®å™¨æ¥è®¿é—®æ•°æ®</li><li>ä¸è¦å­—æ®µå’Œgetteréƒ½åŠ æ ¡éªŒï¼Œè¿™æ ·ä¼šå¯¼è‡´æ ¡éªŒä¸¤æ¬¡</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.propertylevel;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> isRegistered;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String manufacturer, <span class="type">boolean</span> isRegistered)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.isRegistered = isRegistered;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getManufacturer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setManufacturer</span><span class="params">(String manufacturer)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@AssertTrue</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isRegistered</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> isRegistered;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRegistered</span><span class="params">(<span class="type">boolean</span> isRegistered)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.isRegistered = isRegistered;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>å®¹å™¨å…ƒç´ çº¦æŸ</li></ol><h3 id="3-1-Iterable"><a href="#3-1-Iterable" class="headerlink" title="3.1 Iterable"></a>3.1 Iterable</h3><blockquote><p> åœ¨è¯¥ç±»å‹ä¸ŠåŠ çº¦æŸæ—¶ï¼Œå°†ä¼šæ ¡éªŒæ¯ä¸ªå…ƒç´ </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.set;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Set&lt;<span class="meta">@ValidPart</span> String&gt; parts = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addPart</span><span class="params">(String part)</span> &#123;</span><br><span class="line">        parts.add( part );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>();</span><br><span class="line">car.addPart( <span class="string">&quot;Wheel&quot;</span> );</span><br><span class="line">car.addPart( <span class="literal">null</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">ConstraintViolation&lt;Car&gt; constraintViolation =</span><br><span class="line">        constraintViolations.iterator().next();</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;&#x27;null&#x27; is not a valid car part.&quot;</span>,</span><br><span class="line">        constraintViolation.getMessage()</span><br><span class="line">);</span><br><span class="line">assertEquals( <span class="string">&quot;parts[].&lt;iterable element&gt;&quot;</span>,</span><br><span class="line">        constraintViolation.getPropertyPath().toString() );</span><br></pre></td></tr></table></figure><h3 id="3-2-List"><a href="#3-2-List" class="headerlink" title="3.2 List"></a>3.2 List</h3><blockquote><p> ä¹Ÿä¼šæ ¡éªŒæ¯ä¸ªå…ƒç´ </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.list;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;<span class="meta">@ValidPart</span> String&gt; parts = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addPart</span><span class="params">(String part)</span> &#123;</span><br><span class="line">        parts.add( part );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>();</span><br><span class="line">car.addPart( <span class="string">&quot;Wheel&quot;</span> );</span><br><span class="line">car.addPart( <span class="literal">null</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">ConstraintViolation&lt;Car&gt; constraintViolation =</span><br><span class="line">        constraintViolations.iterator().next();</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;&#x27;null&#x27; is not a valid car part.&quot;</span>,</span><br><span class="line">        constraintViolation.getMessage()</span><br><span class="line">);</span><br><span class="line">assertEquals( <span class="string">&quot;parts[1].&lt;list element&gt;&quot;</span>,</span><br><span class="line">        constraintViolation.getPropertyPath().toString() );</span><br></pre></td></tr></table></figure><h3 id="3-3-Map"><a href="#3-3-Map" class="headerlink" title="3.3 Map"></a>3.3 Map</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">FuelConsumption</span> &#123;</span><br><span class="line">        CITY,</span><br><span class="line">        HIGHWAY</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;<span class="meta">@NotNull</span> FuelConsumption, <span class="meta">@MaxAllowedFuelConsumption</span> Integer&gt; fuelConsumption = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setFuelConsumption</span><span class="params">(FuelConsumption consumption, <span class="type">int</span> value)</span> &#123;</span><br><span class="line">        fuelConsumption.put( consumption, value );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>();</span><br><span class="line">car.setFuelConsumption( Car.FuelConsumption.HIGHWAY, <span class="number">20</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">ConstraintViolation&lt;Car&gt; constraintViolation =</span><br><span class="line">        constraintViolations.iterator().next();</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;20 is outside the max fuel consumption.&quot;</span>,</span><br><span class="line">        constraintViolation.getMessage()</span><br><span class="line">);</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;fuelConsumption[HIGHWAY].&lt;map value&gt;&quot;</span>,</span><br><span class="line">        constraintViolation.getPropertyPath().toString()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>();</span><br><span class="line">car.setFuelConsumption( <span class="literal">null</span>, <span class="number">5</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">ConstraintViolation&lt;Car&gt; constraintViolation =</span><br><span class="line">        constraintViolations.iterator().next();</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;must not be null&quot;</span>,</span><br><span class="line">        constraintViolation.getMessage()</span><br><span class="line">);</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;fuelConsumption&lt;K&gt;[].&lt;map key&gt;&quot;</span>,</span><br><span class="line">        constraintViolation.getPropertyPath().toString()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="3-4-Optional"><a href="#3-4-Optional" class="headerlink" title="3.4 Optional"></a>3.4 Optional</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.optional;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Optional&lt;<span class="meta">@MinTowingCapacity(1000)</span> Integer&gt; towingCapacity = Optional.empty();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setTowingCapacity</span><span class="params">(Integer alias)</span> &#123;</span><br><span class="line">        towingCapacity = Optional.of( alias );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>();</span><br><span class="line">car.setTowingCapacity( <span class="number">100</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">ConstraintViolation&lt;Car&gt; constraintViolation = constraintViolations.iterator().next();</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;Not enough towing capacity.&quot;</span>,</span><br><span class="line">        constraintViolation.getMessage()</span><br><span class="line">);</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;towingCapacity&quot;</span>,</span><br><span class="line">        constraintViolation.getPropertyPath().toString()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="3-5-è‡ªå®šä¹‰å®¹å™¨"><a href="#3-5-è‡ªå®šä¹‰å®¹å™¨" class="headerlink" title="3.5 è‡ªå®šä¹‰å®¹å™¨"></a>3.5 è‡ªå®šä¹‰å®¹å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.custom;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> GearBox&lt;<span class="meta">@MinTorque(100)</span> Gear&gt; gearBox;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGearBox</span><span class="params">(GearBox&lt;Gear&gt; gearBox)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gearBox = gearBox;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.custom;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GearBox</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Gear</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> T gear;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">GearBox</span><span class="params">(T gear)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gear = gear;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Gear <span class="title function_">getGear</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.gear;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.custom;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Gear</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Integer torque;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Gear</span><span class="params">(Integer torque)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.torque = torque;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getTorque</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> torque;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">AcmeGear</span> <span class="keyword">extends</span> <span class="title class_">Gear</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">AcmeGear</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>( <span class="number">60</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.custom;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GearBoxValueExtractor</span> <span class="keyword">implements</span> <span class="title class_">ValueExtractor</span>&lt;GearBox&lt;<span class="meta">@ExtractedValue</span> ?&gt;&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">extractValues</span><span class="params">(GearBox&lt;<span class="meta">@ExtractedValue</span> ?&gt; originalValue, ValueExtractor.ValueReceiver receiver)</span> &#123;</span><br><span class="line">        receiver.value( <span class="literal">null</span>, originalValue.getGear() );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>();</span><br><span class="line">car.setGearBox( <span class="keyword">new</span> <span class="title class_">GearBox</span>&lt;&gt;( <span class="keyword">new</span> <span class="title class_">Gear</span>.AcmeGear() ) );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">ConstraintViolation&lt;Car&gt; constraintViolation =</span><br><span class="line">        constraintViolations.iterator().next();</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;Gear is not providing enough torque.&quot;</span>,</span><br><span class="line">        constraintViolation.getMessage()</span><br><span class="line">);</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;gearBox&quot;</span>,</span><br><span class="line">        constraintViolation.getPropertyPath().toString()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="3-6-åµŒå¥—å®¹å™¨å…ƒç´ "><a href="#3-6-åµŒå¥—å®¹å™¨å…ƒç´ " class="headerlink" title="3.6 åµŒå¥—å®¹å™¨å…ƒç´ "></a>3.6 åµŒå¥—å®¹å™¨å…ƒç´ </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.containerelement.nested;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Map&lt;<span class="meta">@NotNull</span> Part, List&lt;<span class="meta">@NotNull</span> Manufacturer&gt;&gt; partManufacturers =</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-ç±»çº§åˆ«çº¦æŸ"><a href="#4-ç±»çº§åˆ«çº¦æŸ" class="headerlink" title="4. ç±»çº§åˆ«çº¦æŸ"></a>4. ç±»çº§åˆ«çº¦æŸ</h2><ol><li>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒéªŒè¯çš„å¯¹è±¡ä¸æ˜¯å•ä¸ªå±æ€§è€Œæ˜¯å®Œæ•´çš„å¯¹è±¡</li><li>é€‚åˆä¾èµ–äºå¯¹è±¡çš„å¤šä¸ªå±æ€§ä¹‹é—´çš„ç›¸å…³æ€§å¾ˆé«˜çš„åœºæ™¯</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.classlevel;</span><br><span class="line"><span class="meta">@ValidPassengerCount</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> seatCount;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Person&gt; passengers;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-çº¦æŸç»§æ‰¿"><a href="#5-çº¦æŸç»§æ‰¿" class="headerlink" title="5. çº¦æŸç»§æ‰¿"></a>5. çº¦æŸç»§æ‰¿</h2><blockquote><p> åœ¨ä¸€ä¸ªç±»å®ç°æ¥å£æˆ–æ‰©å±•å¦ä¸€ä¸ªç±»æ—¶ï¼Œåœ¨è¶…ç±»ä¸Šå£°æ˜çš„æ‰€æœ‰çº¦æŸæ³¨é‡Šéƒ½ä»¥ä¸è¯¥ç±»æœ¬èº«ä¸ŠæŒ‡å®šçš„çº¦æŸç›¸åŒçš„æ–¹å¼çº¦æŸ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.inheritance;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getManufacturer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.inheritance;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentalCar</span> <span class="keyword">extends</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String rentalStation;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getRentalStation</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> rentalStation;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>RentalCar ä¸ä»…ä¼šæ ¡éªŒgetRentalStationï¼Œè€Œä¸”ä¼šæ ¡éªŒçˆ¶ç±»çš„getManufacturer</li><li>è‹¥ç»§æ‰¿æ¢æˆæ¥å£ï¼Œä¹Ÿæ˜¯ä¼šæ ¡éªŒè¶…ç±»çš„</li></ol><h2 id="6-å¯¹è±¡å›¾"><a href="#6-å¯¹è±¡å›¾" class="headerlink" title="6. å¯¹è±¡å›¾"></a>6. å¯¹è±¡å›¾</h2><blockquote><p> ä¸ä»…æ”¯æŒå•ä¸ªå¯¹è±¡æ ¡éªŒï¼Œè¿˜æ”¯æŒçº§è”éªŒè¯</p></blockquote><h4 id="å¯¹è±¡çš„çº§è”æ ¡éªŒ"><a href="#å¯¹è±¡çš„çº§è”æ ¡éªŒ" class="headerlink" title="å¯¹è±¡çš„çº§è”æ ¡éªŒ"></a>å¯¹è±¡çš„çº§è”æ ¡éªŒ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.objectgraph;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Valid</span></span><br><span class="line">    <span class="keyword">private</span> Person driver;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.objectgraph;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p> åœ¨æ ¡éªŒCarçš„æ—¶å€™ï¼Œä¼šæ ¡éªŒPersonï¼Œå› æ­¤è‹¥Carå¼•ç”¨çš„Personçš„nameä¸ºç©ºï¼Œåˆ™ä¼šæ ¡éªŒå¤±è´¥</p></blockquote><h4 id="å®¹å™¨çš„çº§è”æ ¡éªŒ"><a href="#å®¹å™¨çš„çº§è”æ ¡éªŒ" class="headerlink" title="å®¹å™¨çš„çº§è”æ ¡éªŒ"></a>å®¹å™¨çš„çº§è”æ ¡éªŒ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.objectgraph.containerelement;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;<span class="meta">@NotNull</span> <span class="meta">@Valid</span> Person&gt; passengers = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Person&gt;();</span><br><span class="line">    <span class="keyword">private</span> Map&lt;<span class="meta">@Valid</span> Part, List&lt;<span class="meta">@Valid</span> Manufacturer&gt;&gt; partManufacturers = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.objectgraph.containerelement;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Part</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter02.objectgraph.containerelement;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Manufacturer</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>æ ¡éªŒPersonçš„åå­—æ˜¯å¦å­˜åœ¨ä¸ºnullçš„</li><li>æ ¡éªŒPartçš„åå­—æ˜¯å¦å­˜åœ¨ä¸ºnullçš„</li><li>æ ¡éªŒæ‰€æœ‰çš„Manufactureræ˜¯å¦å­˜åœ¨åå­—ä¸ºnullçš„</li></ol><h1 id="äºŒã€éªŒè¯Beançº¦æŸ"><a href="#äºŒã€éªŒè¯Beançº¦æŸ" class="headerlink" title="äºŒã€éªŒè¯Beançº¦æŸ"></a>äºŒã€éªŒè¯Beançº¦æŸ</h1><h2 id="1-è·å–éªŒè¯å™¨"><a href="#1-è·å–éªŒè¯å™¨" class="headerlink" title="1. è·å–éªŒè¯å™¨"></a>1. è·å–éªŒè¯å™¨</h2><h2 id="2-éªŒè¯çš„ä¸‰ç§æ–¹å¼"><a href="#2-éªŒè¯çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="2. éªŒè¯çš„ä¸‰ç§æ–¹å¼"></a>2. éªŒè¯çš„ä¸‰ç§æ–¹å¼</h2><h3 id="å…ˆæ¥ä¸ªè½¦"><a href="#å…ˆæ¥ä¸ªè½¦" class="headerlink" title="å…ˆæ¥ä¸ªè½¦"></a>å…ˆæ¥ä¸ªè½¦</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min = 5,max = 20)</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@AssertTrue</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> isRegistered;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String manufacturer, <span class="type">boolean</span> isRegistered)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.isRegistered = isRegistered;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="beanå…¨éƒ¨éªŒè¯"><a href="#beanå…¨éƒ¨éªŒè¯" class="headerlink" title="beanå…¨éƒ¨éªŒè¯"></a>beanå…¨éƒ¨éªŒè¯</h3><h3 id="éªŒè¯å•ä¸ªå±æ€§"><a href="#éªŒè¯å•ä¸ªå±æ€§" class="headerlink" title="éªŒè¯å•ä¸ªå±æ€§"></a>éªŒè¯å•ä¸ªå±æ€§</h3><h3 id="å¯¹å±æ€§çš„å€¼è¿›è¡ŒéªŒè¯"><a href="#å¯¹å±æ€§çš„å€¼è¿›è¡ŒéªŒè¯" class="headerlink" title="å¯¹å±æ€§çš„å€¼è¿›è¡ŒéªŒè¯"></a>å¯¹å±æ€§çš„å€¼è¿›è¡ŒéªŒè¯</h3><h2 id="3-çº¦æŸè¿è§„"><a href="#3-çº¦æŸè¿è§„" class="headerlink" title="3. çº¦æŸè¿è§„"></a>3. çº¦æŸè¿è§„</h2><h3 id="å†…æ’çš„é”™è¯¯æ¶ˆæ¯"><a href="#å†…æ’çš„é”™è¯¯æ¶ˆæ¯" class="headerlink" title="å†…æ’çš„é”™è¯¯æ¶ˆæ¯"></a><strong>å†…æ’çš„é”™è¯¯æ¶ˆæ¯</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09:<span class="number">35</span>:<span class="number">00.446</span> [main] INFO com.bm.validate.TestValidatorBean - å†…æ’çš„é”™è¯¯æ¶ˆæ¯ï¼šåªèƒ½ä¸º<span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="éæ’è¡¥çš„é”™è¯¯æ¶ˆæ¯"><a href="#éæ’è¡¥çš„é”™è¯¯æ¶ˆæ¯" class="headerlink" title="éæ’è¡¥çš„é”™è¯¯æ¶ˆæ¯"></a>éæ’è¡¥çš„é”™è¯¯æ¶ˆæ¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09:<span class="number">35</span>:<span class="number">00.446</span> [main] INFO com.bm.validate.TestValidatorBean - éæ’è¡¥çš„é”™è¯¯æ¶ˆæ¯ï¼š&#123;javax.validation.constraints.AssertTrue.message&#125;</span><br></pre></td></tr></table></figure><h3 id="æ­£åœ¨éªŒè¯çš„æ ¹Bean"><a href="#æ­£åœ¨éªŒè¯çš„æ ¹Bean" class="headerlink" title="æ­£åœ¨éªŒè¯çš„æ ¹Bean"></a>æ­£åœ¨éªŒè¯çš„æ ¹Bean</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09:<span class="number">35</span>:<span class="number">00.446</span> [main] INFO com.bm.validate.TestValidatorBean - æ­£åœ¨éªŒè¯çš„æ ¹Beanï¼šcom.bm.validate.Car@7c83dc97</span><br></pre></td></tr></table></figure><h3 id="å¦‚æœæ˜¯beançº¦æŸï¼Œåˆ™å°†çº¦æŸåº”ç”¨åˆ°beanå®ä¾‹ï¼›å¦‚æœæ˜¯å±æ€§çº¦æŸï¼Œåˆ™æ˜¯æ‰˜ç®¡è¯¥çº¦æŸçš„å±æ€§çš„beanå®ä¾‹"><a href="#å¦‚æœæ˜¯beançº¦æŸï¼Œåˆ™å°†çº¦æŸåº”ç”¨åˆ°beanå®ä¾‹ï¼›å¦‚æœæ˜¯å±æ€§çº¦æŸï¼Œåˆ™æ˜¯æ‰˜ç®¡è¯¥çº¦æŸçš„å±æ€§çš„beanå®ä¾‹" class="headerlink" title="å¦‚æœæ˜¯beançº¦æŸï¼Œåˆ™å°†çº¦æŸåº”ç”¨åˆ°beanå®ä¾‹ï¼›å¦‚æœæ˜¯å±æ€§çº¦æŸï¼Œåˆ™æ˜¯æ‰˜ç®¡è¯¥çº¦æŸçš„å±æ€§çš„beanå®ä¾‹"></a>å¦‚æœæ˜¯beançº¦æŸï¼Œåˆ™å°†çº¦æŸåº”ç”¨åˆ°beanå®ä¾‹ï¼›å¦‚æœæ˜¯å±æ€§çº¦æŸï¼Œåˆ™æ˜¯æ‰˜ç®¡è¯¥çº¦æŸçš„å±æ€§çš„beanå®ä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09:<span class="number">35</span>:<span class="number">00.446</span> [main] INFO com.bm.validate.TestValidatorBean - å¦‚æœæ˜¯beançº¦æŸï¼Œåˆ™å°†çº¦æŸåº”ç”¨åˆ°beanå®ä¾‹ï¼›å¦‚æœæ˜¯å±æ€§çº¦æŸï¼Œåˆ™æ˜¯æ‰˜ç®¡è¯¥çº¦æŸçš„å±æ€§çš„beanå®ä¾‹ï¼šcom.bm.validate.Car@7c83dc97</span><br></pre></td></tr></table></figure><h3 id="beanéªŒè¯å™¨å€¼çš„å±æ€§è·¯å¾„"><a href="#beanéªŒè¯å™¨å€¼çš„å±æ€§è·¯å¾„" class="headerlink" title="beanéªŒè¯å™¨å€¼çš„å±æ€§è·¯å¾„"></a><strong>beanéªŒè¯å™¨å€¼çš„å±æ€§è·¯å¾„</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09:<span class="number">35</span>:<span class="number">00.447</span> [main] INFO com.bm.validate.TestValidatorBean - æ ¹beanéªŒè¯å™¨å€¼çš„å±æ€§è·¯å¾„ï¼šisRegistered</span><br></pre></td></tr></table></figure><h3 id="æŠ¥å‘Šçº¦æŸå¤±è´¥çš„åŸæ•°æ®"><a href="#æŠ¥å‘Šçº¦æŸå¤±è´¥çš„åŸæ•°æ®" class="headerlink" title="**æŠ¥å‘Šçº¦æŸå¤±è´¥çš„åŸæ•°æ®"></a>**<strong>æŠ¥å‘Šçº¦æŸå¤±è´¥çš„åŸæ•°æ®</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09:<span class="number">35</span>:<span class="number">00.447</span> [main] INFO com.bm.validate.TestValidatorBean - æŠ¥å‘Šçº¦æŸå¤±è´¥çš„åŸæ•°æ®ï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="å‘Šçº¦æŸå¤±è´¥çš„å…ƒæ•°æ®"><a href="#å‘Šçº¦æŸå¤±è´¥çš„å…ƒæ•°æ®" class="headerlink" title="å‘Šçº¦æŸå¤±è´¥çš„å…ƒæ•°æ®"></a><strong>å‘Šçº¦æŸå¤±è´¥çš„å…ƒæ•°æ®</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">09:<span class="number">35</span>:<span class="number">00.447</span> [main] INFO com.bm.validate.TestValidatorBean - æŠ¥å‘Šçº¦æŸå¤±è´¥çš„å…ƒæ•°æ®ï¼šConstraintDescriptorImpl&#123;annotation=j.v.c.AssertTrue, payloads=[], hasComposingConstraints=<span class="literal">true</span>, isReportAsSingleInvalidConstraint=<span class="literal">false</span>, elementType=FIELD, definedOn=DEFINED_LOCALLY, groups=[<span class="keyword">interface</span> <span class="title class_">javax</span>.validation.groups.Default], attributes=&#123;groups=[Ljava.lang.Class;@60015ef5, message=&#123;javax.validation.constraints.AssertTrue.message&#125;, payload=[Ljava.lang.Class;@2f54a33d&#125;, constraintType=GENERIC, valueUnwrapping=DEFAULT&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸‰ã€å†…ç½®çº¦æŸ"><a href="#ä¸‰ã€å†…ç½®çº¦æŸ" class="headerlink" title="ä¸‰ã€å†…ç½®çº¦æŸ"></a>ä¸‰ã€å†…ç½®çº¦æŸ</h1><h3 id="AssertFalse"><a href="#AssertFalse" class="headerlink" title="@AssertFalse"></a>@AssertFalse</h3><blockquote><p> æ£€æŸ¥å¸¦æ³¨é‡Šå…ƒç´ çš„å±æ€§ä¸ºfalse</p></blockquote><ul><li>Boolean, boolean</li></ul><h3 id="AssertTrue"><a href="#AssertTrue" class="headerlink" title="@AssertTrue"></a>@AssertTrue</h3><blockquote><p> æ£€æŸ¥å¸¦æ³¨é‡Šå…ƒç´ çš„å±æ€§ä¸ºTrue</p></blockquote><ul><li>Boolean,boolean</li></ul><h3 id="DecimalMax-value-inclusive"><a href="#DecimalMax-value-inclusive" class="headerlink" title="@DecimalMax(value&#x3D;, inclusive&#x3D;)"></a>@DecimalMax(value&#x3D;, inclusive&#x3D;)</h3><ul><li>inclusiveä¸ºfalseï¼Œæ£€æŸ¥å¸¦æ³¨é‡Šçš„å€¼æ˜¯å¦å°äºæŒ‡å®šçš„æœ€å¤§å€¼ã€‚å¦åˆ™ï¼Œè¯¥å€¼æ˜¯å¦å°äºç­‰äºæŒ‡å®šçš„æœ€å¤§å€¼</li><li>BigDecimal,BigInteger,CharSequence,byte,short,int,longï¼ŒåŸå§‹æ•°æ®åŒ…è£…ç±»,Number,javax.money.MonetaryAmountä»»æ„å­ç±»</li></ul><h3 id="DecimalMin-value-inclusive"><a href="#DecimalMin-value-inclusive" class="headerlink" title="@DecimalMin(value&#x3D;, inclusive&#x3D;)"></a>@DecimalMin(value&#x3D;, inclusive&#x3D;)</h3><ul><li>inclusiveä¸ºfalseï¼Œæ£€æŸ¥å¸¦æ³¨é‡Šçš„å€¼æ˜¯å¦å¤§äºæŒ‡å®šçš„æœ€å°å€¼ã€‚å¦åˆ™ï¼Œè¯¥å€¼æ˜¯å¦å¤§äºç­‰äºæŒ‡å®šçš„æœ€å°å€¼</li><li>BigDecimal,BigInteger,CharSequence,byte,short,int,longï¼ŒåŸå§‹æ•°æ®åŒ…è£…ç±»,Number,javax.money.MonetaryAmountä»»æ„å­ç±»</li></ul><h3 id="Digits-integer-fraction"><a href="#Digits-integer-fraction" class="headerlink" title="@Digits(integer&#x3D;, fraction&#x3D;)"></a>@Digits(integer&#x3D;, fraction&#x3D;)</h3><ul><li>integer æŒ‡å®šæ•´æ•°ä½æ•°é™åˆ¶ï¼ŒfractionæŒ‡å®šå°æ•°ä½æ•°é™åˆ¶</li><li>BigDecimal,BigInteger,CharSequence,byte,short,int,longï¼ŒåŸå§‹æ•°æ®åŒ…è£…ç±»,Number,javax.money.MonetaryAmountä»»æ„å­ç±»</li></ul><h3 id="Email"><a href="#Email" class="headerlink" title="@Email"></a>@Email</h3><ul><li>æ˜¯å¦ä¸ºæœ‰æ•ˆçš„ç”µå­é‚®ç®±åœ°å€</li><li>regexpå’Œflagså‚æ•°æŒ‡å®šæ­£åˆ™è§„åˆ™ï¼Œå¿…é¡»åŒ¹é…çš„å…¶å®ƒè¡¨è¾¾å¼</li><li>CharSequence</li></ul><h3 id="Future"><a href="#Future" class="headerlink" title="@Future"></a>@Future</h3><ul><li>æ£€æŸ¥æ˜¯å¦æ˜¯å°†æ¥çš„æ—¥æœŸ</li><li>java.util.Dateï¼Œjava.util.Calendarï¼Œjava.time.Instantï¼Œjava.time.LocalDateï¼Œjava.time.LocalDateTimeï¼Œjava.time.LocalTimeï¼Œjava.time.MonthDayï¼Œjava.time.OffsetDateTimeï¼Œjava.time.OffsetTimeï¼Œjava.time.Yearï¼Œjava.time.YearMonthï¼Œjava.time.ZonedDateTimeï¼Œjava.time.chrono.HijrahDateï¼Œjava.time.chrono.JapaneseDateï¼Œjava.time.chrono.MinguoDateï¼Œjava.time.chrono.ThaiBuddhistDate; å¦‚æœç±»è·¯å¾„ä¸Šæœ‰Joda Timeæ—¥æœŸ&#x2F;æ—¶é—´API ï¼Œåˆ™ç”±HVé¢å¤–æ”¯æŒï¼šReadablePartialå’Œçš„ä»»ä½•å®ç°ReadableInstant</li></ul><h3 id="FutureOnPresent"><a href="#FutureOnPresent" class="headerlink" title="@FutureOnPresent"></a>@FutureOnPresent</h3><ul><li>æ£€æŸ¥æ—¥æœŸæ˜¯å…ˆåœ¨è¿˜æ˜¯å°†æ¥</li><li>java.util.Dateï¼Œjava.util.Calendarï¼Œjava.time.Instantï¼Œjava.time.LocalDateï¼Œjava.time.LocalDateTimeï¼Œjava.time.LocalTimeï¼Œjava.time.MonthDayï¼Œjava.time.OffsetDateTimeï¼Œjava.time.OffsetTimeï¼Œjava.time.Yearï¼Œjava.time.YearMonthï¼Œjava.time.ZonedDateTimeï¼Œjava.time.chrono.HijrahDateï¼Œjava.time.chrono.JapaneseDateï¼Œjava.time.chrono.MinguoDateï¼Œjava.time.chrono.ThaiBuddhistDate; å¦‚æœç±»è·¯å¾„ä¸Šæœ‰Joda Timeæ—¥æœŸ&#x2F;æ—¶é—´API ï¼Œåˆ™ç”±HVé¢å¤–æ”¯æŒï¼šReadablePartialå’Œçš„ä»»ä½•å®ç°ReadableInstant</li></ul><h3 id="Max-value"><a href="#Max-value" class="headerlink" title="@Max(value&#x3D;)"></a>@Max(value&#x3D;)</h3><ul><li>æ˜¯å¦å°äºæˆ–ç­‰äºè¯¥å€¼</li><li>BigDecimalï¼ŒBigIntegerï¼Œbyteï¼Œshortï¼Œintï¼Œlongå’ŒåŸå§‹ç±»å‹çš„ç›¸åº”çš„åŒ…è£…; HVé¢å¤–æ”¯æŒï¼šçš„ä»»ä½•å­ç±»å‹CharSequenceï¼ˆè¯„ä¼°å­—ç¬¦åºåˆ—è¡¨ç¤ºçš„æ•°å€¼ï¼‰ï¼ŒNumberå’Œçš„ä»»ä½•å­ç±»å‹javax.money.MonetaryAmount</li></ul><h3 id="Min-value"><a href="#Min-value" class="headerlink" title="@Min(value&#x3D;)"></a>@Min(value&#x3D;)</h3><ul><li>æ˜¯å¦å¤§äºæˆ–ç­‰äºè¯¥å€¼</li><li>BigDecimalï¼ŒBigIntegerï¼Œbyteï¼Œshortï¼Œintï¼Œlongå’ŒåŸå§‹ç±»å‹çš„ç›¸åº”çš„åŒ…è£…; HVé¢å¤–æ”¯æŒï¼šçš„ä»»ä½•å­ç±»å‹CharSequenceï¼ˆè¯„ä¼°å­—ç¬¦åºåˆ—è¡¨ç¤ºçš„æ•°å€¼ï¼‰ï¼ŒNumberå’Œçš„ä»»ä½•å­ç±»å‹javax.money.MonetaryAmount</li></ul><h3 id="NotBlank"><a href="#NotBlank" class="headerlink" title="@NotBlank"></a>@NotBlank</h3><ul><li>æŒ‡å®šå­—ç¬¦ä¸ä¸ºnullå¹¶ä¸”é•¿åº¦å¤§äº0</li><li>CharSequence</li></ul><h3 id="NotEmpty"><a href="#NotEmpty" class="headerlink" title="@NotEmpty"></a>@NotEmpty</h3><ul><li>æŒ‡å®šå­—ç¬¦ä¸ä¸ºnullæˆ–ä¸ºç©ºï¼ˆå»é™¤å°¾éšç©ºæ ¼ï¼‰</li><li>CharSequenceï¼ŒCollectionï¼ŒMapå’Œæ•°ç»„</li></ul><h3 id="NotNull"><a href="#NotNull" class="headerlink" title="@NotNull"></a>@NotNull</h3><ul><li>æ£€æŸ¥æ³¨é‡Šçš„å€¼ä¸ä¸ºnull</li><li>æ‰€æœ‰ç±»å‹å‡æ”¯æŒ</li></ul><h3 id="Negative"><a href="#Negative" class="headerlink" title="@Negative"></a>@Negative</h3><ul><li>æ£€æŸ¥å…ƒç´ æ˜¯å¦ä¸¥æ ¼ä¸ºè´Ÿï¼Œé›¶è¢«è§†ä¸ºæ— æ•ˆ</li><li>BigDecimalï¼ŒBigIntegerï¼Œbyteï¼Œshortï¼Œintï¼Œlongå’ŒåŸå§‹ç±»å‹çš„ç›¸åº”çš„åŒ…è£…; HVé¢å¤–æ”¯æŒï¼šçš„ä»»ä½•å­ç±»å‹CharSequenceï¼ˆè¯„ä¼°å­—ç¬¦åºåˆ—è¡¨ç¤ºçš„æ•°å€¼ï¼‰ï¼ŒNumberå’Œçš„ä»»ä½•å­ç±»å‹javax.money.MonetaryAmount</li></ul><h3 id="NegativeOrZero"><a href="#NegativeOrZero" class="headerlink" title="@NegativeOrZero"></a>@NegativeOrZero</h3><ul><li>æ£€æŸ¥å…ƒç´ æ˜¯è´Ÿæ•°æˆ–0</li><li>BigDecimalï¼ŒBigIntegerï¼Œbyteï¼Œshortï¼Œintï¼Œlongå’ŒåŸå§‹ç±»å‹çš„ç›¸åº”çš„åŒ…è£…; HVé¢å¤–æ”¯æŒï¼šçš„ä»»ä½•å­ç±»å‹CharSequenceï¼ˆè¯„ä¼°å­—ç¬¦åºåˆ—è¡¨ç¤ºçš„æ•°å€¼ï¼‰ï¼ŒNumberå’Œçš„ä»»ä½•å­ç±»å‹javax.money.MonetaryAmount</li></ul><h3 id="Null"><a href="#Null" class="headerlink" title="@Null"></a>@Null</h3><ul><li>æ£€æŸ¥æ³¨é‡Šçš„å€¼æ˜¯null</li><li>æ‰€æœ‰ç±»å‹å‡æ”¯æŒ</li></ul><h3 id="Past"><a href="#Past" class="headerlink" title="@Past"></a>@Past</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„æ—¥æœŸæ˜¯å¦æ˜¯è¿‡å»çš„æ—¥æœŸ</li><li>java.util.Dateï¼Œjava.util.Calendarï¼Œjava.time.Instantï¼Œjava.time.LocalDateï¼Œjava.time.LocalDateTimeï¼Œjava.time.LocalTimeï¼Œjava.time.MonthDayï¼Œjava.time.OffsetDateTimeï¼Œjava.time.OffsetTimeï¼Œjava.time.Yearï¼Œjava.time.YearMonthï¼Œjava.time.ZonedDateTimeï¼Œjava.time.chrono.HijrahDateï¼Œjava.time.chrono.JapaneseDateï¼Œjava.time.chrono.MinguoDateï¼Œjava.time.chrono.ThaiBuddhistDate; å¦‚æœç±»è·¯å¾„ä¸Šæœ‰Joda Timeæ—¥æœŸ&#x2F;æ—¶é—´API ï¼Œåˆ™ç”±HVé™„åŠ æ”¯æŒï¼šReadablePartialå’Œçš„ä»»ä½•å®ç°ReadableInstant</li></ul><h3 id="PastOrPresent"><a href="#PastOrPresent" class="headerlink" title="@PastOrPresent"></a>@PastOrPresent</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„æ—¥æœŸæ˜¯è¿‡å»è¿˜æ˜¯ç°åœ¨</li><li>java.util.Dateï¼Œjava.util.Calendarï¼Œjava.time.Instantï¼Œjava.time.LocalDateï¼Œjava.time.LocalDateTimeï¼Œjava.time.LocalTimeï¼Œjava.time.MonthDayï¼Œjava.time.OffsetDateTimeï¼Œjava.time.OffsetTimeï¼Œjava.time.Yearï¼Œjava.time.YearMonthï¼Œjava.time.ZonedDateTimeï¼Œjava.time.chrono.HijrahDateï¼Œjava.time.chrono.JapaneseDateï¼Œjava.time.chrono.MinguoDateï¼Œjava.time.chrono.ThaiBuddhistDate; å¦‚æœç±»è·¯å¾„ä¸Šæœ‰Joda Timeæ—¥æœŸ&#x2F;æ—¶é—´API ï¼Œåˆ™ç”±HVé™„åŠ æ”¯æŒï¼šReadablePartialå’Œçš„ä»»ä½•å®ç°ReadableInstant</li></ul><h3 id="Pattern-regex-flags"><a href="#Pattern-regex-flags" class="headerlink" title="@Pattern(regex&#x3D;, flags&#x3D;)"></a>@Pattern(regex&#x3D;, flags&#x3D;)</h3><ul><li>regexè€ƒè™‘ç»™å®šæ ‡å¿—ï¼Œæ£€æŸ¥å¸¦æ³¨é‡Šçš„å­—ç¬¦ä¸²æ˜¯å¦ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…match</li><li>CharSequence</li></ul><h3 id="Positive"><a href="#Positive" class="headerlink" title="@Positive"></a>@Positive</h3><ul><li>æ£€æŸ¥å…ƒç´ æ˜¯å¦ä¸¥æ ¼ä¸ºæ­£ã€‚é›¶å€¼è¢«è§†ä¸ºæ— æ•ˆ</li><li>BigDecimalï¼ŒBigIntegerï¼Œbyteï¼Œshortï¼Œintï¼Œlongå’ŒåŸå§‹ç±»å‹çš„ç›¸åº”çš„åŒ…è£…; HVé¢å¤–æ”¯æŒï¼šçš„ä»»ä½•å­ç±»å‹CharSequenceï¼ˆè¯„ä¼°å­—ç¬¦åºåˆ—è¡¨ç¤ºçš„æ•°å€¼ï¼‰ï¼ŒNumberå’Œçš„ä»»ä½•å­ç±»å‹javax.money.MonetaryAmount</li></ul><h3 id="PositiveOrZero"><a href="#PositiveOrZero" class="headerlink" title="@PositiveOrZero"></a>@PositiveOrZero</h3><ul><li>æ£€æŸ¥å…ƒç´ æ˜¯å¦ä¸¥æ ¼ä¸ºæ­£æˆ–é›¶</li><li>BigDecimalï¼ŒBigIntegerï¼Œbyteï¼Œshortï¼Œintï¼Œlongå’ŒåŸå§‹ç±»å‹çš„ç›¸åº”çš„åŒ…è£…; HVé¢å¤–æ”¯æŒï¼šçš„ä»»ä½•å­ç±»å‹CharSequenceï¼ˆè¯„ä¼°å­—ç¬¦åºåˆ—è¡¨ç¤ºçš„æ•°å€¼ï¼‰ï¼ŒNumberå’Œçš„ä»»ä½•å­ç±»å‹javax.money.MonetaryAmount</li></ul><h3 id="Size-min-max"><a href="#Size-min-max" class="headerlink" title="@Size(min&#x3D;, max&#x3D;)"></a>@Size(min&#x3D;, max&#x3D;)</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„å…ƒç´ çš„å¤§å°æ˜¯å¦ä»‹äºminå’Œä¹‹é—´maxï¼ˆåŒ…æ‹¬ï¼‰</li><li>CharSequenceï¼ŒCollectionï¼ŒMapå’Œæ•°ç»„</li></ul><h3 id="CreditCardNumber-ignoreNonDigitCharacters"><a href="#CreditCardNumber-ignoreNonDigitCharacters" class="headerlink" title="@CreditCardNumber(ignoreNonDigitCharacters&#x3D;)"></a>@CreditCardNumber(ignoreNonDigitCharacters&#x3D;)</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„å­—ç¬¦åºåˆ—æ˜¯å¦é€šè¿‡äº†Luhnæ ¡éªŒå’Œæµ‹è¯•</li><li>ignoreNonDigitCharacterså…è®¸å¿½ç•¥éæ•°å­—å­—ç¬¦ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚</li><li>CharSequence</li></ul><h3 id="Currency-value"><a href="#Currency-value" class="headerlink" title="@Currency(value&#x3D;)"></a>@Currency(value&#x3D;)</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„è´§å¸å•ä½javax.money.MonetaryAmountæ˜¯å¦ä¸ºæŒ‡å®šè´§å¸å•ä½çš„ä¸€éƒ¨åˆ†ã€‚</li><li>javax.money.MonetaryAmount</li></ul><h3 id="DurationMax-days-hours-minutes-seconds-millis-nanos-inclusive"><a href="#DurationMax-days-hours-minutes-seconds-millis-nanos-inclusive" class="headerlink" title="@DurationMax(days&#x3D;, hours&#x3D;, minutes&#x3D;, seconds&#x3D;, millis&#x3D;, nanos&#x3D;, inclusive&#x3D;)"></a>@DurationMax(days&#x3D;, hours&#x3D;, minutes&#x3D;, seconds&#x3D;, millis&#x3D;, nanos&#x3D;, inclusive&#x3D;)</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„java.time.Durationå…ƒç´ ä¸å¤§äºç”±æ³¨é‡Šå‚æ•°æ„é€ çš„å…ƒç´ ã€‚å¦‚æœå°†inclusiveflagè®¾ç½®ä¸ºï¼Œåˆ™å…è®¸å¹³ç­‰true</li><li>java.time.Duration</li></ul><h3 id="DurationMin-days-hours-minutes-seconds-millis-nanos-inclusive"><a href="#DurationMin-days-hours-minutes-seconds-millis-nanos-inclusive" class="headerlink" title="@DurationMin(days&#x3D;, hours&#x3D;, minutes&#x3D;, seconds&#x3D;, millis&#x3D;, nanos&#x3D;, inclusive&#x3D;)"></a>@DurationMin(days&#x3D;, hours&#x3D;, minutes&#x3D;, seconds&#x3D;, millis&#x3D;, nanos&#x3D;, inclusive&#x3D;)</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„java.time.Durationå…ƒç´ ä¸å°‘äºç”±æ³¨é‡Šå‚æ•°æ„é€ çš„å…ƒç´ ã€‚å¦‚æœå°†inclusiveflagè®¾ç½®ä¸ºï¼Œåˆ™å…è®¸å¹³ç­‰trueã€‚</li><li>java.time.Duration</li></ul><h3 id="EAN"><a href="#EAN" class="headerlink" title="@EAN"></a>@EAN</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„å­—ç¬¦åºåˆ—æ˜¯æœ‰æ•ˆçš„EANæ¡å½¢ç ã€‚ç±»å‹å†³å®šæ¡å½¢ç çš„ç±»å‹</li><li>CharSequence</li></ul><h3 id="ISBN"><a href="#ISBN" class="headerlink" title="@ISBN"></a>@ISBN</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„å­—ç¬¦åºåˆ—æ˜¯æœ‰æ•ˆçš„ISBN</li><li>CharSequence</li></ul><h3 id="Length-min-max"><a href="#Length-min-max" class="headerlink" title="@Length(min&#x3D;, max&#x3D;)"></a>@Length(min&#x3D;, max&#x3D;)</h3><ul><li>éªŒè¯è¯¥æ³¨é‡Šå­—ç¬¦åºåˆ—æ˜¯é—´minå’ŒmaxåŒ…å«</li><li>CharSequence</li></ul><h3 id="Range-min-max"><a href="#Range-min-max" class="headerlink" title="@Range(min&#x3D;, max&#x3D;)"></a>@Range(min&#x3D;, max&#x3D;)</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„å€¼æ˜¯å¦ä»‹äºï¼ˆåŒ…æ‹¬ï¼‰æŒ‡å®šçš„æœ€å°å€¼å’Œæœ€å¤§å€¼ä¹‹é—´</li><li>BigDecimalï¼ŒBigIntegerï¼ŒCharSequenceï¼Œbyteï¼Œshortï¼Œintï¼Œlongå’ŒåŸå§‹ç±»å‹çš„ç›¸åº”çš„åŒ…è£…</li></ul><h3 id="UniqueElements"><a href="#UniqueElements" class="headerlink" title="@UniqueElements"></a>@UniqueElements</h3><ul><li>æ£€æŸ¥å¸¦æ³¨é‡Šçš„é›†åˆä»…åŒ…å«å”¯ä¸€å…ƒç´ ã€‚ä½¿ç”¨è¯¥equals()æ–¹æ³•ç¡®å®šç›¸ç­‰æ€§ã€‚é»˜è®¤æ¶ˆæ¯ä¸åŒ…æ‹¬é‡å¤å…ƒç´ çš„åˆ—è¡¨ï¼Œä½†æ˜¯æ‚¨å¯ä»¥é€šè¿‡è¦†ç›–æ¶ˆæ¯å¹¶ä½¿ç”¨{duplicates}messageå‚æ•°æ¥åŒ…æ‹¬å®ƒã€‚é‡å¤å…ƒç´ çš„åˆ—è¡¨ä¹ŸåŒ…å«åœ¨çº¦æŸè¿åçš„åŠ¨æ€æœ‰æ•ˆè´Ÿè½½ä¸­ã€‚</li><li>Collectionï¿½ï¿½è´Ÿè½½ä¸­ã€‚</li><li>Collection</li></ul></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      
        <tags>
            
            <tag> æ ¡éªŒ </tag>
            
            <tag> Hibernate Validator </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€hibernate validatorã€‘ï¼ˆäº”ï¼‰åˆ†ç»„çº¦æŸ</title>
      <link href="/7394ca34.html"/>
      <url>/7394ca34.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="ä¸€ã€è¯·æ±‚ç»„"><a href="#ä¸€ã€è¯·æ±‚ç»„" class="headerlink" title="ä¸€ã€è¯·æ±‚ç»„"></a>ä¸€ã€è¯·æ±‚ç»„</h1><h2 id="1-äººç»„"><a href="#1-äººç»„" class="headerlink" title="1. äººç»„"></a>1. äººç»„</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter05;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-é©±åŠ¨ç»„"><a href="#2-é©±åŠ¨ç»„" class="headerlink" title="2. é©±åŠ¨ç»„"></a>2. é©±åŠ¨ç»„</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Driver</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="meta">@Min(</span></span><br><span class="line"><span class="meta">            value = 18,</span></span><br><span class="line"><span class="meta">            message = &quot;You have to be 18 to drive a car&quot;,</span></span><br><span class="line"><span class="meta">            groups = DriverChecks.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="meta">@AssertTrue(</span></span><br><span class="line"><span class="meta">            message = &quot;You first have to pass the driving test&quot;,</span></span><br><span class="line"><span class="meta">            groups = DriverChecks.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> hasDrivingLicense;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Driver</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>( name );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">passedDrivingTest</span><span class="params">(<span class="type">boolean</span> b)</span> &#123;</span><br><span class="line">        hasDrivingLicense = b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-æ±½è½¦ç»„"><a href="#3-æ±½è½¦ç»„" class="headerlink" title="3. æ±½è½¦ç»„"></a>3. æ±½è½¦ç»„</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min = 2, max = 14)</span></span><br><span class="line">    <span class="keyword">private</span> String licensePlate;</span><br><span class="line">    <span class="meta">@Min(2)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> seatCount;</span><br><span class="line">    <span class="meta">@AssertTrue(</span></span><br><span class="line"><span class="meta">            message = &quot;The car has to pass the vehicle inspection first&quot;,</span></span><br><span class="line"><span class="meta">            groups = CarChecks.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> passedVehicleInspection;</span><br><span class="line">    <span class="meta">@Valid</span></span><br><span class="line">    <span class="keyword">private</span> Driver driver;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String manufacturer, String licencePlate, <span class="type">int</span> seatCount)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.licensePlate = licencePlate;</span><br><span class="line">        <span class="built_in">this</span>.seatCount = seatCount;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPassedVehicleInspection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> passedVehicleInspection;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassedVehicleInspection</span><span class="params">(<span class="type">boolean</span> passedVehicleInspection)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.passedVehicleInspection = passedVehicleInspection;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Driver <span class="title function_">getDriver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> driver;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDriver</span><span class="params">(Driver driver)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.driver = driver;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-ä½¿ç”¨éªŒè¯ç»„"><a href="#4-ä½¿ç”¨éªŒè¯ç»„" class="headerlink" title="4. ä½¿ç”¨éªŒè¯ç»„"></a>4. ä½¿ç”¨éªŒè¯ç»„</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// create a car and check that everything is ok with it.</span></span><br><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>( <span class="string">&quot;Morris&quot;</span>, <span class="string">&quot;DD-AB-123&quot;</span>, <span class="number">2</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">0</span>, constraintViolations.size() );</span><br><span class="line"><span class="comment">// but has it passed the vehicle inspection?</span></span><br><span class="line">constraintViolations = validator.validate( car, CarChecks.class );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;The car has to pass the vehicle inspection first&quot;</span>,</span><br><span class="line">        constraintViolations.iterator().next().getMessage()</span><br><span class="line">);</span><br><span class="line"><span class="comment">// let&#x27;s go to the vehicle inspection</span></span><br><span class="line">car.setPassedVehicleInspection( <span class="literal">true</span> );</span><br><span class="line">assertEquals( <span class="number">0</span>, validator.validate( car, CarChecks.class ).size() );</span><br><span class="line"><span class="comment">// now let&#x27;s add a driver. He is 18, but has not passed the driving test yet</span></span><br><span class="line"><span class="type">Driver</span> <span class="variable">john</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Driver</span>( <span class="string">&quot;John Doe&quot;</span> );</span><br><span class="line">john.setAge( <span class="number">18</span> );</span><br><span class="line">car.setDriver( john );</span><br><span class="line">constraintViolations = validator.validate( car, DriverChecks.class );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;You first have to pass the driving test&quot;</span>,</span><br><span class="line">        constraintViolations.iterator().next().getMessage()</span><br><span class="line">);</span><br><span class="line"><span class="comment">// ok, John passes the test</span></span><br><span class="line">john.passedDrivingTest( <span class="literal">true</span> );</span><br><span class="line">assertEquals( <span class="number">0</span>, validator.validate( car, DriverChecks.class ).size() );</span><br><span class="line"><span class="comment">// just checking that everything is in order now</span></span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="number">0</span>, validator.validate(</span><br><span class="line">        car,</span><br><span class="line">        Default.class,</span><br><span class="line">        CarChecks.class,</span><br><span class="line">        DriverChecks.class</span><br><span class="line">).size()</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h1 id="äºŒã€ç»„ç»§æ‰¿-ğŸ®"><a href="#äºŒã€ç»„ç»§æ‰¿-ğŸ®" class="headerlink" title="äºŒã€ç»„ç»§æ‰¿(ğŸ®)"></a>äºŒã€ç»„ç»§æ‰¿(ğŸ®)</h1><ul><li>å®šä¹‰ä¸€ä¸ªè¶…çº§è·‘è½¦</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SuperCar</span> <span class="keyword">extends</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@AssertTrue(</span></span><br><span class="line"><span class="meta">            message = &quot;Race car must have a safety belt&quot;,</span></span><br><span class="line"><span class="meta">            groups = RaceCarChecks.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> safetyBelt;</span><br><span class="line">    <span class="comment">// getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.validation.groups.Default;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">RaceCarChecks</span> <span class="keyword">extends</span> <span class="title class_">Default</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ç»„ç»§æ‰¿</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// create a supercar and check that it&#x27;s valid as a generic Car</span></span><br><span class="line"><span class="type">SuperCar</span> <span class="variable">superCar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SuperCar</span>( <span class="string">&quot;Morris&quot;</span>, <span class="string">&quot;DD-AB-123&quot;</span>, <span class="number">1</span>  );</span><br><span class="line">assertEquals( <span class="string">&quot;must be greater than or equal to 2&quot;</span>, validator.validate( superCar ).iterator().next().getMessage() );</span><br><span class="line"><span class="comment">// check that this supercar is valid as generic car and also as race car</span></span><br><span class="line">Set&lt;ConstraintViolation&lt;SuperCar&gt;&gt; constraintViolations = validator.validate( superCar, RaceCarChecks.class );</span><br><span class="line">assertThat( constraintViolations ).extracting( <span class="string">&quot;message&quot;</span> ).containsOnly(</span><br><span class="line">        <span class="string">&quot;Race car must have a safety belt&quot;</span>,</span><br><span class="line">        <span class="string">&quot;must be greater than or equal to 2&quot;</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h1 id="ä¸‰ã€å®šä¹‰ç»„åºåˆ—ï¼ˆğŸ®ï¼‰"><a href="#ä¸‰ã€å®šä¹‰ç»„åºåˆ—ï¼ˆğŸ®ï¼‰" class="headerlink" title="ä¸‰ã€å®šä¹‰ç»„åºåˆ—ï¼ˆğŸ®ï¼‰"></a>ä¸‰ã€å®šä¹‰ç»„åºåˆ—ï¼ˆğŸ®ï¼‰</h1><ul><li>å®šä¹‰åºåˆ—ç»„</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.validation.GroupSequence;</span><br><span class="line"><span class="keyword">import</span> javax.validation.groups.Default;</span><br><span class="line"><span class="meta">@GroupSequence(&#123; Default.class, CarChecks.class, DriverChecks.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderedChecks</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨åºåˆ—ç»„</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>( <span class="string">&quot;Morris&quot;</span>, <span class="string">&quot;DD-AB-123&quot;</span>, <span class="number">2</span> );</span><br><span class="line">car.setPassedVehicleInspection( <span class="literal">true</span> );</span><br><span class="line"><span class="type">Driver</span> <span class="variable">john</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Driver</span>( <span class="string">&quot;John Doe&quot;</span> );</span><br><span class="line">john.setAge( <span class="number">18</span> );</span><br><span class="line">john.passedDrivingTest( <span class="literal">true</span> );</span><br><span class="line">car.setDriver( john );</span><br><span class="line">assertEquals( <span class="number">0</span>, validator.validate( car, OrderedChecks.class ).size() );</span><br></pre></td></tr></table></figure><h1 id="å››ã€é‡æ–°å®šä¹‰é»˜è®¤çš„ç»„é¡ºåº"><a href="#å››ã€é‡æ–°å®šä¹‰é»˜è®¤çš„ç»„é¡ºåº" class="headerlink" title="å››ã€é‡æ–°å®šä¹‰é»˜è®¤çš„ç»„é¡ºåº"></a>å››ã€é‡æ–°å®šä¹‰é»˜è®¤çš„ç»„é¡ºåº</h1><h2 id="GroupSequence"><a href="#GroupSequence" class="headerlink" title="@GroupSequence"></a>@GroupSequence</h2><ul><li>å®šä¹‰ä¸€ä¸ªå…·æœ‰é‡å®šä¹‰çš„é»˜è®¤ç»„çš„ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GroupSequence(&#123; RentalChecks.class, CarChecks.class, RentalCar.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentalCar</span> <span class="keyword">extends</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@AssertFalse(message = &quot;The car is currently rented out&quot;, groups = RentalChecks.class)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> rented;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RentalCar</span><span class="params">(String manufacturer, String licencePlate, <span class="type">int</span> seatCount)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>( manufacturer, licencePlate, seatCount );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isRented</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> rented;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRented</span><span class="params">(<span class="type">boolean</span> rented)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.rented = rented;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">RentalChecks</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨é‡æ–°å®šä¹‰çš„é»˜è®¤ç»„</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">RentalCar</span> <span class="variable">rentalCar</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RentalCar</span>( <span class="string">&quot;Morris&quot;</span>, <span class="string">&quot;DD-AB-123&quot;</span>, <span class="number">2</span> );</span><br><span class="line">rentalCar.setPassedVehicleInspection( <span class="literal">true</span> );</span><br><span class="line">rentalCar.setRented( <span class="literal">true</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;RentalCar&gt;&gt; constraintViolations = validator.validate( rentalCar );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;Wrong message&quot;</span>,</span><br><span class="line">        <span class="string">&quot;The car is currently rented out&quot;</span>,</span><br><span class="line">        constraintViolations.iterator().next().getMessage()</span><br><span class="line">);</span><br><span class="line">rentalCar.setRented( <span class="literal">false</span> );</span><br><span class="line">constraintViolations = validator.validate( rentalCar );</span><br><span class="line">assertEquals( <span class="number">0</span>, constraintViolations.size() );</span><br></pre></td></tr></table></figure><h2 id="GroupSequenceProvider"><a href="#GroupSequenceProvider" class="headerlink" title="@GroupSequenceProvider"></a>@GroupSequenceProvider</h2><ul><li>å®ç°å’Œä½¿ç”¨é»˜è®¤ç»„åºåˆ—</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentalCarGroupSequenceProvider</span></span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">DefaultGroupSequenceProvider</span>&lt;RentalCar&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Class&lt;?&gt;&gt; getValidationGroups(RentalCar car) &#123;</span><br><span class="line">        List&lt;Class&lt;?&gt;&gt; defaultGroupSequence = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Class&lt;?&gt;&gt;();</span><br><span class="line">        defaultGroupSequence.add( RentalCar.class );</span><br><span class="line">        <span class="keyword">if</span> ( car != <span class="literal">null</span> &amp;&amp; !car.isRented() ) &#123;</span><br><span class="line">            defaultGroupSequence.add( CarChecks.class );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> defaultGroupSequence;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GroupSequenceProvider(RentalCarGroupSequenceProvider.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RentalCar</span> <span class="keyword">extends</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@AssertFalse(message = &quot;The car is currently rented out&quot;, groups = RentalChecks.class)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> rented;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RentalCar</span><span class="params">(String manufacturer, String licencePlate, <span class="type">int</span> seatCount)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>( manufacturer, licencePlate, seatCount );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isRented</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> rented;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRented</span><span class="params">(<span class="type">boolean</span> rented)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.rented = rented;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="äº”ã€ç»„è½¬æ¢ï¼ˆğŸ®ï¼‰"><a href="#äº”ã€ç»„è½¬æ¢ï¼ˆğŸ®ï¼‰" class="headerlink" title="äº”ã€ç»„è½¬æ¢ï¼ˆğŸ®ï¼‰"></a>äº”ã€ç»„è½¬æ¢ï¼ˆğŸ®ï¼‰</h1><ul><li>å¿…é¡»é›†åˆ@Validå“¦ï¼Œå¦åˆ™æŠ¥é”™</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Driver</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@Min(</span></span><br><span class="line"><span class="meta">            value = 18,</span></span><br><span class="line"><span class="meta">            message = &quot;You have to be 18 to drive a car&quot;,</span></span><br><span class="line"><span class="meta">            groups = DriverChecks.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="meta">@AssertTrue(</span></span><br><span class="line"><span class="meta">            message = &quot;You first have to pass the driving test&quot;,</span></span><br><span class="line"><span class="meta">            groups = DriverChecks.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> hasDrivingLicense;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Driver</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">passedDrivingTest</span><span class="params">(<span class="type">boolean</span> b)</span> &#123;</span><br><span class="line">        hasDrivingLicense = b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GroupSequence(&#123; CarChecks.class, Car.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min = 2, max = 14)</span></span><br><span class="line">    <span class="keyword">private</span> String licensePlate;</span><br><span class="line">    <span class="meta">@Min(2)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> seatCount;</span><br><span class="line">    <span class="meta">@AssertTrue(</span></span><br><span class="line"><span class="meta">            message = &quot;The car has to pass the vehicle inspection first&quot;,</span></span><br><span class="line"><span class="meta">            groups = CarChecks.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> passedVehicleInspection;</span><br><span class="line">    <span class="meta">@Valid</span></span><br><span class="line">    <span class="meta">@ConvertGroup(from = Default.class, to = DriverChecks.class)</span></span><br><span class="line">    <span class="keyword">private</span> Driver driver;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String manufacturer, String licencePlate, <span class="type">int</span> seatCount)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.licensePlate = licencePlate;</span><br><span class="line">        <span class="built_in">this</span>.seatCount = seatCount;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPassedVehicleInspection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> passedVehicleInspection;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassedVehicleInspection</span><span class="params">(<span class="type">boolean</span> passedVehicleInspection)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.passedVehicleInspection = passedVehicleInspection;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Driver <span class="title function_">getDriver</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> driver;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDriver</span><span class="params">(Driver driver)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.driver = driver;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// create a car and validate. The Driver is still null and does not get validated</span></span><br><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>( <span class="string">&quot;VW&quot;</span>, <span class="string">&quot;USD-123&quot;</span>, <span class="number">4</span> );</span><br><span class="line">car.setPassedVehicleInspection( <span class="literal">true</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">0</span>, constraintViolations.size() );</span><br><span class="line"><span class="comment">// create a driver who has not passed the driving test</span></span><br><span class="line"><span class="type">Driver</span> <span class="variable">john</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Driver</span>( <span class="string">&quot;John Doe&quot;</span> );</span><br><span class="line">john.setAge( <span class="number">18</span> );</span><br><span class="line"><span class="comment">// now let&#x27;s add a driver to the car</span></span><br><span class="line">car.setDriver( john );</span><br><span class="line">constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;The driver constraint should also be validated as part of the default group&quot;</span>,</span><br><span class="line">        constraintViolations.iterator().next().getMessage(),</span><br><span class="line">        <span class="string">&quot;You first have to pass the driving test&quot;</span></span><br><span class="line">);</span><br><span class="line">```ss the driving test<span class="string">&quot;</span></span><br><span class="line"><span class="string">);</span></span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Hibernate Validator </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ¡éªŒ </tag>
            
            <tag> java </tag>
            
            <tag> hibernate validator </tag>
            
            <tag> åˆ†ç»„çº¦æŸ </tag>
            
            <tag> äººç»„ </tag>
            
            <tag> é©±åŠ¨ç»„ </tag>
            
            <tag> æ±½è½¦ç»„ </tag>
            
            <tag> ä½¿ç”¨éªŒè¯ç»„ </tag>
            
            <tag> ç»„ç»§æ‰¿ </tag>
            
            <tag> ç»„åºåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€hibernate validatorã€‘ï¼ˆå…­ï¼‰åˆ›å»ºè‡ªå®šä¹‰çº¦æŸ</title>
      <link href="/ce362f84.html"/>
      <url>/ce362f84.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="ä¸€ã€åˆ›å»ºä¸€ä¸ªç®€å•çš„çº¦æŸ"><a href="#ä¸€ã€åˆ›å»ºä¸€ä¸ªç®€å•çš„çº¦æŸ" class="headerlink" title="ä¸€ã€åˆ›å»ºä¸€ä¸ªç®€å•çš„çº¦æŸ"></a>ä¸€ã€åˆ›å»ºä¸€ä¸ªç®€å•çš„çº¦æŸ</h1><h2 id="1-çº¦æŸæ³¨é‡Š"><a href="#1-çº¦æŸæ³¨é‡Š" class="headerlink" title="1. çº¦æŸæ³¨é‡Š"></a>1. çº¦æŸæ³¨é‡Š</h2><ul><li>æšä¸¾è¡¨ç¤ºå¤§å°å†™</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">CaseMode</span> &#123;</span><br><span class="line">    UPPER,</span><br><span class="line">    LOWER;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å®šä¹‰@CheckCaseçº¦æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.ANNOTATION_TYPE;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.FIELD;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.METHOD;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.PARAMETER;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.ElementType.TYPE_USE;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.annotation.RetentionPolicy.RUNTIME;</span><br><span class="line"><span class="meta">@Target(&#123; FIELD, METHOD, PARAMETER, ANNOTATION_TYPE, TYPE_USE &#125;)</span></span><br><span class="line"><span class="meta">@Retention(RUNTIME)</span></span><br><span class="line"><span class="meta">@Constraint(validatedBy = CheckCaseValidator.class)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Repeatable(List.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> CheckCase &#123;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&#123;org.hibernate.validator.referenceguide.chapter06.CheckCase.&quot;</span> +</span><br><span class="line">            <span class="string">&quot;message&#125;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    CaseMode <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">    <span class="meta">@Target(&#123; FIELD, METHOD, PARAMETER, ANNOTATION_TYPE &#125;)</span></span><br><span class="line">    <span class="meta">@Retention(RUNTIME)</span></span><br><span class="line">    <span class="meta">@Documented</span></span><br><span class="line">    <span class="meta">@interface</span> List &#123;</span><br><span class="line">        CheckCase[] value();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><ul><li>æµ‹è¯•ä¸€ä¸‹å§</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Severity</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Info</span> <span class="keyword">extends</span> <span class="title class_">Payload</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Error</span> <span class="keyword">extends</span> <span class="title class_">Payload</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ContactDetails</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;Name is mandatory&quot;, payload = Severity.Error.class)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;Phone number not specified, but not mandatory&quot;,</span></span><br><span class="line"><span class="meta">            payload = Severity.Info.class)</span></span><br><span class="line">    <span class="keyword">private</span> String phoneNumber;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><h4 id="Target-å®šä¹‰çº¦æŸæ‰€æ”¯æŒçš„ç›®æ ‡å…ƒç´ ç±»å‹"><a href="#Target-å®šä¹‰çº¦æŸæ‰€æ”¯æŒçš„ç›®æ ‡å…ƒç´ ç±»å‹" class="headerlink" title="@TargetÂ å®šä¹‰çº¦æŸæ‰€æ”¯æŒçš„ç›®æ ‡å…ƒç´ ç±»å‹"></a>@TargetÂ å®šä¹‰çº¦æŸæ‰€æ”¯æŒçš„ç›®æ ‡å…ƒç´ ç±»å‹</h4><h4 id="Retention-RUNTIME-ï¼šæŒ‡å®šæ­¤ç±»å‹çš„æ³¨é‡Šå°†åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„æ–¹å¼æä¾›"><a href="#Retention-RUNTIME-ï¼šæŒ‡å®šæ­¤ç±»å‹çš„æ³¨é‡Šå°†åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„æ–¹å¼æä¾›" class="headerlink" title="@Retention(RUNTIME)ï¼šæŒ‡å®šæ­¤ç±»å‹çš„æ³¨é‡Šå°†åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„æ–¹å¼æä¾›"></a>@Retention(RUNTIME)ï¼šæŒ‡å®šæ­¤ç±»å‹çš„æ³¨é‡Šå°†åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„æ–¹å¼æä¾›</h4><h4 id="Constraint-validatedBy-CheckCaseValidator-class-ï¼šå°†æ³¨é‡Šç±»å‹æ ‡è®°ä¸ºçº¦æŸæ³¨é‡Šï¼Œå¹¶æŒ‡å®šç”¨äºéªŒè¯å…ƒç´ çš„éªŒè¯å™¨"><a href="#Constraint-validatedBy-CheckCaseValidator-class-ï¼šå°†æ³¨é‡Šç±»å‹æ ‡è®°ä¸ºçº¦æŸæ³¨é‡Šï¼Œå¹¶æŒ‡å®šç”¨äºéªŒè¯å…ƒç´ çš„éªŒè¯å™¨" class="headerlink" title="@Constraint(validatedBy &#x3D; CheckCaseValidator.class)ï¼šå°†æ³¨é‡Šç±»å‹æ ‡è®°ä¸ºçº¦æŸæ³¨é‡Šï¼Œå¹¶æŒ‡å®šç”¨äºéªŒè¯å…ƒç´ çš„éªŒè¯å™¨"></a>@Constraint(validatedBy &#x3D; CheckCaseValidator.class)ï¼šå°†æ³¨é‡Šç±»å‹æ ‡è®°ä¸ºçº¦æŸæ³¨é‡Šï¼Œå¹¶æŒ‡å®šç”¨äºéªŒè¯å…ƒç´ çš„éªŒè¯å™¨</h4><h4 id="CheckCaseã€‚å¦‚æœå¯ä»¥åœ¨å‡ ç§æ•°æ®ç±»å‹ä¸Šä½¿ç”¨çº¦æŸï¼Œåˆ™å¯ä»¥æŒ‡å®šå‡ ä¸ªéªŒè¯å™¨ï¼Œæ¯ç§æ•°æ®ç±»å‹ä¸€ä¸ªã€‚"><a href="#CheckCaseã€‚å¦‚æœå¯ä»¥åœ¨å‡ ç§æ•°æ®ç±»å‹ä¸Šä½¿ç”¨çº¦æŸï¼Œåˆ™å¯ä»¥æŒ‡å®šå‡ ä¸ªéªŒè¯å™¨ï¼Œæ¯ç§æ•°æ®ç±»å‹ä¸€ä¸ªã€‚" class="headerlink" title="@CheckCaseã€‚å¦‚æœå¯ä»¥åœ¨å‡ ç§æ•°æ®ç±»å‹ä¸Šä½¿ç”¨çº¦æŸï¼Œåˆ™å¯ä»¥æŒ‡å®šå‡ ä¸ªéªŒè¯å™¨ï¼Œæ¯ç§æ•°æ®ç±»å‹ä¸€ä¸ªã€‚"></a>@CheckCaseã€‚å¦‚æœå¯ä»¥åœ¨å‡ ç§æ•°æ®ç±»å‹ä¸Šä½¿ç”¨çº¦æŸï¼Œåˆ™å¯ä»¥æŒ‡å®šå‡ ä¸ªéªŒè¯å™¨ï¼Œæ¯ç§æ•°æ®ç±»å‹ä¸€ä¸ªã€‚</h4><h4 id="Repeatable-List-class-ï¼šè¡¨ç¤ºæ³¨é‡Šå¯ä»¥åœ¨åŒä¸€ä½ç½®é‡å¤å¤šæ¬¡ï¼Œé€šå¸¸ä½¿ç”¨ä¸åŒçš„é…ç½®"><a href="#Repeatable-List-class-ï¼šè¡¨ç¤ºæ³¨é‡Šå¯ä»¥åœ¨åŒä¸€ä½ç½®é‡å¤å¤šæ¬¡ï¼Œé€šå¸¸ä½¿ç”¨ä¸åŒçš„é…ç½®" class="headerlink" title="@Repeatable(List.class)ï¼šè¡¨ç¤ºæ³¨é‡Šå¯ä»¥åœ¨åŒä¸€ä½ç½®é‡å¤å¤šæ¬¡ï¼Œé€šå¸¸ä½¿ç”¨ä¸åŒçš„é…ç½®"></a>@Repeatable(List.class)ï¼šè¡¨ç¤ºæ³¨é‡Šå¯ä»¥åœ¨åŒä¸€ä½ç½®é‡å¤å¤šæ¬¡ï¼Œé€šå¸¸ä½¿ç”¨ä¸åŒçš„é…ç½®</h4><h2 id="2-çº¦æŸéªŒè¯å™¨"><a href="#2-çº¦æŸéªŒè¯å™¨" class="headerlink" title="2. çº¦æŸéªŒè¯å™¨"></a>2. çº¦æŸéªŒè¯å™¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CheckCaseValidator</span> <span class="keyword">implements</span> <span class="title class_">ConstraintValidator</span>&lt;CheckCase, String&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> CaseMode caseMode;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">(CheckCase constraintAnnotation)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.caseMode = constraintAnnotation.value();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String object, ConstraintValidatorContext constraintContext)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ( object == <span class="literal">null</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ( caseMode == CaseMode.UPPER ) &#123;</span><br><span class="line">            <span class="keyword">return</span> object.equals( object.toUpperCase() );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> object.equals( object.toLowerCase() );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CheckCaseValidator</span> <span class="keyword">implements</span> <span class="title class_">ConstraintValidator</span>&lt;CheckCase, String&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> CaseMode caseMode;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">(CheckCase constraintAnnotation)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.caseMode = constraintAnnotation.value();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String object, ConstraintValidatorContext constraintContext)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ( object == <span class="literal">null</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">boolean</span> isValid;</span><br><span class="line">        <span class="keyword">if</span> ( caseMode == CaseMode.UPPER ) &#123;</span><br><span class="line">            isValid = object.equals( object.toUpperCase() );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            isValid = object.equals( object.toLowerCase() );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ( !isValid ) &#123;</span><br><span class="line">            constraintContext.disableDefaultConstraintViolation();</span><br><span class="line">            constraintContext.buildConstraintViolationWithTemplate(</span><br><span class="line">                    <span class="string">&quot;&#123;org.hibernate.validator.referenceguide.chapter06.&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;constraintvalidatorcontext.CheckCase.message&#125;&quot;</span></span><br><span class="line">            )</span><br><span class="line">            .addConstraintViolation();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isValid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>HibernateConstraintValidatorï¼ˆå¯¹åŸç‰ˆè¿›è¡Œæ‰©å±•ï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFutureValidator</span> <span class="keyword">implements</span> <span class="title class_">HibernateConstraintValidator</span>&lt;MyFuture, Instant&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> Clock clock;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> orPresent;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">(ConstraintDescriptor&lt;MyFuture&gt; constraintDescriptor,</span></span><br><span class="line"><span class="params">            HibernateConstraintValidatorInitializationContext initializationContext)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.orPresent = constraintDescriptor.getAnnotation().orPresent();</span><br><span class="line">        <span class="built_in">this</span>.clock = initializationContext.getClockProvider().getClock();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(Instant instant, ConstraintValidatorContext constraintContext)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°†æœ‰æ•ˆè´Ÿè½½ä¼ é€’ç»™çº¦æŸéªŒè¯å™¨"><a href="#å°†æœ‰æ•ˆè´Ÿè½½ä¼ é€’ç»™çº¦æŸéªŒè¯å™¨" class="headerlink" title="å°†æœ‰æ•ˆè´Ÿè½½ä¼ é€’ç»™çº¦æŸéªŒè¯å™¨"></a>å°†æœ‰æ•ˆè´Ÿè½½ä¼ é€’ç»™çº¦æŸéªŒè¯å™¨</h3><h3 id="åœ¨ValidatorFactoryåˆå§‹åŒ–æœŸé—´å®šä¹‰çº¦æŸéªŒè¯å™¨æœ‰æ•ˆè½½è·"><a href="#åœ¨ValidatorFactoryåˆå§‹åŒ–æœŸé—´å®šä¹‰çº¦æŸéªŒè¯å™¨æœ‰æ•ˆè½½è·" class="headerlink" title="- åœ¨ValidatorFactoryåˆå§‹åŒ–æœŸé—´å®šä¹‰çº¦æŸéªŒè¯å™¨æœ‰æ•ˆè½½è·"></a>- åœ¨ValidatorFactoryåˆå§‹åŒ–æœŸé—´å®šä¹‰çº¦æŸéªŒè¯å™¨æœ‰æ•ˆè½½è·</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ValidatorFactory</span> <span class="variable">validatorFactory</span> <span class="operator">=</span> Validation.byProvider( HibernateValidator.class )</span><br><span class="line">        .configure()</span><br><span class="line">        .constraintValidatorPayload( <span class="string">&quot;US&quot;</span> )</span><br><span class="line">        .buildValidatorFactory();</span><br><span class="line"><span class="type">Validator</span> <span class="variable">validator</span> <span class="operator">=</span> validatorFactory.getValidator();</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨Validatorä¸Šä¸‹æ–‡å®šä¹‰çº¦æŸéªŒè¯å™¨æœ‰æ•ˆè½½è·</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">HibernateValidatorFactory</span> <span class="variable">hibernateValidatorFactory</span> <span class="operator">=</span> Validation.byDefaultProvider()</span><br><span class="line">        .configure()</span><br><span class="line">        .buildValidatorFactory()</span><br><span class="line">        .unwrap( HibernateValidatorFactory.class );</span><br><span class="line"><span class="type">Validator</span> <span class="variable">validator</span> <span class="operator">=</span> hibernateValidatorFactory.usingContext()</span><br><span class="line">        .constraintValidatorPayload( <span class="string">&quot;US&quot;</span> )</span><br><span class="line">        .getValidator();</span><br><span class="line"><span class="comment">// [...] US specific validation checks</span></span><br><span class="line">validator = hibernateValidatorFactory.usingContext()</span><br><span class="line">        .constraintValidatorPayload( <span class="string">&quot;FR&quot;</span> )</span><br><span class="line">        .getValidator();</span><br><span class="line"><span class="comment">// [...] France specific validation checks</span></span><br></pre></td></tr></table></figure><ul><li>åœ¨çº¦æŸéªŒè¯å™¨ä¸­ä½¿ç”¨çº¦æŸéªŒè¯å™¨æœ‰æ•ˆè½½è·</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ZipCodeValidator</span> <span class="keyword">implements</span> <span class="title class_">ConstraintValidator</span>&lt;ZipCode, String&gt; &#123;</span><br><span class="line">    <span class="keyword">public</span> String countryCode;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String object, ConstraintValidatorContext constraintContext)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ( object == <span class="literal">null</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isValid</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">countryCode</span> <span class="operator">=</span> constraintContext</span><br><span class="line">                .unwrap( HibernateConstraintValidatorContext.class )</span><br><span class="line">                .getConstraintValidatorPayload( String.class );</span><br><span class="line">        <span class="keyword">if</span> ( <span class="string">&quot;US&quot;</span>.equals( countryCode ) ) &#123;</span><br><span class="line">            <span class="comment">// checks specific to the United States</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ( <span class="string">&quot;FR&quot;</span>.equals( countryCode ) ) &#123;</span><br><span class="line">            <span class="comment">// checks specific to France</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isValid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-é”™è¯¯è®¯æ¯"><a href="#3-é”™è¯¯è®¯æ¯" class="headerlink" title="3. é”™è¯¯è®¯æ¯"></a>3. é”™è¯¯è®¯æ¯</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">org.hibernate.validator.referenceguide.chapter06.CheckCase.message = æ¡ˆä¾‹æ¨¡å¼å¿…é¡»ä¸º&#123;value&#125;ã€‚</span><br></pre></td></tr></table></figure><h2 id="4-ä½¿ç”¨çº¦æŸ"><a href="#4-ä½¿ç”¨çº¦æŸ" class="headerlink" title="4. ä½¿ç”¨çº¦æŸ"></a>4. ä½¿ç”¨çº¦æŸ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="meta">@Size(min = 2, max = 14)</span></span><br><span class="line">    <span class="meta">@CheckCase(CaseMode.UPPER)</span></span><br><span class="line">    <span class="keyword">private</span> String licensePlate;</span><br><span class="line">    <span class="meta">@Min(2)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> seatCount;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String manufacturer, String licencePlate, <span class="type">int</span> seatCount)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.licensePlate = licencePlate;</span><br><span class="line">        <span class="built_in">this</span>.seatCount = seatCount;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨çº¦æŸéªŒè¯å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//invalid license plate</span></span><br><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>( <span class="string">&quot;Morris&quot;</span>, <span class="string">&quot;dd-ab-123&quot;</span>, <span class="number">4</span> );</span><br><span class="line">Set&lt;ConstraintViolation&lt;Car&gt;&gt; constraintViolations =</span><br><span class="line">        validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">1</span>, constraintViolations.size() );</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;Case mode must be UPPER.&quot;</span>,</span><br><span class="line">        constraintViolations.iterator().next().getMessage()</span><br><span class="line">);</span><br><span class="line"><span class="comment">//valid license plate</span></span><br><span class="line">car = <span class="keyword">new</span> <span class="title class_">Car</span>( <span class="string">&quot;Morris&quot;</span>, <span class="string">&quot;DD-AB-123&quot;</span>, <span class="number">4</span> );</span><br><span class="line">constraintViolations = validator.validate( car );</span><br><span class="line">assertEquals( <span class="number">0</span>, constraintViolations.size() );</span><br></pre></td></tr></table></figure><h1 id="äºŒã€ç±»çº§åˆ«çº¦æŸ"><a href="#äºŒã€ç±»çº§åˆ«çº¦æŸ" class="headerlink" title="äºŒã€ç±»çº§åˆ«çº¦æŸ"></a>äºŒã€ç±»çº§åˆ«çº¦æŸ</h1><ul><li>å®ç°ä¸€ä¸ªç±»çº§åˆ«çº¦æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123; TYPE, ANNOTATION_TYPE &#125;)</span></span><br><span class="line"><span class="meta">@Retention(RUNTIME)</span></span><br><span class="line"><span class="meta">@Constraint(validatedBy = &#123; ValidPassengerCountValidator.class &#125;)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ValidPassengerCount &#123;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&#123;org.hibernate.validator.referenceguide.chapter06.classlevel.&quot;</span> +</span><br><span class="line">            <span class="string">&quot;ValidPassengerCount.message&#125;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidPassengerCountValidator</span></span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">ConstraintValidator</span>&lt;ValidPassengerCount, Car&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">(ValidPassengerCount constraintAnnotation)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(Car car, ConstraintValidatorContext context)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ( car == <span class="literal">null</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> car.getPassengers().size() &lt;= car.getSeatCount();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰å±æ€§è·¯å¾„"><a href="#è‡ªå®šä¹‰å±æ€§è·¯å¾„" class="headerlink" title="è‡ªå®šä¹‰å±æ€§è·¯å¾„"></a>è‡ªå®šä¹‰å±æ€§è·¯å¾„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValidPassengerCountValidator</span></span><br><span class="line">        <span class="keyword">implements</span> <span class="title class_">ConstraintValidator</span>&lt;ValidPassengerCount, Car&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">(ValidPassengerCount constraintAnnotation)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(Car car, ConstraintValidatorContext constraintValidatorContext)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ( car == <span class="literal">null</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isValid</span> <span class="operator">=</span> car.getPassengers().size() &lt;= car.getSeatCount();</span><br><span class="line">        <span class="keyword">if</span> ( !isValid ) &#123;</span><br><span class="line">            constraintValidatorContext.disableDefaultConstraintViolation();</span><br><span class="line">            constraintValidatorContext</span><br><span class="line">                    .buildConstraintViolationWithTemplate( <span class="string">&quot;&#123;my.custom.template&#125;&quot;</span> )</span><br><span class="line">                    .addPropertyNode( <span class="string">&quot;passengers&quot;</span> ).addConstraintViolation();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> isValid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä¸‰ã€äº¤å‰çº§åˆ«çº¦æŸ"><a href="#ä¸‰ã€äº¤å‰çº§åˆ«çº¦æŸ" class="headerlink" title="ä¸‰ã€äº¤å‰çº§åˆ«çº¦æŸ"></a>ä¸‰ã€äº¤å‰çº§åˆ«çº¦æŸ</h1><ul><li>äº¤å‰çº§åˆ«çº¦æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Constraint(validatedBy = ConsistentDateParametersValidator.class)</span></span><br><span class="line"><span class="meta">@Target(&#123; METHOD, CONSTRUCTOR, ANNOTATION_TYPE &#125;)</span></span><br><span class="line"><span class="meta">@Retention(RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ConsistentDateParameters &#123;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&#123;org.hibernate.validator.referenceguide.chapter04.&quot;</span> +</span><br><span class="line">            <span class="string">&quot;crossparameter.ConsistentDateParameters.message&#125;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€šç”¨å’Œäº¤å‰çº§åˆ«çº¦æŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SupportedValidationTarget(ValidationTarget.PARAMETERS)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConsistentDateParametersValidator</span> <span class="keyword">implements</span></span><br><span class="line">        <span class="title class_">ConstraintValidator</span>&lt;ConsistentDateParameters, Object[]&gt; &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initialize</span><span class="params">(ConsistentDateParameters constraintAnnotation)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(Object[] value, ConstraintValidatorContext context)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> ( value.length != <span class="number">2</span> ) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>( <span class="string">&quot;Illegal method signature&quot;</span> );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//leave null-checking to @NotNull on individual parameters</span></span><br><span class="line">        <span class="keyword">if</span> ( value[<span class="number">0</span>] == <span class="literal">null</span> || value[<span class="number">1</span>] == <span class="literal">null</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ( !( value[<span class="number">0</span>] <span class="keyword">instanceof</span> Date ) || !( value[<span class="number">1</span>] <span class="keyword">instanceof</span> Date ) ) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(</span><br><span class="line">                    <span class="string">&quot;Illegal method signature, expected two &quot;</span> +</span><br><span class="line">                            <span class="string">&quot;parameters of type Date.&quot;</span></span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ( (Date) value[<span class="number">0</span>] ).before( (Date) value[<span class="number">1</span>] );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Constraint(validatedBy = &#123;</span></span><br><span class="line"><span class="meta">        ScriptAssertObjectValidator.class,</span></span><br><span class="line"><span class="meta">        ScriptAssertParametersValidator.class</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="meta">@Target(&#123; TYPE, FIELD, PARAMETER, METHOD, CONSTRUCTOR, ANNOTATION_TYPE &#125;)</span></span><br><span class="line"><span class="meta">@Retention(RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ScriptAssert &#123;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&#123;org.hibernate.validator.referenceguide.chapter04.&quot;</span> +</span><br><span class="line">            <span class="string">&quot;crossparameter.ScriptAssert.message&#125;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    String <span class="title function_">script</span><span class="params">()</span>;</span><br><span class="line">    ConstraintTarget <span class="title function_">validationAppliesTo</span><span class="params">()</span> <span class="keyword">default</span> ConstraintTarget.IMPLICIT;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æŒ‡å®šé€šç”¨å’Œäº¤å‰å‚æ•°çº¦æŸçš„ç›®æ ‡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ScriptAssert(script = &quot;arg1.size() &lt;= arg0&quot;, validationAppliesTo = ConstraintTarget.PARAMETERS)</span></span><br><span class="line"><span class="keyword">public</span> Car <span class="title function_">buildCar</span><span class="params">(<span class="type">int</span> seatCount, List&lt;Passenger&gt; passengers)</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å››ã€çº¦æŸæ„æˆ"><a href="#å››ã€çº¦æŸæ„æˆ" class="headerlink" title="å››ã€çº¦æŸæ„æˆ"></a>å››ã€çº¦æŸæ„æˆ</h1><ul><li>åˆ›å»ºä¸€ä¸ªåˆæˆçº¦æŸ @ValidLicensePlate</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NotNull</span></span><br><span class="line"><span class="meta">@Size(min = 2, max = 14)</span></span><br><span class="line"><span class="meta">@CheckCase(CaseMode.UPPER)</span></span><br><span class="line"><span class="meta">@Target(&#123; METHOD, FIELD, ANNOTATION_TYPE, TYPE_USE &#125;)</span></span><br><span class="line"><span class="meta">@Retention(RUNTIME)</span></span><br><span class="line"><span class="meta">@Constraint(validatedBy = &#123; &#125;)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ValidLicensePlate &#123;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&#123;org.hibernate.validator.referenceguide.chapter06.&quot;</span> +</span><br><span class="line">            <span class="string">&quot;constraintcomposition.ValidLicensePlate.message&#125;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç»„åˆçº¦æŸçš„åº”ç”¨ ValidLicensePlate</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@ValidLicensePlate</span></span><br><span class="line">    <span class="keyword">private</span> String licensePlate;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨@ReportAsSingleViolation</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ReportAsSingleViolation</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ValidLicensePlate &#123;</span><br><span class="line">    String <span class="title function_">message</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&#123;org.hibernate.validator.referenceguide.chapter06.&quot;</span> +</span><br><span class="line">            <span class="string">&quot;constraintcomposition.reportassingle.ValidLicensePlate.message&#125;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt;[] groups() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">Payload</span>&gt;[] payload() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">&#125;</span><br><span class="line">```ayload() <span class="keyword">default</span> &#123; &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Hibernate Validator </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ¡éªŒ </tag>
            
            <tag> hibernate validator </tag>
            
            <tag> æ ¡éªŒæ³¨é‡Š </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€hibernate validatorã€‘ï¼ˆå››ï¼‰å†…æ’çº¦æŸé”™è¯¯æ¶ˆæ¯</title>
      <link href="/a3ee2715.html"/>
      <url>/a3ee2715.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="ä¸€ã€é»˜è®¤æ¶ˆæ¯æ’å€¼"><a href="#ä¸€ã€é»˜è®¤æ¶ˆæ¯æ’å€¼" class="headerlink" title="ä¸€ã€é»˜è®¤æ¶ˆæ¯æ’å€¼"></a>ä¸€ã€é»˜è®¤æ¶ˆæ¯æ’å€¼</h1><ul><li>æ›¿æ¢é»˜è®¤æç¤ºæ¶ˆæ¯</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter04;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull(message = &quot;The manufacturer name must not be null&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="comment">//constructor, getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1-éœ€è¦è½¬ä¹‰çš„å­—ç¬¦"><a href="#1-éœ€è¦è½¬ä¹‰çš„å­—ç¬¦" class="headerlink" title="1. éœ€è¦è½¬ä¹‰çš„å­—ç¬¦"></a>1. éœ€è¦è½¬ä¹‰çš„å­—ç¬¦</h2><ul><li>{ è¢«è®¤ä¸ºæ˜¯æ–‡å­— {</li><li>} è¢«è®¤ä¸ºæ˜¯æ–‡å­— }</li><li>$ è¢«è®¤ä¸ºæ˜¯æ–‡å­— $</li><li>\ è¢«è®¤ä¸ºæ˜¯æ–‡å­— \</li></ul><h2 id="2-æ¶ˆæ¯è¡¨è¾¾å¼æ’å€¼æ›¿æ¢"><a href="#2-æ¶ˆæ¯è¡¨è¾¾å¼æ’å€¼æ›¿æ¢" class="headerlink" title="2. æ¶ˆæ¯è¡¨è¾¾å¼æ’å€¼æ›¿æ¢"></a>2. æ¶ˆæ¯è¡¨è¾¾å¼æ’å€¼æ›¿æ¢</h2><ul><li>æŒ‡å®šæ¶ˆæ¯æè¿°ç¬¦</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.hibernate.validator.referenceguide.chapter04.complete;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="meta">@NotNull</span></span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">    <span class="meta">@Size(</span></span><br><span class="line"><span class="meta">            min = 2,</span></span><br><span class="line"><span class="meta">            max = 14,</span></span><br><span class="line"><span class="meta">            message = &quot;The license plate &#x27;$&#123;validatedValue&#125;&#x27; must be between &#123;min&#125; and &#123;max&#125; characters long&quot;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> String licensePlate;</span><br><span class="line">    <span class="meta">@Min(</span></span><br><span class="line"><span class="meta">            value = 2,</span></span><br><span class="line"><span class="meta">            message = &quot;There must be at least &#123;value&#125; seat$&#123;value &gt; 1 ? &#x27;s&#x27; : &#x27;&#x27;&#125;&quot;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> seatCount;</span><br><span class="line">    <span class="meta">@DecimalMax(</span></span><br><span class="line"><span class="meta">            value = &quot;350&quot;,</span></span><br><span class="line"><span class="meta">            message = &quot;The top speed $&#123;formatter.format(&#x27;%1$.2f&#x27;, validatedValue)&#125; is higher &quot; +</span></span><br><span class="line"><span class="meta">                    &quot;than &#123;value&#125;&quot;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> topSpeed;</span><br><span class="line">    <span class="meta">@DecimalMax(value = &quot;100000&quot;, message = &quot;Price must not be higher than $&#123;value&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal price;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(</span></span><br><span class="line"><span class="params">            String manufacturer,</span></span><br><span class="line"><span class="params">            String licensePlate,</span></span><br><span class="line"><span class="params">            <span class="type">int</span> seatCount,</span></span><br><span class="line"><span class="params">            <span class="type">double</span> topSpeed,</span></span><br><span class="line"><span class="params">            BigDecimal price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.manufacturer = manufacturer;</span><br><span class="line">        <span class="built_in">this</span>.licensePlate = licensePlate;</span><br><span class="line">        <span class="built_in">this</span>.seatCount = seatCount;</span><br><span class="line">        <span class="built_in">this</span>.topSpeed = topSpeed;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//getters and setters ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é¢„æœŸçš„é”™è¯¯æ¶ˆæ¯</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>( <span class="literal">null</span>, <span class="string">&quot;A&quot;</span>, <span class="number">1</span>, <span class="number">400.123456</span>, BigDecimal.valueOf( <span class="number">200000</span> ) );</span><br><span class="line"><span class="type">String</span> <span class="variable">message</span> <span class="operator">=</span> validator.validateProperty( car, <span class="string">&quot;manufacturer&quot;</span> )</span><br><span class="line">        .iterator()</span><br><span class="line">        .next()</span><br><span class="line">        .getMessage();</span><br><span class="line">assertEquals( <span class="string">&quot;must not be null&quot;</span>, message );</span><br><span class="line">message = validator.validateProperty( car, <span class="string">&quot;licensePlate&quot;</span> )</span><br><span class="line">        .iterator()</span><br><span class="line">        .next()</span><br><span class="line">        .getMessage();</span><br><span class="line">assertEquals(</span><br><span class="line">        <span class="string">&quot;The license plate &#x27;A&#x27; must be between 2 and 14 characters long&quot;</span>,</span><br><span class="line">        message</span><br><span class="line">);</span><br><span class="line">message = validator.validateProperty( car, <span class="string">&quot;seatCount&quot;</span> ).iterator().next().getMessage();</span><br><span class="line">assertEquals( <span class="string">&quot;There must be at least 2 seats&quot;</span>, message );</span><br><span class="line">message = validator.validateProperty( car, <span class="string">&quot;topSpeed&quot;</span> ).iterator().next().getMessage();</span><br><span class="line">assertEquals( <span class="string">&quot;The top speed 400.12 is higher than 350&quot;</span>, message );</span><br><span class="line">message = validator.validateProperty( car, <span class="string">&quot;price&quot;</span> ).iterator().next().getMessage();</span><br><span class="line">assertEquals( <span class="string">&quot;Price must not be higher than $100000&quot;</span>, message );</span><br></pre></td></tr></table></figure><h1 id="äºŒã€è‡ªå®šä¹‰æ¶ˆæ¯æ’å€¼"><a href="#äºŒã€è‡ªå®šä¹‰æ¶ˆæ¯æ’å€¼" class="headerlink" title="äºŒã€è‡ªå®šä¹‰æ¶ˆæ¯æ’å€¼"></a>äºŒã€è‡ªå®šä¹‰æ¶ˆæ¯æ’å€¼</h1><ul><li>å¿…é¡»å®ç°javax.validation.MessageInterpolatoræ¥å£å¹¶ä¸”å®ç°å¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„</li><li></li><li>ä½¿ç”¨ç‰¹å®šçš„èµ„æºåŒ…</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Validator</span> <span class="variable">validator</span> <span class="operator">=</span> Validation.byDefaultProvider()</span><br><span class="line">        .configure()</span><br><span class="line">        .messageInterpolator(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ResourceBundleMessageInterpolator</span>(</span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">PlatformResourceBundleLocator</span>( <span class="string">&quot;MyMessages&quot;</span> )</span><br><span class="line">                )</span><br><span class="line">        )</span><br><span class="line">        .buildValidatorFactory()</span><br><span class="line">        .getValidator();</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨ AggregateResourceBundleLocator</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Validator</span> <span class="variable">validator</span> <span class="operator">=</span> Validation.byDefaultProvider()</span><br><span class="line">        .configure()</span><br><span class="line">        .messageInterpolator(</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ResourceBundleMessageInterpolator</span>(</span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">AggregateResourceBundleLocator</span>(</span><br><span class="line">                                Arrays.asList(</span><br><span class="line">                                        <span class="string">&quot;MyMessages&quot;</span>,</span><br><span class="line">                                        <span class="string">&quot;MyOtherMessages&quot;</span></span><br><span class="line">                                )</span><br><span class="line">                        )</span><br><span class="line">                )</span><br><span class="line">        )</span><br><span class="line">        .buildValidatorFactory()</span><br><span class="line">        .getValidator();</span><br><span class="line">```     .getValidator();</span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Hibernate Validator </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ ¡éªŒ </tag>
            
            <tag> hibernate validator </tag>
            
            <tag> æ¶ˆæ¯æ’å€¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€æ’ä»¶ã€‘Javaå¼€å‘è§„èŒƒé…å¥—Ideaé˜¿é‡Œå·´å·´ä»£ç æ‰«æè§„èŒƒæ’ä»¶</title>
      <link href="/41f7cf00.html"/>
      <url>/41f7cf00.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/s://blog.zysicyj.top/">https://blog.zysicyj.top/s://blog.zysicyj.top/</a></p><h1 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h1><p>è¿™ä¸ªæ˜¯ä¸‰æ–¹ä¼˜åŒ–ç‰ˆï¼Œå¦‚æœä¸å–œæ¬¢å¯ä»¥å»ä¸‹è½½å®˜æ–¹çš„<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-26/100924704657900.png"></p><p>æ’ä»¶å®˜ç½‘åœ°å€<br><a href="https://plugins.jetbrains.com/plugin/22381-alibaba-java-coding-guidelines-fix-some-bug-">https://plugins.jetbrains.com/plugin/22381-alibaba-java-coding-guidelines-fix-some-bug-</a></p><h1 id="æ‰‹åŠ¨å¯åŠ¨æ’ä»¶"><a href="#æ‰‹åŠ¨å¯åŠ¨æ’ä»¶" class="headerlink" title="æ‰‹åŠ¨å¯åŠ¨æ’ä»¶"></a>æ‰‹åŠ¨å¯åŠ¨æ’ä»¶</h1><p>æ’ä»¶é»˜è®¤æ˜¯å¼€å¯è‡ªåŠ¨å®æ—¶æ‰«æçš„ï¼Œå¦‚æœæ„Ÿè§‰å¤ªå¡ï¼Œå¯ä»¥å…³æ‰å®æ—¶æ‰«æ<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-26/101423503727700.png"></p><h1 id="æŸ¥çœ‹é—®é¢˜æ¸…å•"><a href="#æŸ¥çœ‹é—®é¢˜æ¸…å•" class="headerlink" title="æŸ¥çœ‹é—®é¢˜æ¸…å•"></a>æŸ¥çœ‹é—®é¢˜æ¸…å•</h1><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-26/101522019517000.png"></p><h1 id="å¿«é€Ÿä¿®å¤"><a href="#å¿«é€Ÿä¿®å¤" class="headerlink" title="å¿«é€Ÿä¿®å¤"></a>å¿«é€Ÿä¿®å¤</h1><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-26/101573983608100.png"></p><h1 id="gité…ç½®æ’ä»¶æ£€æµ‹"><a href="#gité…ç½®æ’ä»¶æ£€æµ‹" class="headerlink" title="gité…ç½®æ’ä»¶æ£€æµ‹"></a>gité…ç½®æ’ä»¶æ£€æµ‹</h1><p>ä¿è¯å¿…é¡»é€šè¿‡ä»£ç æ‰«æçš„ä»£ç æ‰èƒ½æäº¤<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-26/101741218435600.png"></p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> å¼€å‘è§„èŒƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> idea </tag>
            
            <tag> å®‰è£… </tag>
            
            <tag> javaå¼€å‘è§„èŒƒ </tag>
            
            <tag> é˜¿é‡Œå·´å·´ä»£ç æ‰«æè§„èŒƒ </tag>
            
            <tag> æ‰‹åŠ¨å¯åŠ¨ </tag>
            
            <tag> é—®é¢˜æ¸…å• </tag>
            
            <tag> å¿«é€Ÿä¿®å¤ </tag>
            
            <tag> gité…ç½® </tag>
            
            <tag> æ£€æµ‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å¼€å‘è§„èŒƒç³»åˆ—ã€‘ï¼ˆäºŒï¼‰ï¼šJavaåå°å¼€å‘è§„èŒƒ</title>
      <link href="/624f2c29.html"/>
      <url>/624f2c29.html</url>
      
        <content type="html"><![CDATA[<h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æåˆ°Javaå¼€å‘è§„èŒƒï¼Œé‚£ä¹ˆå¤§å®¶èƒ½æƒ³åˆ°çš„åŸºæœ¬å°±æ˜¯<strong>é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ</strong>ï¼Œè¿™ä¸ªæ‰‹å†Œçš„å†…å®¹å¾ˆä¸°å¯Œï¼Œä½†æ˜¯å‘¢ç¯‡å¹…å¤ªé•¿ï¼Œå¾ˆå¤šäººéƒ½è®°ä¸ä½ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿå¥½åœ¨é˜¿é‡Œå·´å·´æä¾›äº†ä»£ç æ‰«ææ’ä»¶ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼€å‘æ—¶å‘ç°é—®é¢˜å¹¶åŠæ—¶ä¿®æ”¹ã€‚</p><h1 id="å¦‚ä½•ä½¿ç”¨è¯¥æ’ä»¶ï¼Ÿ"><a href="#å¦‚ä½•ä½¿ç”¨è¯¥æ’ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨è¯¥æ’ä»¶ï¼Ÿ"></a>å¦‚ä½•ä½¿ç”¨è¯¥æ’ä»¶ï¼Ÿ</h1><p><a href="https://blog.zysicyj.top/41f7cf00">å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼šã€æ’ä»¶ã€‘Javaå¼€å‘è§„èŒƒé…å¥—Ideaé˜¿é‡Œå·´å·´ä»£ç æ‰«æ</a></p><h1 id="æ‰‹å†Œå†…å®¹"><a href="#æ‰‹å†Œå†…å®¹" class="headerlink" title="æ‰‹å†Œå†…å®¹"></a>æ‰‹å†Œå†…å®¹</h1><div class="row">    <embed src="/static/pdf/Javaå¼€å‘æ‰‹å†Œ(é»„å±±ç‰ˆ).pdf" width="100%" height="550" type="application/pdf"></div><h1 id="é¡¹ç›®ç»Ÿä¸€è§„çº¦"><a href="#é¡¹ç›®ç»Ÿä¸€è§„çº¦" class="headerlink" title="é¡¹ç›®ç»Ÿä¸€è§„çº¦"></a>é¡¹ç›®ç»Ÿä¸€è§„çº¦</h1><ul><li>å·¥å…·ç±»ç»Ÿä¸€ä½¿ç”¨Hutoolï¼Œéå¿…è¦ä¸è¦è‡ªå®šä¹‰å·¥å…·ç±»</li><li>controllerè¿”å›çš„æ¯ä¸ªå®ä½“éœ€è¦æ–°å»ºä¸€ä¸ªVoå°è£…</li><li>controlleræ¥å—çš„å‚æ•°ç»Ÿä¸€ä½¿ç”¨Paramå°è£…</li><li>Doç±»ä¸å…è®¸æ·»åŠ é¢å¤–å­—æ®µ</li><li>ä¸šåŠ¡ä¹‹é—´ä¼ è¾“ä½¿ç”¨Dtoç±»å°è£…</li><li>è·¨æ¨¡å—ï¼Œæ¥å£è°ƒç”¨ä¸å…è®¸ç›´æ¥ä¼ DOï¼Œéœ€è¦å°è£…æˆDto</li><li>å•æœºäº‹åŠ¡å¿…é¡»åŠ ä¸Š@Transactionalæ³¨è§£</li><li>åˆ†å¸ƒå¼äº‹åŠ¡å¿…é¡»åŠ ä¸Š@Seataæ³¨è§£</li><li>ç»Ÿä¸€ä½¿ç”¨Mybatisè¯­æ³•ï¼Œä¸è¦ä½¿ç”¨JPA</li><li>IDç»Ÿä¸€ä½¿ç”¨Leafé›ªèŠ±ç®—æ³•è·å–</li><li>å‚æ•°ä¼ é€’ä½¿ç”¨POJOä¼ é€’ï¼Œå°½é‡ä¸è¦ä½¿ç”¨Map</li><li>æ–¹æ³•å‚æ•°è¶…å‡ºå±å¹•å®½åº¦ï¼ˆä¸€èˆ¬3åˆ°5ä¸ªï¼‰å°è£…æˆå¯¹è±¡æ¥æ”¶</li><li>æ–¹æ³•å‘½åè§„åˆ™<ul><li>åˆ é™¤ï¼šdel***</li><li>æ›´æ–°ï¼šupdate***</li><li>æ·»åŠ ï¼šinsert***</li><li>å•ä¸ªæŸ¥è¯¢ï¼šselect***</li><li>æ‰¹é‡æŸ¥è¯¢ï¼šlist***</li><li>åˆ†é¡µï¼špage***</li><li>å¯¼å‡ºï¼šexport***</li><li>å¯¼å…¥ï¼šimport***</li><li>è¿”å›å¸ƒå°”å€¼çš„æ–¹æ³•ï¼šiz***</li><li>æ ¡éªŒï¼šcheck***</li><li>å¡«å……ï¼šfill***</li></ul></li><li>ç±»åå‘½åè§„åˆ™<ul><li>æ‹¦æˆªå™¨ï¼š***Handler</li><li>è¿‡æ»¤å™¨ï¼š***Filter</li><li>æšä¸¾ï¼š***Enum</li><li>å¸¸é‡ï¼š***Constant</li><li>ç›‘å¬å™¨ï¼š***Listener</li><li>é…ç½®ç±»ï¼š***Config</li></ul></li><li>å˜é‡å‘½åè§„åˆ™ï¼ˆå…¨éƒ¨é©¼å³°ï¼‰<ul><li>é™æ€å¸¸é‡ï¼šå¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš” ä¾‹å¦‚: USER_NAME_GLOBAL</li><li>å±€éƒ¨å¸¸é‡ï¼šå¤§å†™ï¼Œä¸‹åˆ’çº¿åˆ†éš” ä¾‹å¦‚ï¼šUSER_NAME</li><li>å…¨å±€å˜é‡ï¼š***Global ä¾‹å¦‚ï¼šuserNameGlobal</li><li>Listç±»å‹ï¼š***List ä¾‹å¦‚ï¼šuserList</li><li>Mapç±»å‹ï¼š ***Map ä¾‹å¦‚ï¼šuserByIdMap</li><li>Setç±»å‹ï¼š ***Set ä¾‹å¦‚ï¼šuserSet</li><li>è¡¨ç¤ºæ•°é‡ï¼š ***Num ä¾‹å¦‚ï¼š userTotalNum</li><li>è¡¨ç¤ºåˆ¤æ–­ï¼š iz**** ä¾‹å¦‚ï¼šizLeader</li></ul></li></ul><h1 id="å»ºè®®é˜…è¯»æ–‡ç« "><a href="#å»ºè®®é˜…è¯»æ–‡ç« " class="headerlink" title="å»ºè®®é˜…è¯»æ–‡ç« "></a>å»ºè®®é˜…è¯»æ–‡ç« </h1><p>##å¦‚ä½•ä½¿ç”¨æ ¡éªŒ<br><a href="https://blog.zysicyj.top/caa11a30">ã€hibernate validatorã€‘ï¼ˆäºŒï¼‰å£°æ˜å’ŒéªŒè¯Beançº¦æŸ</a><br><a href="https://blog.zysicyj.top/9df1ab00">ã€hibernate validatorã€‘ï¼ˆä¸‰ï¼‰å£°æ˜å’ŒéªŒè¯æ–¹æ³•çº¦æŸ</a><br><a href="https://blog.zysicyj.top/a3ee2715">ã€hibernate validatorã€‘ï¼ˆå››ï¼‰å†…æ’çº¦æŸé”™è¯¯æ¶ˆæ¯</a><br><a href="https://blog.zysicyj.top/7394ca34">ã€hibernate validatorã€‘ï¼ˆäº”ï¼‰åˆ†ç»„çº¦æŸ</a><br><a href="https://blog.zysicyj.top/ce362f84">ã€hibernate validatorã€‘ï¼ˆå…­ï¼‰åˆ›å»ºè‡ªå®šä¹‰çº¦æŸ</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> å¼€å‘è§„èŒƒ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æŸäººäº‹ç³»ç»Ÿæ¶æ„æ­å»ºè®¾è®¡è®°å½•</title>
      <link href="/7aaf60e.html"/>
      <url>/7aaf60e.html</url>
      
        <content type="html"><![CDATA[<h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="å…ˆå¤§è‡´åˆ—ä¸€ä¸‹åŸºç¡€æƒ…å†µ"><a href="#å…ˆå¤§è‡´åˆ—ä¸€ä¸‹åŸºç¡€æƒ…å†µ" class="headerlink" title="å…ˆå¤§è‡´åˆ—ä¸€ä¸‹åŸºç¡€æƒ…å†µ"></a>å…ˆå¤§è‡´åˆ—ä¸€ä¸‹åŸºç¡€æƒ…å†µ</h1><ul><li>æ¶æ„å¿…é¡»æ˜¯å¾®æœåŠ¡</li><li>åœºæ™¯ä¸Šæ¶‰åŠå¤§é‡æŸ¥è¯¢æ“ä½œï¼Œåˆ†ææ“ä½œ</li><li>å¹¶å‘å¹¶ä¸é«˜</li><li>å¯¹é«˜å¯ç”¨è¦æ±‚è¾ƒé«˜ï¼Œä¸èƒ½æŒ‚æ‰</li><li>å¯¹å®‰å…¨è¦æ±‚é«˜</li><li>è¦èƒ½è¿‡ç­‰ä¿æµ‹è¯•ç­‰ä¸‰æ–¹æµ‹è¯•</li><li>ä½¿ç”¨äººæ•°å¹¶ä¸å¤šï¼Œåä¸‡å†…</li><li>æ¶‰åŠå¾ˆå¤šåœ¨çº¿ç¼–è¾‘ï¼Œé¢„è§ˆç­‰æ“ä½œ</li><li>å¯¹å¤§å±å±•ç¤ºæœ‰éœ€æ±‚</li><li>æ•°æ®åº“è¿˜ä¸ç¡®å®šï¼Œå¦‚æœè¦æ±‚é«˜çš„è¯mysqlå¿…é¡»æ¢æˆè¾¾æ¢¦</li><li>ä¸­é—´ä»¶ä¹Ÿä¸ç¡®å®šï¼Œè¦æ±‚é«˜çš„è¯å¿…é¡»æ¢æˆä¸œæ–¹é€š</li><li>åŠ å¯†å¿…é¡»æ˜¯å›½å¯†</li></ul><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å¥½çš„ä»£ç ï¼Œè‚¯å®šæœ€åŸºæœ¬çš„æœ‰ä¸€å¥—å¼€å‘è§„èŒƒå»çº¦æŸçš„ï¼Œä¸ç„¶å †ç Œçš„ä»£ç è‚¯å®šæˆâ€å±å±±â€œã€‚æ‰©å±•æ€§ï¼Œæ€§èƒ½å•¥çš„å…ˆä¸è°ˆï¼Œå•å•ç»´æŠ¤ä»£ç æˆæœ¬å°±ä¼šå¾ˆé«˜ï¼Œä¹Ÿå¾ˆå®¹æ˜“å‡ºBUGã€‚</p><p>æ‰€ä»¥å‘€ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆæœ‰ä¸€å¥—å¼€å‘è§„èŒƒï¼Œæˆ‘è¿™é‡Œæ‹Ÿäº†ä¸€å¥—è§„èŒƒä¾›å†…éƒ¨ä½¿ç”¨ï¼š</p><ol><li><p><a href="https://blog.zysicyj.top/e1aecfe9">MySQLå¼€å‘è§„èŒƒ</a></p></li><li><p><a href="https://blog.zysicyj.top/624f2c29">åå°å¼€å‘è§„èŒƒ</a></p></li><li><p><a href="">å‰ç«¯å¼€å‘è§„èŒƒ</a></p></li><li><p><a href="">ä»£ç æäº¤è§„èŒƒ</a></p></li><li><div class="row">    <embed src="/static/pdf/Javaå¼€å‘æ‰‹å†Œ(é»„å±±ç‰ˆ).pdf" width="100%" height="550" type="application/pdf"></div></li></ol><h1 id="æ¶æ„"><a href="#æ¶æ„" class="headerlink" title="æ¶æ„"></a>æ¶æ„</h1><p>è¿™é‡Œå¾®æœåŠ¡æ¡†æ¶æˆ‘æ¨èç›´æ¥ä½¿ç”¨Spring Cloud Alibabaä½“ç³»ç»„ä»¶ï¼ŒåŸå› å¦‚ä¸‹ï¼š</p><ol><li>spring cloud alibaba å·²ç»æ˜¯å›½å†…å®é™…ä¸Šå¾®æœåŠ¡æ ‡å‡†</li><li>æœåŠ¡äºé˜¿é‡Œé›†å›¢å¤§å¤§å°å°å„ç§ä¸šåŠ¡ï¼Œç”Ÿäº§ä½¿ç”¨ç¨³å®š</li><li>ç¤¾åŒºåºå¤§ï¼Œé‡åˆ°é—®é¢˜å®¹æ˜“è§£å†³</li><li>æ–‡æ¡£é½å…¨ï¼Œä¸­æ–‡æ–‡æ¡£è¯¦ç»†ï¼Œæ–¹ä¾¿æŸ¥é˜…</li><li>ä¸Spring Cloudé›†æˆï¼Œå¯ä»¥å……åˆ†ä½¿ç”¨Spring Cloudç‰¹æ€§</li><li>ç»„ä»¶ä¸°å¯Œ<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-26/78785491774100.png" alt="ç³»ç»Ÿæ¶æ„å›¾"></li></ol><h1 id="èŠèŠç»„ä»¶é€‰å‹"><a href="#èŠèŠç»„ä»¶é€‰å‹" class="headerlink" title="èŠèŠç»„ä»¶é€‰å‹"></a>èŠèŠç»„ä»¶é€‰å‹</h1><p>é‚£ä¹ˆï¼Œå…·ä½“æˆ‘ä»¬éœ€è¦å“ªäº›ç»„ä»¶å‘¢ï¼Ÿè¿™é‡Œçš„ç»„ä»¶å¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œéœ€è¦åç»­ç»¼åˆè€ƒè™‘</p><ol><li><strong>ES</strong>ï¼šæ•°æ®æ£€ç´¢</li><li><strong>redis</strong>ï¼šç¼“å­˜</li><li><strong>jetcache</strong>ï¼šå¤šçº§ç¼“å­˜</li><li><strong>MySQL</strong>ï¼Œå¦‚æœæœ‰å›½äº§åŒ–éœ€æ±‚ï¼Œè€ƒè™‘<strong>è¾¾æ¢¦</strong>æ•°æ®åº“</li><li><strong>Druid</strong>ï¼šæ•°æ®æºç®¡ç†æ¡†æ¶</li><li><strong>ShardingSquare</strong>ï¼šå¯¹æ•°æ®åº“è¿›è¡Œå¢å¼ºï¼Œæ¯”å¦‚<strong>åˆ†åº“åˆ†è¡¨ï¼ŒåŠ å¯†</strong>çš„æ”¯æŒ</li><li><strong>minio</strong>ï¼šæ–‡ä»¶å­˜å‚¨</li><li><strong>Seata</strong>ï¼šåˆ†å¸ƒå¼äº‹åŠ¡</li><li><strong>Spring Cloud Gateway</strong>:ç”±äºå¹¶å‘é‡å¹¶ä¸å¤§ï¼Œæ‰€æœ‰æˆ‘ä»¬å¯ä»¥ä¸éœ€è¦<strong>Nginx</strong>ç½‘å…³</li><li><strong>Sentinel</strong>: ç†”æ–­é™æµ</li><li><strong>Spring Cloud Alibaba Sidecar</strong>ï¼šé¡¹ç›®ä¸­å¾ˆæœ‰å¯èƒ½æ¶‰åŠå…¶ä»–éSpring Cloudåº”ç”¨ï¼Œæ­¤æ—¶å°±éœ€è¦å°†å…¶æ¥å…¥Spring Cloud</li><li>å¼•å…¥<strong>GraalVM</strong><br>ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¯¹æ¯”JVMå¯åŠ¨é€Ÿåº¦æå‡<img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-24/128986692919000.png"></li><li><strong>jimureport+easyexcel</strong>ï¼šæŠ¥è¡¨è®¾è®¡</li><li><strong>KkFileView</strong>ï¼šåœ¨çº¿é¢„è§ˆå„ç§æ–‡ä»¶</li><li><strong>Activity</strong>ï¼šå·¥ä½œæµæ”¯æŒ</li><li><strong>Hutool</strong>ï¼šæœ€å…¨å·¥å…·ç±»åº“</li><li><strong>Nacos</strong>ï¼šæœåŠ¡æ³¨å†Œå’Œé…ç½®ä¸­å¿ƒ</li><li><strong>RocketMQ</strong>ï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå‰Šå³°å¡«è°·</li><li><strong>Docker</strong>ï¼šä½¿ç”¨Dockerè¿›è¡Œå®¹å™¨åŒ–éƒ¨ç½²</li><li><strong>Gitlab</strong>ï¼šæºç ç®¡ç†</li><li><strong>nexus</strong>ï¼šæ„å»ºä»“åº“</li><li><strong>Jenkins</strong>ï¼šéƒ¨ç½²å¹³å°</li><li><strong>SkyWalking</strong>ï¼šé“¾è·¯è¿½è¸ª</li><li><strong>SaTokenæˆ–SpringCloudSecurity+Oauth</strong>ï¼šæˆæƒ</li><li><strong>Leaf</strong>ï¼šåˆ†å¸ƒå¼IDç”Ÿæˆå™¨</li><li><strong>MybatisFlex</strong>ï¼šormæ¡†æ¶</li><li><strong>dubboæˆ–Feign</strong>ï¼šæœåŠ¡é—´é€šä¿¡</li></ol><h1 id="ä¸€äº›ç»†èŠ‚"><a href="#ä¸€äº›ç»†èŠ‚" class="headerlink" title="ä¸€äº›ç»†èŠ‚"></a>ä¸€äº›ç»†èŠ‚</h1><p>å†æ¬¡å£°æ˜ä¸€ç‚¹ï¼Œä¸šåŠ¡ä¸Šæ˜¯è¯»å¤šå†™å°‘ï¼Œåˆ†ææŠ¥è¡¨å¤šï¼Œæ‰€ä»¥å¾ˆå¤šè®¾è®¡ä¸Šè¦ä¼˜åŒ–</p><ul><li>MySQLï¼šè¯»å†™åˆ†ç¦»ï¼Œåˆ†åº“åˆ†è¡¨</li><li>Redisï¼šä¸»ä»ä»æ¶æ„ï¼Œå“¨å…µé›†ç¾¤</li><li>é¡¹ç›®ä½¿ç”¨å¤šçº§ç¼“å­˜</li><li>æ•°æ®å›½å¯†åŠ å¯†</li><li>è´¦å·æœ€å°æƒé™åˆ†é…ï¼Œä¸¥æ ¼é™åˆ¶è¶…çº§ç®¡ç†å‘˜è´¦å·</li><li>ç»Ÿä¸€çº¿ç¨‹æ± ä½¿ç”¨</li></ul><h1 id="æ‰“ä»»åŠ¡é‡å¯¼å…¥å¯¼å‡º"><a href="#æ‰“ä»»åŠ¡é‡å¯¼å…¥å¯¼å‡º" class="headerlink" title="æ‰“ä»»åŠ¡é‡å¯¼å…¥å¯¼å‡º"></a>æ‰“ä»»åŠ¡é‡å¯¼å…¥å¯¼å‡º</h1><ul><li>é€šè¿‡ä¼˜åŒ–çº¿ç¨‹æ± æé«˜æ•ˆç‡</li><li>é€šè¿‡é€»è¾‘è¿‡æ»¤é‡å¤ä»»åŠ¡</li><li>ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—å‰Šå³°</li><li>ä½¿ç”¨ç¼“å­˜ä¼˜åŒ–æŸ¥è¯¢é€Ÿåº¦</li></ul><h1 id="æŸ¥è¯¢æµç¨‹"><a href="#æŸ¥è¯¢æµç¨‹" class="headerlink" title="æŸ¥è¯¢æµç¨‹"></a>æŸ¥è¯¢æµç¨‹</h1><ol><li>å®¢æˆ·ç«¯å‘é€è¯·æ±‚</li><li>å‰ç«¯è¯·æ±‚åŠ å¯†</li><li>è¯·æ±‚å‘é€åˆ°ç½‘å…³</li><li>ç½‘å…³æ ¡éªŒè¯·æ±‚åˆæ³•æ€§</li><li>ç½‘å…³æ ¹æ®è·¯ç”±è§„åˆ™è½¬å‘åˆ°å…·ä½“çš„æœåŠ¡å™¨ä¸Šå¤„ç†</li><li>æœåŠ¡å™¨è§£å¯†è¯·æ±‚æ•°æ®</li><li>æŸ¥è¯¢æœ¬åœ°ç¼“å­˜</li><li>è‹¥æ— åˆ™æŸ¥è¯¢Redis</li><li>è‹¥æ— åˆ™è¿›è¡Œä¸šåŠ¡æµè½¬ï¼Œæœ€ç»ˆæŸ¥è¯¢MySQL,</li><li>æ ¹æ®è·¯ç”±è§„åˆ™ï¼ŒæŸ¥è¯¢åªè¯»MySQLèŠ‚ç‚¹å¹¶è¿”å›æ•°æ®</li><li>æ•°æ®æœ¬åœ°ç¼“å­˜ï¼Œç„¶åRedisç¼“å­˜</li><li>è¿”å›å“åº”æ•°æ®</li><li>å¯¹å“åº”åŠ å¯†ï¼Œè½¬å‘åˆ°ç½‘å…³</li><li>ç½‘å…³è½¬å‘ç»™å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯è§£å¯†ï¼Œå±•ç¤ºæ•°æ®</li></ol><h1 id="éƒ¨ç½²æµç¨‹"><a href="#éƒ¨ç½²æµç¨‹" class="headerlink" title="éƒ¨ç½²æµç¨‹"></a>éƒ¨ç½²æµç¨‹</h1><h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><ol><li>å¼€å‘æäº¤ä»£ç </li><li>åŸºäºGitlab CI&#x2F;CD è‡ªåŠ¨æ‹‰å–ä»£ç ç”ŸæˆDockeré•œåƒå¹¶æä¾›æœåŠ¡</li></ol><h2 id="æµ‹è¯•ç¯å¢ƒ"><a href="#æµ‹è¯•ç¯å¢ƒ" class="headerlink" title="æµ‹è¯•ç¯å¢ƒ"></a>æµ‹è¯•ç¯å¢ƒ</h2><ol><li>åˆå¹¶ä»£ç åˆ°æµ‹è¯•åˆ†æ”¯</li><li>åŸºäºGitlab CI&#x2F;CD è‡ªåŠ¨æ‹‰å–ä»£ç ç”ŸæˆDockeré•œåƒå¹¶æä¾›æœåŠ¡</li></ol><h2 id="ç”Ÿäº§ç¯å¢ƒ"><a href="#ç”Ÿäº§ç¯å¢ƒ" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒ"></a>ç”Ÿäº§ç¯å¢ƒ</h2><ol><li>åˆå¹¶ä»£ç åˆ°ç”Ÿäº§åˆ†æ”¯</li><li>åŸºäºGitlabï¼Œæ‰‹åŠ¨ç”¨Jenkinséƒ¨ç½²é¡¹ç›®</li></ol><h1 id="è¯¦ç»†éƒ¨ç½²ç­–ç•¥"><a href="#è¯¦ç»†éƒ¨ç½²ç­–ç•¥" class="headerlink" title="è¯¦ç»†éƒ¨ç½²ç­–ç•¥"></a>è¯¦ç»†éƒ¨ç½²ç­–ç•¥</h1><p>å¦‚æœä¸­å°èƒ½æä¾›ï¼Œé‚£è‚¯å®šæ˜¯æœ€å¥½çš„ã€‚ã€‚ã€‚ä¸ç”¨è€ƒè™‘é‚£ä¹ˆå¤šäº†</p><p>å…·ä½“è¿˜è¦æ ¹æ®ä¸šåŠ¡å’Œå®é™…æƒ…å†µæ¥ï¼Œè¿™é‡Œä»¥5å°æœåŠ¡å™¨ä¸ºä¾‹ï¼š</p><p>å¾ˆå¤šç»„ä»¶éƒ½å¾ˆåƒå†…å­˜ã€‚ã€‚</p><table><thead><tr><th>æœåŠ¡</th><th>A</th><th>B</th><th>C</th><th>D</th><th>E</th></tr></thead><tbody><tr><td>Redis</td><td>ä¸»</td><td>ä»</td><td>ä»</td><td></td><td></td></tr><tr><td>Mysql</td><td></td><td>ä»</td><td>ä¸»</td><td></td><td></td></tr><tr><td>Nacos</td><td></td><td></td><td></td><td>ä¸»</td><td></td></tr><tr><td>Seata</td><td></td><td></td><td></td><td>ä¸»</td><td></td></tr><tr><td>Leaf</td><td></td><td></td><td></td><td>ä¸»</td><td></td></tr><tr><td>ä¸šåŠ¡</td><td></td><td></td><td></td><td>ä¸šåŠ¡</td><td>ä¸šåŠ¡</td></tr><tr><td>ES</td><td>ä»</td><td>ä¸»</td><td>ä»</td><td></td><td></td></tr><tr><td>Zookeeper</td><td>ä»</td><td>ä»</td><td>ä»</td><td></td><td></td></tr><tr><td>Minio</td><td></td><td></td><td></td><td></td><td>ä¸»</td></tr><tr><td>KkFile</td><td></td><td></td><td></td><td></td><td>ä¸»</td></tr><tr><td>Gateway</td><td></td><td></td><td></td><td>ä»</td><td>ä»</td></tr><tr><td>RocketMq</td><td>ä»</td><td>ä¸»</td><td>ä»</td><td></td><td></td></tr><tr><td>SkyWalking</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Jenkins</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Gitlab</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Nexus</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Docker</td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¶æ„ </tag>
            
            <tag> è®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºäºTechGrowå®ç°Hexoå¼•æµå¾®ä¿¡å…¬ä¼—å·</title>
      <link href="/3672160f.html"/>
      <url>/3672160f.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h2 id="å‰è¨€-å‰è¨€"><a href="#å‰è¨€-å‰è¨€" class="headerlink" title="#(#å‰è¨€) å‰è¨€"></a>#(#å‰è¨€) å‰è¨€</h2><p>Hexo åšå®¢å»ºè®®å®‰è£… <a href="https://github.com/rqh656418510/hexo-readmore">hexo-readmore (opens new window)</a> æ’ä»¶ï¼Œå°† <a href="https://open.techgrow.cn/">TechGrow (opens new window)</a> çš„å…è´¹å¾®ä¿¡å…¬ä¼—å·å¼•æµå·¥å…·æ•´åˆåˆ°åšå®¢ä¸­ï¼Œç”¨æˆ·æ‰«ç å…³æ³¨å¾®ä¿¡å…¬ä¼—å·åå¯ä»¥è§£é”å…¨ç«™æ–‡ç« ï¼Œè®©å¾®ä¿¡å…¬ä¼—å·çš„ç²‰ä¸æ•°èººç€å¢é•¿ã€‚</p><h2 id="ç‰¹è‰²åŠŸèƒ½-ç‰¹è‰²åŠŸèƒ½"><a href="#ç‰¹è‰²åŠŸèƒ½-ç‰¹è‰²åŠŸèƒ½" class="headerlink" title="#(#ç‰¹è‰²åŠŸèƒ½) ç‰¹è‰²åŠŸèƒ½"></a>#(#ç‰¹è‰²åŠŸèƒ½) ç‰¹è‰²åŠŸèƒ½</h2><ul><li>å…¼å®¹ä¸»æµçš„ Hexo ä¸»é¢˜</li><li>æ”¯æŒéšæœºä¸ºåšå®¢æ·»åŠ å¼•æµåŠŸèƒ½</li><li>æ”¯æŒå…³é—­æŸç¯‡æ–‡ç« çš„å¼•æµåŠŸèƒ½</li><li>æ”¯æŒæŸ¥è¯¢ç”¨æˆ·è§£é”æ–‡ç« çš„å†å²è®°å½•</li><li>æ”¯æŒè‡ªå®šä¹‰æˆ–è€…åŠ¨æ€è®¡ç®—æ–‡ç« å†…å®¹çš„é¢„è§ˆé«˜åº¦</li><li>æ”¯æŒè‡ªå®šä¹‰ CSS æ ·å¼ï¼Œè½»æ¾é€‚é…ä¸åŒé£æ ¼çš„åšå®¢</li><li>æ”¯æŒå¼€æ”¾ APIï¼Œçµæ´»æ¥å…¥ç¬¬ä¸‰æ–¹ç§æœ‰åŒ–éƒ¨ç½²çš„åº”ç”¨æœåŠ¡</li></ul><h2 id="æ³¨å†Œåšå®¢-æ³¨å†Œåšå®¢"><a href="#æ³¨å†Œåšå®¢-æ³¨å†Œåšå®¢" class="headerlink" title="#(#æ³¨å†Œåšå®¢) æ³¨å†Œåšå®¢"></a>#(#æ³¨å†Œåšå®¢) æ³¨å†Œåšå®¢</h2><p>æµè§ˆå™¨è®¿é—® <a href="https://open.techgrow.cn/">TechGrow (opens new window)</a> çš„å®˜ç½‘ ï¼Œæ³¨å†Œå¹¶ç™»å½•è´¦å·åï¼Œè¿›å…¥åšå®¢çš„åå°ç®¡ç†é¡µé¢ã€‚é¦–å…ˆç‚¹å‡»å·¦ä¾§çš„èœå• <code>åšå®¢æ³¨å†Œ</code>ï¼Œç„¶åç‚¹å‡» <code>æ–°å¢</code> æŒ‰é’®ï¼Œæ·»åŠ è‡ªå·±åšå®¢çš„ä¿¡æ¯ã€‚åšå®¢æ³¨å†ŒæˆåŠŸåï¼Œè®°å½•ä¸‹ <code>åšå®¢ ID</code>ï¼Œåé¢çš„æ­¥éª¤ä¼šä½¿ç”¨åˆ°</p><p><img src="https://docs.techgrow.cn/v1/images/guide/717e14eb59dd44dea62d6a0b7549abfd.png"></p><h2 id="è®¾ç½®å…¬ä¼—å·-è®¾ç½®å…¬ä¼—å·"><a href="#è®¾ç½®å…¬ä¼—å·-è®¾ç½®å…¬ä¼—å·" class="headerlink" title="#(#è®¾ç½®å…¬ä¼—å·) è®¾ç½®å…¬ä¼—å·"></a>#(#è®¾ç½®å…¬ä¼—å·) è®¾ç½®å…¬ä¼—å·</h2><p>åœ¨å¾®ä¿¡å…¬ä¼—å·çš„åå°ç®¡ç†é¡µé¢ï¼Œèœå•æ é‡Œé€‰æ‹© <code>è‡ªåŠ¨å›å¤</code> - <code>å…³é”®è¯å›å¤</code>ï¼Œå¯ç”¨ <code>è‡ªåŠ¨å›å¤</code>ï¼Œç„¶åç‚¹å‡» <code>æ·»åŠ å›å¤</code> æŒ‰é’®</p><p><img src="https://docs.techgrow.cn/v1/images/guide/em64p7w8wlqtt0rsjop0jjeywx29m25w.png"></p><p>å¡«å†™ <code>è§„åˆ™åç§°</code>ã€<code>å…³é”®è¯ï¼ˆå½“åˆä½ åœ¨ TechGrow ä¸­è®¾ç½®çš„ï¼‰</code>ã€<code>å›å¤å†…å®¹</code> é€‰æ‹© <code>æ–‡å­—</code>ï¼Œç„¶å <code>å›å¤æ–‡å­—</code> çš„å†…å®¹å¡«å†™è·å–åšå®¢è§£é”éªŒè¯ç çš„é“¾æ¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆè¯·è‡ªè¡Œæ›´æ”¹ <code>xxxxx-xxxxxxxxx-xxx</code> ä¸ºä½ ç”³è¯·åˆ°çš„åšå®¢ IDï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;https://open.techgrow.cn/#/readmore/captcha/generate?blogId=xxxxx-xxxxxxxxx-xxx&quot;&gt;ç‚¹å‡»é“¾æ¥ï¼Œè·å–åšå®¢è§£é”éªŒè¯ç &lt;/a&gt; </span><br></pre></td></tr></table></figure><p><img src="https://docs.techgrow.cn/v1/images/guide/yd89wbdji196ixtwzgzamw37fbein1ia.png"></p><p>æ­¤æ—¶ï¼Œå½“è¯»è€…å…³æ³¨ä½ çš„å¾®ä¿¡å…¬ä¼—å·ï¼Œå¹¶è¾“å…¥å…³é”®è¯åï¼ˆæ¯”å¦‚æˆ‘è®¾ç½®çš„å…³é”®è¯å°±æ˜¯ <code>tech</code>ï¼‰ï¼Œé‚£ä¹ˆè¯»è€…å°±ä¼šè‡ªåŠ¨æ¥æ”¶åˆ°è·å–åšå®¢è§£é”éªŒè¯ç çš„é“¾æ¥</p><h2 id="å®‰è£…æ’ä»¶-å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶-å®‰è£…æ’ä»¶" class="headerlink" title="#(#å®‰è£…æ’ä»¶) å®‰è£…æ’ä»¶"></a>#(#å®‰è£…æ’ä»¶) å®‰è£…æ’ä»¶</h2><ul><li>è¿è¡Œ <code>npm install</code> å‘½ä»¤å®‰è£…æ’ä»¶</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-readmore --save </span><br></pre></td></tr></table></figure><h2 id="é…ç½®-hexo-é…ç½®-Hexo"><a href="#é…ç½®-hexo-é…ç½®-Hexo" class="headerlink" title="#(#é…ç½®-hexo) é…ç½® Hexo"></a>#(#é…ç½®-hexo) é…ç½® Hexo</h2><p>ç¼–è¾‘ Hexo è‡ªèº«çš„ <code>_config.yml</code> é…ç½®æ–‡ä»¶ï¼Œæ–°å¢æ’ä»¶çš„é…ç½®ä¿¡æ¯ï¼ˆè¯·è‡ªè¡Œæ›´æ”¹åšå®¢ç›¸å…³çš„ä¿¡æ¯ï¼‰ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">readmore:</span><br><span class="line">  # æ˜¯å¦å¯ç”¨</span><br><span class="line">  enable: true</span><br><span class="line">  # å·²ç”³è¯·çš„åšå®¢ ID</span><br><span class="line">  blogId: &#x27;18762-1609305354821-257&#x27;</span><br><span class="line">  # å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·åç§°</span><br><span class="line">  name: &#x27;å…¨æ ˆæŠ€æœ¯é©¿ç«™&#x27;</span><br><span class="line">  # å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·å›å¤å…³é”®è¯</span><br><span class="line">  keyword: &#x27;tech&#x27;</span><br><span class="line">  # å·²ç”³è¯·çš„å¾®ä¿¡å…¬ä¼—å·äºŒç»´ç å›¾ç‰‡</span><br><span class="line">  qrcode: &#x27;https://www.techgrow.cn/img/wx_mp_qr.png&#x27;</span><br><span class="line">  # è‡ªå®šä¹‰çš„ JS èµ„æºé“¾æ¥ï¼Œå¯ç”¨äº CDN åŠ é€Ÿ</span><br><span class="line">  libUrl: &#x27;https://qiniu.techgrow.cn/readmore/dist/readmore.js&#x27;</span><br><span class="line">  # è‡ªå®šä¹‰çš„ CSS èµ„æºé“¾æ¥ï¼Œå¯ç”¨äºé€‚é…ä¸åŒé£æ ¼çš„åšå®¢</span><br><span class="line">  cssUrl: &#x27;https://qiniu.techgrow.cn/readmore/dist/hexo.css&#x27;</span><br><span class="line">  # å‘½ä»¤è¡Œç»ˆç«¯æ˜¯å¦è¾“å‡ºæ—¥å¿—ä¿¡æ¯</span><br><span class="line">  debug: true</span><br><span class="line">  # æ–‡ç« å†…å®¹çš„é¢„è§ˆé«˜åº¦ï¼ˆä¾‹å¦‚ 300ï¼‰</span><br><span class="line">  height: &#x27;auto&#x27;</span><br><span class="line">  # æ–‡ç« è§£é”åå‡­è¯çš„æœ‰æ•ˆå¤©æ•°</span><br><span class="line">  expires: 365</span><br><span class="line">  # å®šæ—¶æ ¡éªŒå‡­è¯æœ‰æ•ˆæ€§çš„æ—¶é—´é—´éš”ï¼ˆç§’ï¼‰</span><br><span class="line">  interval: 60</span><br><span class="line">  # æ˜¯å¦æ·»åŠ å¾®ä¿¡å…¬ä¼—å·å¼•æµå·¥å…·åˆ°ç§»åŠ¨ç«¯é¡µé¢</span><br><span class="line">  allowMobile: false</span><br><span class="line">  # è·å–æ–‡ç« ä¸»ä½“å†…å®¹çš„ JS é€‰æ‹©å™¨ï¼Œåœ¨åšå®¢å¯ç”¨äº† Pjax çš„æƒ…å†µä¸‹æ‰éœ€è¦æ ¹æ®ä¸åŒçš„ä¸»é¢˜è¿›è¡Œé…ç½®</span><br><span class="line">  pjaxSelector: &#x27;&#x27;</span><br><span class="line">  # Pjax æ”¯æŒé‡è½½çš„ Css ç±»åï¼ˆä¾‹å¦‚ &#x27;pjax&#x27;ï¼‰ï¼Œåœ¨åšå®¢å¯ç”¨äº† Pjax çš„æƒ…å†µä¸‹æ‰éœ€è¦æ ¹æ®ä¸åŒçš„ä¸»é¢˜è¿›è¡Œé…ç½®</span><br><span class="line">  pjaxCssClass: &#x27;&#x27;</span><br><span class="line">  # æ¯ç¯‡æ–‡ç« éšæœºæ·»åŠ å¾®ä¿¡å…¬ä¼—å·å¼•æµå·¥å…·çš„æ¦‚ç‡ï¼Œæœ‰æ•ˆèŒƒå›´åœ¨ 0.1 ~ 1 ä¹‹é—´ï¼Œ1 åˆ™è¡¨ç¤ºæ‰€æœ‰æ–‡ç« é»˜è®¤éƒ½è‡ªåŠ¨æ·»åŠ å¼•æµå·¥å…·</span><br><span class="line">  random: 1 </span><br></pre></td></tr></table></figure><p>æˆ–è€…æ‰“å¼€ TechGrow çš„<a href="https://open.techgrow.cn/#/readmore/website/register">åšå®¢åå°ç®¡ç†é¡µé¢ (opens new window)</a>ï¼Œç‚¹å‡»åšå®¢åˆ—è¡¨ä¸­å³ä¾§çš„ <code>ä½¿ç”¨</code> é“¾æ¥ï¼Œå°†çª—å£é‡Œçš„ YAML é…ç½®å†…å®¹å¤åˆ¶åˆ° Hexo è‡ªèº«çš„ <code>_config.yml</code> é…ç½®æ–‡ä»¶å³å¯ã€‚</p><h2 id="å‚æ•°è¯´æ˜-å‚æ•°è¯´æ˜"><a href="#å‚æ•°è¯´æ˜-å‚æ•°è¯´æ˜" class="headerlink" title="#(#å‚æ•°è¯´æ˜) å‚æ•°è¯´æ˜"></a>#(#å‚æ•°è¯´æ˜) å‚æ•°è¯´æ˜</h2><table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>å¿…å¡«</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>enable</td><td>Boolean</td><td>æ˜¯</td><td><code>false</code></td><td>-</td></tr><tr><td>blogId</td><td>String</td><td>æ˜¯</td><td></td><td>-</td></tr><tr><td>name</td><td>String</td><td>æ˜¯</td><td></td><td>-</td></tr><tr><td>keyword</td><td>String</td><td>æ˜¯</td><td></td><td>-</td></tr><tr><td>qrcode</td><td>String</td><td>æ˜¯</td><td></td><td>-</td></tr><tr><td>libUrl</td><td>String</td><td>å¦</td><td><code>https://qiniu.techgrow.cn/readmore/dist/readmore.js</code></td><td>-</td></tr><tr><td>cssUrl</td><td>String</td><td>å¦</td><td><code>https://qiniu.techgrow.cn/readmore/dist/hexo.css</code></td><td>-</td></tr><tr><td>debug</td><td>Boolean</td><td>å¦</td><td><code>true</code></td><td>-</td></tr><tr><td>height</td><td>String &#x2F; Number</td><td>å¦</td><td><code>auto</code></td><td>-</td></tr><tr><td>expires</td><td>Number</td><td>å¦</td><td><code>365</code></td><td>-</td></tr><tr><td>interval</td><td>Number</td><td>å¦</td><td><code>60</code></td><td>-</td></tr><tr><td>allowMobile</td><td>Boolean</td><td>å¦</td><td><code>false</code></td><td>-</td></tr><tr><td>pjaxSelector</td><td>String</td><td>å¦</td><td></td><td>-</td></tr><tr><td>pjaxCssClass</td><td>String</td><td>å¦</td><td></td><td>-</td></tr><tr><td>random</td><td>Number</td><td>å¦</td><td><code>1</code></td><td>-</td></tr><tr><td>excludes</td><td>Array</td><td>å¦</td><td></td><td>-</td></tr></tbody></table><h2 id="æ„å»º-hexo-æ„å»º-Hexo"><a href="#æ„å»º-hexo-æ„å»º-Hexo" class="headerlink" title="#(#æ„å»º-hexo) æ„å»º Hexo"></a>#(#æ„å»º-hexo) æ„å»º Hexo</h2><ul><li><p>è¿è¡Œ <code>hexo clean</code> å‘½ä»¤æ¸…ç†æœ¬åœ°åšå®¢</p></li><li><p>è¿è¡Œ <code>hexo generate</code> å‘½ä»¤æ„å»ºæœ¬åœ°åšå®¢</p></li><li><p>è¿è¡Œ <code>hexo server</code> å‘½ä»¤å¯åŠ¨æœ¬åœ°åšå®¢æœåŠ¡</p></li></ul><h2 id="éªŒè¯æ’ä»¶æ•ˆæœ-éªŒè¯æ’ä»¶æ•ˆæœ"><a href="#éªŒè¯æ’ä»¶æ•ˆæœ-éªŒè¯æ’ä»¶æ•ˆæœ" class="headerlink" title="#(#éªŒè¯æ’ä»¶æ•ˆæœ) éªŒè¯æ’ä»¶æ•ˆæœ"></a>#(#éªŒè¯æ’ä»¶æ•ˆæœ) éªŒè¯æ’ä»¶æ•ˆæœ</h2><p>æ‰“å¼€æ–‡ç« é¡µé¢ï¼Œè‹¥æ–‡ç« è‡ªåŠ¨éšè—äº†éƒ¨åˆ†å†…å®¹ï¼Œå¹¶ä¸”å‡ºç°äº† <code>é˜…è¯»å…¨æ–‡</code> æŒ‰é’®ï¼Œåˆ™è¯´æ˜å¼•æµæ’ä»¶æ­£å¸¸è¿è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://docs.techgrow.cn/v1/images/guide/3f53ab36dfa84fb99a6508ae46e5373a.png"></p><p>ç‚¹å‡» <code>é˜…è¯»å…¨æ–‡</code> æŒ‰é’®ï¼Œä¼šå¼¹å‡ºå¾®ä¿¡å…¬ä¼—å·çš„äºŒç»´ç çª—å£ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://docs.techgrow.cn/v1/images/guide/202980a480fd463c814a31d5cc3fb2a1.png"></p><h2 id="å–æ¶ˆé˜…è¯»é™åˆ¶-å–æ¶ˆé˜…è¯»é™åˆ¶"><a href="#å–æ¶ˆé˜…è¯»é™åˆ¶-å–æ¶ˆé˜…è¯»é™åˆ¶" class="headerlink" title="#(#å–æ¶ˆé˜…è¯»é™åˆ¶) å–æ¶ˆé˜…è¯»é™åˆ¶"></a>#(#å–æ¶ˆé˜…è¯»é™åˆ¶) å–æ¶ˆé˜…è¯»é™åˆ¶</h2><p>è‹¥å¸Œæœ›å…³é—­æŸç¯‡æ–‡ç« çš„å¾®ä¿¡å…¬ä¼—å·å¯¼æµåŠŸèƒ½ï¼Œå¯ä»¥åœ¨æ–‡ç« çš„å¤´æ¨¡æ¿ä¸­ä½¿ç”¨ <code>readmore: false</code> é…ç½®å±æ€§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:  Hexoç‰ˆæœ¬å‡çº§æ•™ç¨‹</span><br><span class="line">tags: [Hexo]</span><br><span class="line">readmore: false</span><br><span class="line">keywords: [Hexo, ç‰ˆæœ¬å‡çº§]</span><br><span class="line">date: 2022-01-12 22:25:49</span><br><span class="line">updated: 2022-01-12 22:25:49</span><br><span class="line">--- </span><br></pre></td></tr></table></figure><p>è‹¥å¸Œæœ›å…³é—­éƒ¨åˆ†æ–‡ç« çš„å¾®ä¿¡å…¬ä¼—å·å¼•æµåŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨æ’ä»¶çš„ <code>excludes</code> å‚æ•°æ¥å®ç°ï¼Œæ”¯æŒä½¿ç”¨è·¯å¾„ã€é€šé…ç¬¦çš„åŒ¹é…è§„åˆ™ã€‚</p><ul><li>æ ¹æ® URL è·¯å¾„ï¼Œå…³é—­æŸç¯‡æ–‡ç« çš„å¼•æµåŠŸèƒ½</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æ’é™¤ URL ä¸º `/notes/637e7b8f.html` çš„æ–‡ç« </span><br><span class="line">readmore:</span><br><span class="line">  ....</span><br><span class="line">  excludes:</span><br><span class="line">    - &#x27;/notes/637e7b8f.html&#x27; </span><br></pre></td></tr></table></figure><ul><li>æ ¹æ® URL é€šé…ç¬¦ï¼Œå…³é—­æŸä¸ªç›®å½•ä¸‹æ‰€æœ‰æ–‡ç« çš„å¼•æµåŠŸèƒ½</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># æ’é™¤ URL ä»¥ `/fontend` å¼€å¤´çš„æ–‡ç« </span><br><span class="line"># æ’é™¤ URL ä¸º `/backend/python/io` çš„æ–‡ç« </span><br><span class="line">readmore:</span><br><span class="line">  ....</span><br><span class="line">  excludes:</span><br><span class="line">    - &#x27;/fontend/*&#x27;</span><br><span class="line">    - &#x27;/backend/*/io&#x27; </span><br></pre></td></tr></table></figure><h2 id="pjax-çš„æ”¯æŒ-Pjax-çš„æ”¯æŒ"><a href="#pjax-çš„æ”¯æŒ-Pjax-çš„æ”¯æŒ" class="headerlink" title="#(#pjax-çš„æ”¯æŒ) Pjax çš„æ”¯æŒ"></a>#(#pjax-çš„æ”¯æŒ) Pjax çš„æ”¯æŒ</h2><p>å¦‚æœåšå®¢å¯ç”¨äº† Pjaxï¼Œé‚£ä¹ˆ Hexo å¼•æµæ’ä»¶éœ€è¦ä½¿ç”¨ <code>pjaxCssClass</code> å‚æ•°æŒ‡å®š Pjax æ”¯æŒé‡è½½çš„ Css ç±»åï¼ˆä¾‹å¦‚ <code>pjax</code>ï¼‰ï¼ŒåŒæ—¶éœ€è¦ä½¿ç”¨ <code>pjaxSelector</code> å‚æ•°æŒ‡å®šè·å–æ–‡ç« ä¸»ä½“å†…å®¹çš„ JS é€‰æ‹©å™¨ã€‚å¦åˆ™åœ¨ç«™ç‚¹å†…ï¼ˆå¦‚é¦–é¡µã€æ ‡ç­¾é¡µã€åˆ†ç±»é¡µã€å½’æ¡£é¡µç­‰ï¼‰é€šè¿‡é“¾æ¥è®¿é—®æ–‡ç« é¡µé¢æ—¶ï¼Œå¼•æµå·¥å…·ä¸ä¼šç”Ÿæ•ˆï¼Œé™¤éæ˜¯æ‰‹åŠ¨åˆ·æ–°ä¸€æ¬¡é¡µé¢ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä¸¤è€…éƒ½éœ€è¦æ ¹æ®ä¸åŒçš„ Hexo ä¸»é¢˜æ¥é…ç½®ï¼Œå…¶ä¸­ä¸åŒä¸»é¢˜çš„é…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ä¸»é¢˜</th><th>pjaxCssClass é…ç½®</th><th>pjaxSelector é…ç½®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><a href="https://github.com/next-theme/hexo-theme-next">NexT (opens new window)</a></td><td><code>pjaxCssClass: &#39;pjax&#39;</code></td><td><code>pjaxSelector: &#39;div.main-inner&#39;</code></td><td></td></tr><tr><td><a href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly (opens new window)</a></td><td><code>pjaxCssClass: &#39;js-pjax&#39;</code></td><td><code>pjaxSelector: &#39;main.layout&#39;</code></td><td></td></tr></tbody></table><p>é…ç½®æç¤º</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<code>pjaxCssClass</code> å‚æ•°çš„ä½œç”¨æ˜¯è®© Pjax é‡è½½å¼•æµå·¥å…·çš„ä»£ç æ®µï¼Œè€Œ <code>pjaxSelector</code> å‚æ•°çš„ä½œç”¨æ˜¯é€šè¿‡ JS é€‰æ‹©å™¨è·å–æ–‡ç« ä¸»ä½“å†…å®¹ã€‚å½“é…ç½®äº† <code>pjaxSelector</code> å’Œ <code>pjaxCssClass</code> å‚æ•°ä¹‹åï¼ŒHexo å¼•æµæ’ä»¶ä¼šå¾€æ‰€æœ‰æ¸²æŸ“åçš„ HTML é¡µé¢è‡ªåŠ¨æ·»åŠ å¼•æµä»£ç æ®µï¼ŒåŒ…æ‹¬ <code>page</code> å’Œ <code>post</code> çš„é¡µé¢ç±»å‹ã€‚å¦‚æœä¸¤è€…éƒ½ä¸é…ç½®ï¼Œåˆ™ Hexo å¼•æµæ’ä»¶é»˜è®¤åªä¼šå¾€æ¸²æŸ“åçš„ <code>post</code> é¡µé¢æ·»åŠ å¼•æµä»£ç æ®µã€‚</p><p>ç‰¹åˆ«æ³¨æ„</p><p>ç”±äº Pjax éå¸¸ä¾èµ–é¡µé¢å¸ƒå±€çš„ä¸€è‡´æ€§ï¼Œå› æ­¤è¯·ç¡®ä¿é€šè¿‡ <code>pjaxSelector</code> å‚æ•°æŒ‡å®šçš„ JS é€‰æ‹©å™¨åœ¨æ‰€æœ‰é¡µé¢ï¼ˆåŒ…æ‹¬ <code>page</code> å’Œ <code>post</code>ï¼‰éƒ½èƒ½å¤Ÿè·å–åˆ°å”¯ä¸€çš„ HTML æ ‡ç­¾å…ƒç´ ï¼Œå¦åˆ™ä¼šå¯¼è‡´éƒ¨åˆ†é¡µé¢çš„ Pjax æˆ–è€…å¼•æµåŠŸèƒ½ä¸ä¼šç”Ÿæ•ˆã€‚å¦‚æœæ— æ³•æ»¡è¶³è¿™ä¸€ç‚¹ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨æ›´æ”¹ Hexo ä¸»é¢˜çš„æ¨¡æ¿ä»£ç ï¼Œä½¿ JS é€‰æ‹©å™¨åœ¨æ‰€æœ‰é¡µé¢éƒ½èƒ½å¤Ÿè·å–åˆ°å”¯ä¸€çš„ HTML æ ‡ç­¾å…ƒç´ ã€‚Hexo ä¸»é¢˜æ¨¡æ¿ä»£ç çš„ä¿®æ”¹å¯ä»¥å‚è€ƒ <a href="https://github.com/rqh656418510/hexo-theme-next-8.x/commit/6e259889fdc867ccd8eb1163e9b1f0629493387a">NexT (opens new window)</a>ï¼Œç„¶åå°† <code>pjaxSelector</code> è®¾ç½®ä¸º <code>div.post-container</code>ã€‚</p><h2 id="è‡ªå®šä¹‰æ ·å¼-è‡ªå®šä¹‰æ ·å¼"><a href="#è‡ªå®šä¹‰æ ·å¼-è‡ªå®šä¹‰æ ·å¼" class="headerlink" title="#(#è‡ªå®šä¹‰æ ·å¼) è‡ªå®šä¹‰æ ·å¼"></a>#(#è‡ªå®šä¹‰æ ·å¼) è‡ªå®šä¹‰æ ·å¼</h2><p>æ’ä»¶é»˜è®¤ä½¿ç”¨äº†å®šä¹‰åœ¨ <a href="https://qiniu.techgrow.cn/readmore/dist/hexo.css">hexo.css (opens new window)</a> çš„ CSS æ ·å¼ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼è‡ªå®šä¹‰è‡ªå·±çš„æ ·å¼ï¼š</p><ul><li>ç¬¬ä¸€ç§æ–¹å¼ï¼šæ›´æ”¹åšå®¢ä¸»é¢˜çš„ CSS æºç æ–‡ä»¶ï¼Œå°†è‡ªå®šä¹‰çš„é‚£éƒ¨åˆ† CSS æ ·å¼æ·»åŠ åˆ°é‡Œé¢</li><li>ç¬¬äºŒç§æ–¹å¼ï¼šæ ¹æ® <a href="https://qiniu.techgrow.cn/readmore/dist/hexo.css">hexo.css (opens new window)</a> åˆ›å»ºè‡ªå·±çš„ CSS æ–‡ä»¶ï¼ˆå®Œæ•´çš„ï¼‰ï¼Œå¹¶å°†å…¶å­˜æ”¾åœ¨è‡ªå·±çš„åšå®¢é‡Œï¼ŒåŒæ—¶é€šè¿‡æ’ä»¶çš„ <code>cssUrl</code> é…ç½®å‚æ•°æ¥æŒ‡å®šå…¶è®¿é—®çš„ URL è·¯å¾„</li></ul><blockquote><p>æç¤ºï¼šä¸ºäº†æ–¹ä¾¿æ—¥åç»´æŠ¤ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼æ¥æ·»åŠ è‡ªå®šä¹‰æ ·å¼</p></blockquote><h2 id="å¼€æ”¾-api-å¼€æ”¾-API"><a href="#å¼€æ”¾-api-å¼€æ”¾-API" class="headerlink" title="#(#å¼€æ”¾-api) å¼€æ”¾ API"></a>#(#å¼€æ”¾-api) å¼€æ”¾ API</h2><p>è‹¥ä¸å¸Œæœ›ä¾èµ– TechGrow å®˜æ–¹æä¾›çš„ç³»ç»ŸæœåŠ¡ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨å¼€æ”¾ API çš„æ–¹å¼ï¼Œè®©å¼•æµæ’ä»¶ç›´æ¥ä½¿ç”¨ç§æœ‰åŒ–éƒ¨ç½²çš„åç«¯åº”ç”¨æœåŠ¡ï¼Œè¯¦ç»†ä»‹ç»è¯·çœ‹<a href="https://docs.techgrow.cn/v1/wechat/openapi/api/">è¿™é‡Œ</a>ã€‚</p><h2 id="å·²å…¼å®¹çš„ä¸»é¢˜-å·²å…¼å®¹çš„ä¸»é¢˜"><a href="#å·²å…¼å®¹çš„ä¸»é¢˜-å·²å…¼å®¹çš„ä¸»é¢˜" class="headerlink" title="#(#å·²å…¼å®¹çš„ä¸»é¢˜) å·²å…¼å®¹çš„ä¸»é¢˜"></a>#(#å·²å…¼å®¹çš„ä¸»é¢˜) å·²å…¼å®¹çš„ä¸»é¢˜</h2><table><thead><tr><th>ä¸»é¢˜</th><th>GitHub ä»“åº“</th></tr></thead><tbody><tr><td>NexT</td><td><a href="https://github.com/next-theme/hexo-theme-next">https://github.com/next-theme/hexo-theme-next (opens new window)</a></td></tr><tr><td>Yilia</td><td><a href="https://github.com/litten/hexo-theme-yilia">https://github.com/litten/hexo-theme-yilia (opens new window)</a></td></tr><tr><td>Icarus</td><td><a href="https://github.com/ppoffice/hexo-theme-icarus">https://github.com/ppoffice/hexo-theme-icarus (opens new window)</a></td></tr><tr><td>Matery</td><td><a href="https://github.com/blinkfox/hexo-theme-matery">https://github.com/blinkfox/hexo-theme-matery (opens new window)</a></td></tr><tr><td>Fluid</td><td><a href="https://github.com/fluid-dev/hexo-theme-fluid">https://github.com/fluid-dev/hexo-theme-fluid (opens new window)</a></td></tr><tr><td>Stun</td><td><a href="https://github.com/liuyib/hexo-theme-stun">https://github.com/liuyib/hexo-theme-stun (opens new window)</a></td></tr><tr><td>Butterfly</td><td><a href="https://github.com/jerryc127/hexo-theme-butterfly">https://github.com/jerryc127/hexo-theme-butterfly (opens new window)</a></td></tr></tbody></table><h2 id="å¸¸è§é—®é¢˜-å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜-å¸¸è§é—®é¢˜" class="headerlink" title="#(#å¸¸è§é—®é¢˜) å¸¸è§é—®é¢˜"></a>#(#å¸¸è§é—®é¢˜) å¸¸è§é—®é¢˜</h2><p>é—®é¢˜ä¸€</p><p>Hexo å®‰è£…æ’ä»¶åï¼Œæµè§ˆå™¨çš„æ§åˆ¶å°è¾“å‡ºè­¦å‘Šæˆ–è€…é”™è¯¯ä¿¡æ¯ï¼Œä¸”å¼•æµå·¥å…·æ— æ³•ç”Ÿæ•ˆ</p><p>æµè§ˆå™¨è®¿é—® Hexo åšå®¢åï¼ŒæŒ‰ä¸‹ <code>F12</code> å¿«æ·é”®è°ƒå‡ºè°ƒè¯•å·¥å…·ï¼Œç„¶ååˆ‡æ¢åˆ° <code>æ§åˆ¶å°</code>ï¼Œæœ€åå°†è­¦å‘Šæˆ–è€…é”™è¯¯ä¿¡æ¯æˆªå›¾ï¼Œå¹¶å‘é€åˆ° <a href="https://www.techgrow.cn/img/wx-group-qr-techgrow.png">å®˜æ–¹å¾®ä¿¡ç¾¤ (opens new window)</a> æˆ–è€… <code>656418510@qq.com</code> é‚®ç®±ï¼Œå»ºè®®ç•™è¨€å¤‡æ³¨ Hexo ä¸ Hexo ä¸»é¢˜çš„ç‰ˆæœ¬å·ã€‚</p><p>é—®é¢˜äºŒ</p><p>Hexo å®‰è£…æ’ä»¶åï¼Œç§»åŠ¨ç«¯çš„å¼•æµå·¥å…·æ— æ³•ç”Ÿæ•ˆï¼Œè€Œ PC ç«¯å´ç”Ÿæ•ˆ</p><p>è€ƒè™‘åˆ°ç”¨æˆ·ä½“éªŒçš„é—®é¢˜ï¼Œåœ¨ç§»åŠ¨ç«¯é»˜è®¤æ˜¯å…³é—­å¼•æµåŠŸèƒ½çš„ã€‚è‹¥å¸Œæœ›åœ¨ç§»åŠ¨ç«¯å¯ç”¨å¼•æµåŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ Hexo å¼•æµæ’ä»¶çš„ <code>allowMobile: true</code> é…ç½®å‚æ•°æ¥å®ç°ã€‚&#96; é…ç½®å‚æ•°æ¥å®ç°ã€‚</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> å¼•æµ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IntelliJ IDEA 2023.2.1 ä¿®å¤ç‰ˆæœ¬æ—¥å¿—</title>
      <link href="/5bae9190.html"/>
      <url>/5bae9190.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><p><img src="https://secure.gravatar.com/avatar/5deb5fdbb1c42239bffe4344b40a55ce?s=200&r=g"></p><p>æˆ‘ä»¬åˆšåˆšå‘å¸ƒäº† v2023.2 çš„ç¬¬ä¸€ä¸ªé”™è¯¯ä¿®å¤æ›´æ–°ã€‚</p><p>æ‚¨å¯ä»¥ä» IDE å†…éƒ¨ã€ä½¿ç”¨<a href="https://www.jetbrains.com/toolbox-app/">å·¥å…·ç®±åº”ç”¨ç¨‹åº</a>æˆ–é€šè¿‡å¿«ç…§ï¼ˆå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Ubuntuï¼‰æ›´æ–°åˆ°æ­¤ç‰ˆæœ¬ã€‚æ‚¨ä¹Ÿå¯ä»¥<a href="https://www.jetbrains.com/idea/download/">ç›´æ¥ä»æˆ‘ä»¬çš„ç½‘ç«™ä¸‹è½½</a>ã€‚</p><p>ä»¥ä¸‹æ˜¯æœ€æ–°ç‰ˆæœ¬ä¸­åŒ…å«çš„æœ€å€¼å¾—æ³¨æ„çš„æ”¹è¿›å’Œä¿®å¤çš„åˆ—è¡¨ï¼š</p><ul><li>æˆ‘ä»¬å·²ç»è§£å†³äº†ä¸»å·¥å…·æ ä»…å‡ºç°åœ¨ç¬¬ä¸€ä¸ªæ‰“å¼€çš„é¡¹ç›®ä¸Šçš„é—®é¢˜ï¼Œæ— è®ºæ˜¯åœ¨ WSL ä¸Šè¿˜æ˜¯åœ¨ Linux ä¸Šä½¿ç”¨å¹³é“ºçª—å£ç®¡ç†å™¨æ—¶ï¼Œéƒ½é€šè¿‡æ¢å¤åˆ°æœ¬æœºæ ‡å¤´ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-323700">IDEA-323700</a>]</li><li>ç°åœ¨å¯ä»¥åœ¨å¯ç”¨_â€œä¸æ“ä½œç³»ç»ŸåŒæ­¥_â€é€‰é¡¹çš„æƒ…å†µä¸‹ä» Windows åŒæ­¥è®¾ç½®åï¼Œåœ¨ Linux ä¸Šé€‰æ‹©ä¸€ä¸ªä¸»é¢˜ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-283945/">IDEA-283945</a>]</li><li>â€œ_æœåŠ¡â€_å·¥å…·çª—å£ä¸­çš„æ§åˆ¶å°ä¸å†æ„å¤–åœ°ä»å…¶ä»–å·¥å…·çª—å£æ‹‰å–ç„¦ç‚¹ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-219699/Database-console-takes-focus-in-Services-panel">IDEA-219699</a>]</li><li>å½“ Linux æœ¬æœºæ ‡å¤´å…³é—­æ—¶ï¼ŒIDE ä¸å†æ„å¤–åœ°åœ¨è¾…åŠ©ç›‘è§†å™¨ä¸Šè¿›å…¥å…¨å±æ¨¡å¼ã€‚ [<a href="https://youtrack.jetbrains.com/issue/IDEA-326021">IDEA-326021</a>]</li><li>ç°åœ¨ï¼Œå°†æ‰€é€‰æ–‡æœ¬æ‹–æ”¾åˆ°è£…è®¢çº¿å°†æ–‡æœ¬æŒ‰é¢„æœŸç§»åŠ¨åˆ°æ‰€é€‰è¡Œï¼Œè€Œä¸æ˜¯å¤åˆ¶å®ƒã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-324204">IDEA-324204</a>]</li><li>å½“æœ¬æœº Linux æ ‡å¤´å…³é—­æ—¶ï¼Œå¯ä»¥å†æ¬¡åœ¨è¾…åŠ©æ˜¾ç¤ºå™¨ä¸Šé€€å‡ºå…¨å±æ¨¡å¼ã€‚ [<a href="https://youtrack.jetbrains.com/issue/IDEA-323706">IDEA-323706</a>]</li><li>ä¿®å¤äº†åœ¨å…³é—­æœ¬æœºæ ‡å¤´çš„ Linux ä¸Šä½¿ç”¨è¾…åŠ©æ˜¾ç¤ºå™¨æ—¶å¯¼è‡´çª—å£å¤§å°è°ƒæ•´å’Œæ‹–æ”¾åŠŸèƒ½å‡ºç°æ•…éšœçš„é—®é¢˜ã€‚[IDEA-327169ï¼Œ <a href="https://youtrack.jetbrains.com/issue/IDEA-327169/">IDEA-327723</a><a href="https://youtrack.jetbrains.com/issue/IDEA-327723"></a>]</li><li>_â€œé¡¹ç›®_â€å·¥å…·çª—å£ä¸­çš„ç›®å½•åˆ—è¡¨å°†å†æ¬¡æ­£ç¡®åŠ è½½ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-326394">æƒ³æ³•-326394</a>]</li><li>åœ¨ Groovy ä¸­æŒ‡å®šæ³›å‹ç±»å‹å‚æ•°æ—¶ï¼ŒIDE ä¸å†å†»ç»“ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-316712">IDEA-316712</a>]</li><li>ç¼–è¾‘ XHTML æ–‡ä»¶æ—¶ï¼ŒIDE ä¸å†å†»ç»“ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-238917">IDEA-238917</a>]</li><li>æ‰“å°å†æ¬¡æŒ‰é¢„æœŸå·¥ä½œã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-323747">IDEA-323747</a>]</li><li>æ›´æ–°æ†ç»‘çš„æ’ä»¶ä¸å†ä» IDE çš„å®‰è£…æ–‡ä»¶å¤¹ä¸­åˆ é™¤æ’ä»¶æ–‡ä»¶ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-326800">IDEA-326800</a>]</li><li>OpenAPI è§„èŒƒæ’ä»¶åœ¨ä½¿ç”¨ OpenAPI 3.1.0 æ—¶ä¸å†é”™è¯¯åœ°è¦æ±‚æ¨¡å¼ç±»å‹å­—æ®µä¸ºæ•°ç»„ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-317690">IDEA-317690</a>]</li><li>IDE ç°åœ¨æ”¯æŒ OpenAPI 3.1ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-322411">IDEA-322411</a>]</li><li>å®¹å™¨é‡æ–°å¯åŠ¨åï¼ŒIDE å°†å†æ¬¡æ­£ç¡®æ˜¾ç¤ºæ‰€æœ‰ Docker å®¹å™¨æ—¥å¿—ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-318041">IDEA-318041</a>]</li><li>æˆ‘ä»¬ä¿®å¤äº†åœ¨é€šè¿‡_â€œæ–°å»ºç›®å½•_â€å¯¹è¯æ¡†åˆ›å»ºæºæ–‡ä»¶å¤¹æ—¶å¯¼è‡´æºæ¡ç›®é‡å¤çš„é—®é¢˜ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-310739">æƒ³æ³•-310739</a>]</li><li>ä¿®å¤äº†å¯¼è‡´ IDE åœ¨ç¼–è¾‘æ‰¹æ³¨ç±»å‹æ–¹æ³•åç§°åé”™è¯¯å¿½ç•¥æˆ–é”™è¯¯åœ°æŠ¥å‘Šä»£ç é”™è¯¯çš„é—®é¢˜ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-323331">IDEA-323331</a>]</li><li>å†æ¬¡å¯ä»¥åœ¨â€œ_æœç´¢æ‰€æœ‰ä½ç½®â€_å¯¹è¯æ¡†çš„â€œæ–‡ä»¶â€é€‰é¡¹å¡ä¸­åŒæ—¶é€‰æ‹©å’Œæ‰“å¼€å¤šä¸ª_æ–‡ä»¶_ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-326262">IDEA-326262</a>]</li><li>åœ¨å…³é—­æœ¬æœºæ ‡å¤´çš„ Linux ä¸Šä½¿ç”¨_é«˜å¯¹æ¯”åº¦_ä¸»é¢˜æ—¶å¯¼è‡´çª—å£æ§ä»¶è¢«é®æŒ¡çš„é—®é¢˜å·²å¾—åˆ°ä¿®å¤ã€‚[<a href="https://youtrack.jetbrains.com/issue/IDEA-326930">IDEA-326930</a>]</li><li>æ¯æ¬¡æ‰“å¼€ JetBrains å®¢æˆ·ç«¯æ—¶ï¼ŒIDE å°†ä¸å†æ˜¾ç¤ºè®¸å¯è¯å¯¹è¯æ¡†ã€‚[<a href="https://youtrack.jetbrains.com/issue/GTW-5838">GTW-5838</a>]</li></ul><p>ä» v2023.2.1 å¼€å§‹ï¼ŒIntelliJ IDEA æ†ç»‘çš„ Android æ’ä»¶æä¾›äº† Android Studio Giraffe Stable çš„åŠŸèƒ½å’Œé”™è¯¯ä¿®å¤ï¼ŒåŒ…æ‹¬å¯¹ Android Gradle æ’ä»¶ ï¼ˆAGPï¼‰ ç‰ˆæœ¬ 8.0.0 çš„æ”¯æŒã€‚è¯·æ³¨æ„ï¼Œè¯¥æ”¯æŒä¸åŒ…æ‹¬éœ€è¦ç™»å½• Firebase å¸æˆ·çš„åŠŸèƒ½ã€‚</p><p>æœ‰å…³æ­¤é”™è¯¯ä¿®å¤æ›´æ–°ä¸­è§£å†³çš„é—®é¢˜çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·æŸ¥çœ‹<a href="https://youtrack.jetbrains.com/articles/IDEA-A-2100661651/IntelliJ-IDEA-2023.2.1-232.9559.62-build-Release-Notes">å‘è¡Œè¯´æ˜</a>ã€‚è¯·éšæ—¶ä¸æˆ‘ä»¬åˆ†äº«æ‚¨çš„åé¦ˆï¼Œæˆ–ä½¿ç”¨æˆ‘ä»¬çš„<a href="https://youtrack.jetbrains.com/issues/IDEA">é—®é¢˜è·Ÿè¸ªå™¨</a>æŠ¥å‘Šæ‚¨é‡åˆ°çš„ä»»ä½•é”™è¯¯ã€‚</p><p>ç¥æ‚¨å‘å±•æ„‰å¿«ï¼ï¿½ï¿½</p><p>ç¥æ‚¨å‘å±•æ„‰å¿«ï¼</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> æ›´æ–°æ—¥å¿— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IDEA </tag>
            
            <tag> æ›´æ–°æ—¥å¿— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€é¢è¯•é¢˜ç³»åˆ—ã€‘ï¼ˆä¸€ï¼‰</title>
      <link href="/ca67f3be.html"/>
      <url>/ca67f3be.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="Redisæœ‰å“ªäº›æ•°æ®ç»“æ„ï¼Ÿå…¶åº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ"><a href="#Redisæœ‰å“ªäº›æ•°æ®ç»“æ„ï¼Ÿå…¶åº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ" class="headerlink" title="Redisæœ‰å“ªäº›æ•°æ®ç»“æ„ï¼Ÿå…¶åº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ"></a>Redisæœ‰å“ªäº›æ•°æ®ç»“æ„ï¼Ÿå…¶åº•å±‚æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</h1><p><a href="https://blog.zysicyj.top/84392d3f">Redis ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šæ·±å…¥äº†è§£ Redis æ•°æ®ç±»å‹å’Œåº•å±‚æ•°æ®ç»“æ„</a></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/image.png"></p><ol><li><p><strong>å­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼š</strong> ç”¨äºå­˜å‚¨æ–‡æœ¬æˆ–äºŒè¿›åˆ¶æ•°æ®ã€‚å¯ä»¥æ‰§è¡Œå­—ç¬¦ä¸²çš„åŸºæœ¬æ“ä½œï¼Œå¦‚è®¾ç½®ã€è·å–ã€å¢åŠ ã€å‡å°‘ç­‰ã€‚</p></li><li><p><strong>å“ˆå¸Œè¡¨ï¼ˆHashï¼‰ï¼š</strong> å­˜å‚¨é”®å€¼å¯¹é›†åˆï¼Œç±»ä¼¼äºå…³è”æ•°ç»„ã€‚é€‚ç”¨äºå­˜å‚¨å¯¹è±¡å±æ€§æˆ–é…ç½®ä¿¡æ¯ã€‚</p></li><li><p><strong>åˆ—è¡¨ï¼ˆListï¼‰ï¼š</strong> ä½¿ç”¨åŒå‘é“¾è¡¨å®ç°çš„æœ‰åºé›†åˆï¼Œå…è®¸æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚å¯ä»¥ç”¨äºå®ç°é˜Ÿåˆ—ã€æ ˆç­‰æ•°æ®ç»“æ„ã€‚</p></li><li><p><strong>é›†åˆï¼ˆSetï¼‰ï¼š</strong> å­˜å‚¨ä¸é‡å¤çš„æ— åºå…ƒç´ é›†åˆã€‚æ”¯æŒæ±‚äº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰æ“ä½œï¼Œé€‚ç”¨äºæ•°æ®å»é‡å’Œå…³è”æ€§æ“ä½œã€‚</p></li><li><p><strong>æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ï¼š</strong> ç±»ä¼¼äºé›†åˆï¼Œä½†æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªåˆ†æ•°ï¼ˆscoreï¼‰ï¼Œå¹¶æ ¹æ®åˆ†æ•°è¿›è¡Œæ’åºã€‚é€‚ç”¨äºæ’è¡Œæ¦œã€ä¼˜å…ˆçº§é˜Ÿåˆ—ç­‰åœºæ™¯ã€‚</p></li><li><p><strong>ä½å›¾ï¼ˆBitmapï¼‰ï¼š</strong> ä½¿ç”¨å­—ç¬¦ä¸²æ¥è¡¨ç¤ºä½çš„æ•°æ®ç»“æ„ï¼Œæ”¯æŒä½æ“ä½œã€‚é€‚ç”¨äºæ ‡è®°ã€è®¡æ•°ç­‰åœºæ™¯ã€‚</p></li><li><p><strong>HyperLogLogï¼š</strong> ç”¨äºä¼°è®¡é›†åˆä¸­å”¯ä¸€å…ƒç´ çš„ä¸ªæ•°ï¼Œå ç”¨å›ºå®šçš„å†…å­˜ç©ºé—´ï¼Œé€‚ç”¨äºåŸºæ•°ç»Ÿè®¡åœºæ™¯ã€‚</p></li><li><p><strong>åœ°ç†ç©ºé—´ï¼ˆGeoSpatialï¼‰ï¼š</strong> å­˜å‚¨åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œæ”¯æŒè·ç¦»è®¡ç®—å’Œä½ç½®æŸ¥è¯¢ã€‚</p></li></ol><h1 id="ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç¼“å­˜å‡»ç©¿ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h1><p>ç¼“å­˜å‡»ç©¿æ˜¯æŒ‡åœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œä¸€ä¸ªç¼“å­˜ä¸­ä¸å­˜åœ¨ä½†æ˜¯é¢‘ç¹è¢«è¯·æ±‚çš„æ•°æ®ï¼Œå¯¼è‡´è¯·æ±‚ç›´æ¥æ‰“åˆ°æ•°æ®åº“ï¼Œå¢åŠ æ•°æ®åº“çš„è´Ÿè½½å’Œå»¶è¿Ÿã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼š</p><ol><li><p><strong>çƒ­ç‚¹æ•°æ®å¤±æ•ˆï¼š</strong> å½“æŸä¸ªçƒ­ç‚¹æ•°æ®è¿‡æœŸæˆ–è¢«ç§»é™¤æ—¶ï¼Œå¤§é‡çš„å¹¶å‘è¯·æ±‚åŒæ—¶è®¿é—®è¯¥æ•°æ®ï¼Œå¯¼è‡´è¯·æ±‚ç»•è¿‡ç¼“å­˜ç›´æ¥è®¿é—®æ•°æ®åº“ã€‚</p></li><li><p><strong>åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„èŠ‚ç‚¹å¤±æ•ˆï¼š</strong> åœ¨åˆ†å¸ƒå¼ç¼“å­˜ç¯å¢ƒä¸‹ï¼Œå¦‚æœä¸€ä¸ªæˆ–å¤šä¸ªç¼“å­˜èŠ‚ç‚¹å¤±æ•ˆï¼Œä¼šå¯¼è‡´è¯·æ±‚æ— æ³•å‘½ä¸­ç¼“å­˜ï¼Œä»è€Œæ‰“åˆ°åç«¯æ•°æ®åº“ã€‚</p></li></ol><p>è§£å†³ç¼“å­˜å‡»ç©¿çš„æ–¹æ³•æœ‰å¤šç§ï¼Œå…¶ä¸­å¸¸è§çš„åŒ…æ‹¬ï¼š</p><ol><li><p><strong>è®¾ç½®çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸï¼š</strong> å¯¹äºçƒ­ç‚¹æ•°æ®ï¼Œå¯ä»¥è®¾ç½®æ°¸ä¸è¿‡æœŸï¼Œç¡®ä¿æ•°æ®å§‹ç»ˆå¯ç”¨ã€‚ä½†è¦æ³¨æ„ï¼Œè¿™ä¼šå ç”¨ç¼“å­˜ç©ºé—´ï¼Œå¯èƒ½å¯¼è‡´å…¶ä»–æ•°æ®çš„é©±é€ã€‚</p></li><li><p><strong>ä½¿ç”¨äº’æ–¥é”ï¼ˆMutex Lockï¼‰ï¼š</strong> åœ¨ç¼“å­˜å¤±æ•ˆæ—¶ï¼Œä½¿ç”¨äº’æ–¥é”æ¥æ§åˆ¶åªæœ‰ä¸€ä¸ªè¯·æ±‚èƒ½å¤Ÿä»æ•°æ®åº“åŠ è½½æ•°æ®ï¼Œå…¶ä»–è¯·æ±‚åœ¨ç­‰å¾…ä¸­ï¼Œé¿å…å¹¶å‘è®¿é—®æ•°æ®åº“ã€‚</p></li><li><p><strong>æå‰å¼‚æ­¥åŠ è½½ï¼š</strong> åœ¨æ•°æ®å³å°†è¿‡æœŸæ—¶ï¼Œå¯åŠ¨ä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡å»åŠ è½½æ•°æ®åˆ°ç¼“å­˜ï¼Œé¿å…è¿‡æœŸæ—¶ç›´æ¥è¯·æ±‚æ•°æ®åº“ã€‚</p></li><li><p><strong>ä½¿ç”¨åˆ†å¸ƒå¼é”ï¼š</strong> åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œå¯ä»¥ä½¿ç”¨åˆ†å¸ƒå¼é”æ¥ä¿æŠ¤ç¼“å­˜æ•°æ®çš„åŠ è½½è¿‡ç¨‹ï¼Œç¡®ä¿åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡ŒåŠ è½½ã€‚</p></li><li><p><strong>ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨ï¼š</strong> å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ç§ç”¨äºåˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥ç”¨æ¥åˆ¤æ–­æŸä¸ªæ•°æ®æ˜¯å¦éœ€è¦å»æ•°æ®åº“åŠ è½½ï¼Œå‡å°‘æ— æ•ˆçš„è¯·æ±‚ã€‚</p></li><li><p><strong>çƒ­ç‚¹æ•°æ®é¢„åŠ è½½ï¼š</strong> æå‰åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶åŠ è½½çƒ­ç‚¹æ•°æ®åˆ°ç¼“å­˜ï¼Œé¿å…åœ¨è¿è¡Œæ—¶å› ä¸ºç¼“å­˜å¤±æ•ˆè€Œå¼•èµ·çš„é—®é¢˜ã€‚</p></li></ol><p>é€‰æ‹©å“ªç§æ–¹æ³•å–å†³äºå…·ä½“çš„ä¸šåŠ¡åœºæ™¯å’Œéœ€æ±‚ï¼Œé€šå¸¸éœ€è¦æ ¹æ®ç³»ç»Ÿçš„ç‰¹ç‚¹å’Œè®¿é—®æ¨¡å¼æ¥ç»¼åˆè€ƒè™‘ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç¼“å­˜é›ªå´©ï¼Ÿä»€ä¹ˆåŸå› ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h1><p>ç¼“å­˜é›ªå´©æ˜¯æŒ‡ç¼“å­˜åœ¨æŸä¸ªæ—¶é—´æ®µå†…å¤§é¢ç§¯å¤±æ•ˆï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚ç›´æ¥è®¿é—®åç«¯æ•°æ®åº“ï¼Œé€ æˆæ•°æ®åº“å‹åŠ›æ¿€å¢å’Œç³»ç»Ÿæ€§èƒ½ä¸‹é™çš„æƒ…å†µã€‚é€šå¸¸å‘ç”Ÿåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼š</p><ol><li><p><strong>å¤§é‡ç¼“å­˜åŒæ—¶å¤±æ•ˆï¼š</strong> å½“å¤šä¸ªç¼“å­˜æ•°æ®åœ¨åŒä¸€ä¸ªæ—¶é—´æ®µå†…åŒæ—¶å¤±æ•ˆï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚ç›´æ¥æ‰“åˆ°åç«¯æ•°æ®åº“ã€‚</p></li><li><p><strong>ç¼“å­˜æœåŠ¡å™¨å®•æœºï¼š</strong> å¦‚æœç¼“å­˜æœåŠ¡å™¨å®•æœºï¼Œç¼“å­˜æ•°æ®ä¸å¯ç”¨ï¼Œè¯·æ±‚ä¼šç›´æ¥è®¿é—®åç«¯æ•°æ®åº“ã€‚</p></li><li><p><strong>ä¸šåŠ¡é«˜å³°æœŸï¼š</strong> åœ¨ä¸šåŠ¡é«˜å³°æœŸï¼Œè®¿é—®é‡å‰§å¢ï¼Œç¼“å­˜å¤±æ•ˆå¯¼è‡´æ•°æ®åº“è¯·æ±‚æ¿€å¢ã€‚</p></li></ol><p>è§£å†³ç¼“å­˜é›ªå´©çš„æ–¹æ³•åŒ…æ‹¬ï¼š</p><ol><li><p><strong>ä½¿ç”¨å¤šçº§ç¼“å­˜ï¼š</strong> å¼•å…¥å¤šçº§ç¼“å­˜ï¼Œå°†æ•°æ®åŒæ—¶å­˜å‚¨åœ¨å¤šä¸ªç¼“å­˜å±‚ï¼Œé™ä½æŸä¸ªç¼“å­˜å±‚å¤±æ•ˆçš„é£é™©ã€‚</p></li><li><p><strong>è®¾ç½®éšæœºè¿‡æœŸæ—¶é—´ï¼š</strong> å¯¹äºç›¸åŒç±»å‹çš„æ•°æ®ï¼Œè®¾ç½®éšæœºçš„è¿‡æœŸæ—¶é—´ï¼Œé¿å…å¤§é‡æ•°æ®åŒæ—¶å¤±æ•ˆã€‚</p></li><li><p><strong>ç¼“å­˜æ•°æ®æ°¸ä¸è¿‡æœŸï¼š</strong> å¯¹äºçƒ­ç‚¹æ•°æ®ï¼Œå¯ä»¥è®¾ç½®æ°¸ä¸è¿‡æœŸï¼Œç¡®ä¿æ•°æ®å§‹ç»ˆå¯ç”¨ã€‚</p></li><li><p><strong>å¼‚æ­¥åŠ è½½ç¼“å­˜ï¼š</strong> åœ¨ç¼“å­˜å¤±æ•ˆæ—¶ï¼Œå¯åŠ¨å¼‚æ­¥ä»»åŠ¡å»åŠ è½½æ•°æ®ï¼Œé¿å…åœ¨ç¼“å­˜å¤±æ•ˆæ—¶ç›´æ¥è®¿é—®æ•°æ®åº“ã€‚</p></li><li><p><strong>é™æµé™çº§ï¼š</strong> åœ¨é«˜å³°æœŸé™åˆ¶è¯·æ±‚çš„å¹¶å‘æ•°ï¼Œå°†éƒ¨åˆ†è¯·æ±‚é™çº§å¤„ç†ï¼Œé¿å…å¯¹åç«¯æœåŠ¡é€ æˆè¿‡å¤§å‹åŠ›ã€‚</p></li><li><p><strong>ç†”æ–­ç­–ç•¥ï¼š</strong> æ ¹æ®ç³»ç»Ÿè´Ÿè½½æƒ…å†µï¼Œå®æ–½ç†”æ–­ç­–ç•¥ï¼Œé¿å…ç³»ç»Ÿå´©æºƒã€‚</p></li><li><p><strong>ç¼“å­˜é¢„çƒ­ï¼š</strong> åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œé¢„å…ˆåŠ è½½çƒ­ç‚¹æ•°æ®åˆ°ç¼“å­˜ï¼Œé¿å…ç³»ç»Ÿå¯åŠ¨æ—¶çš„å¤§é‡è¯·æ±‚ã€‚</p></li><li><p><strong>åˆ†å¸ƒå¼éƒ¨ç½²ï¼š</strong> å°†ç¼“å­˜æœåŠ¡å™¨åˆ†å¸ƒåœ¨ä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œé™ä½å•ç‚¹æ•…éšœçš„é£é™©ã€‚</p></li></ol><p>ç»¼åˆè€ƒè™‘ä¸šåŠ¡éœ€æ±‚å’Œç³»ç»Ÿç‰¹ç‚¹ï¼Œå¯ä»¥é‡‡ç”¨ä¸Šè¿°æ–¹æ³•æ¥è§£å†³ç¼“å­˜é›ªå´©é—®é¢˜ï¼Œä¿éšœç³»ç»Ÿçš„ç¨³å®šæ€§å’Œæ€§èƒ½ã€‚</p><h1 id="RedisæŒä¹…åŒ–æœºåˆ¶äº†è§£å—ï¼Ÿ"><a href="#RedisæŒä¹…åŒ–æœºåˆ¶äº†è§£å—ï¼Ÿ" class="headerlink" title="RedisæŒä¹…åŒ–æœºåˆ¶äº†è§£å—ï¼Ÿ"></a>RedisæŒä¹…åŒ–æœºåˆ¶äº†è§£å—ï¼Ÿ</h1><p><a href="https://blog.zysicyj.top/52275545">Redis ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šæ·±å…¥è§£è¯» Redis çš„ä¸¤ç§æŒä¹…åŒ–æ–¹å¼</a></p><p>æ˜¯çš„ï¼ŒRediså…·æœ‰ä¸¤ç§ä¸»è¦çš„æŒä¹…åŒ–æœºåˆ¶ï¼šRDBï¼ˆRedis Databaseï¼‰å¿«ç…§å’ŒAOFï¼ˆAppend-Only Fileï¼‰æ—¥å¿—ã€‚è¿™äº›æœºåˆ¶ç”¨äºå°†å†…å­˜ä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¸Šï¼Œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</p><ol><li><p><strong>RDBå¿«ç…§ï¼š</strong></p><ul><li>RDBæŒä¹…åŒ–é€šè¿‡å°†å†…å­˜ä¸­çš„æ•°æ®å¿«ç…§ä¿å­˜åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆä¾‹å¦‚<code>dump.rdb</code>ï¼‰ä¸­æ¥å®ç°ã€‚</li><li>å¯ä»¥æ‰‹åŠ¨æ‰§è¡ŒRDBå¿«ç…§ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®é¡¹å®šæœŸè‡ªåŠ¨æ‰§è¡Œã€‚</li><li>ä¼˜ç‚¹æ˜¯æ–‡ä»¶å°ï¼Œé€‚åˆå¤‡ä»½å’Œæ¢å¤ï¼Œå¯¹æ€§èƒ½å½±å“è¾ƒå°ã€‚</li><li>ç¼ºç‚¹æ˜¯æ•°æ®å¯èƒ½åœ¨ä¸¤æ¬¡å¿«ç…§ä¹‹é—´å‘ç”Ÿä¸¢å¤±ï¼Œä¸é€‚åˆæ•°æ®å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ã€‚</li></ul></li><li><p><strong>AOFæ—¥å¿—ï¼š</strong></p><ul><li>AOFæŒä¹…åŒ–è®°å½•æ¯ä¸ªå†™æ“ä½œï¼ˆä¾‹å¦‚SETã€DELï¼‰åˆ°ä¸€ä¸ªè¿½åŠ çš„æ—¥å¿—æ–‡ä»¶ï¼ˆä¾‹å¦‚<code>appendonly.aof</code>ï¼‰ä¸­ã€‚</li><li>AOFæ–‡ä»¶ä»¥æ–‡æœ¬æ–¹å¼è®°å½•ï¼Œå¯ä»¥éšæ—¶å¯¹å…¶è¿›è¡Œè¿½åŠ ã€æ›´æ–°å’Œé‡å†™ã€‚</li><li>å¯ä»¥é€šè¿‡é…ç½®é¡¹è®¾ç½®ä¸åŒçš„AOFç­–ç•¥ï¼š<code>always</code>ï¼ˆæ¯æ¬¡å†™æ“ä½œéƒ½è®°å½•ï¼‰ã€<code>everysec</code>ï¼ˆæ¯ç§’è®°å½•ä¸€æ¬¡ï¼‰ã€<code>no</code>ï¼ˆä¸è®°å½•ï¼‰ã€‚</li><li>ä¼˜ç‚¹æ˜¯å¯ä»¥å®ç°æ›´é«˜çš„æ•°æ®å®æ—¶æ€§ï¼Œé€‚åˆå¯¹æ•°æ®å®‰å…¨æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ã€‚</li><li>ç¼ºç‚¹æ˜¯AOFæ–‡ä»¶ç›¸å¯¹è¾ƒå¤§ï¼Œæ¢å¤é€Ÿåº¦å¯èƒ½è¾ƒæ…¢ã€‚</li></ul></li></ol><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŒä¹…åŒ–æœºåˆ¶ï¼Œç”šè‡³å¯ä»¥åŒæ—¶ä½¿ç”¨RDBå’ŒAOFï¼Œä»¥æé«˜æ•°æ®çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚å¦å¤–ï¼ŒRedisè¿˜æä¾›äº†æ··åˆæŒä¹…åŒ–çš„æ–¹å¼ï¼ˆé»˜è®¤ä½¿ç”¨AOFæ¥æ¢å¤æ•°æ®ï¼Œè€ŒRDBç”¨äºå¤‡ä»½ï¼‰ï¼Œä»¥å……åˆ†å‘æŒ¥ä¸¤ç§æŒä¹…åŒ–æœºåˆ¶çš„ä¼˜åŠ¿ã€‚</p><h1 id="Redisåº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"><a href="#Redisåº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="Redisåº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ"></a>Redisåº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h1><ol><li><p><strong>ç¼“å­˜ï¼š</strong> æœ€å¸¸è§çš„ç”¨é€”ï¼Œå°†çƒ­é—¨æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä»¥æé«˜è®¿é—®é€Ÿåº¦ï¼Œå‡è½»æ•°æ®åº“è´Ÿæ‹…ã€‚é€‚ç”¨äºè¯»å–é¢‘ç¹ã€æ•°æ®é‡è¾ƒå¤§çš„åœºæ™¯ã€‚</p></li><li><p><strong>ä¼šè¯å­˜å‚¨ï¼š</strong> å°†ç”¨æˆ·ä¼šè¯æ•°æ®å­˜å‚¨åœ¨Redisä¸­ï¼Œå®ç°åˆ†å¸ƒå¼ä¼šè¯ç®¡ç†ï¼Œä»¥é¿å…å•ç‚¹æ•…éšœå’ŒçŠ¶æ€å…±äº«é—®é¢˜ã€‚</p></li><li><p><strong>è®¡æ•°å™¨å’Œç»Ÿè®¡ï¼š</strong> Redisçš„åŸå­æ“ä½œå¯ä»¥å®ç°è®¡æ•°å™¨åŠŸèƒ½ï¼Œç”¨äºç»Ÿè®¡é¡µé¢è®¿é—®ã€ç‚¹èµã€è¯„è®ºç­‰ã€‚</p></li><li><p><strong>æ’è¡Œæ¦œ&#x2F;çƒ­é—¨å†…å®¹ï¼š</strong> åˆ©ç”¨æœ‰åºé›†åˆï¼ˆSorted Setï¼‰æ•°æ®ç»“æ„ï¼Œå­˜å‚¨å¹¶æ’åç”¨æˆ·ã€æ–‡ç« ã€å•†å“ç­‰ï¼Œä»¥å®ç°æ’è¡Œæ¦œæˆ–å±•ç¤ºçƒ­é—¨å†…å®¹ã€‚</p></li><li><p><strong>å‘å¸ƒè®¢é˜…ï¼š</strong> Redisçš„å‘å¸ƒè®¢é˜…æœºåˆ¶å…è®¸å®æ—¶åœ°å°†æ¶ˆæ¯å‘å¸ƒç»™è®¢é˜…è€…ï¼Œç”¨äºæ„å»ºå®æ—¶é€šçŸ¥ã€èŠå¤©å®¤ç­‰åŠŸèƒ½ã€‚</p></li><li><p><strong>åˆ†å¸ƒå¼é”ï¼š</strong> åˆ©ç”¨Redisçš„åŸå­æ“ä½œå’Œè¿‡æœŸæ—¶é—´è®¾ç½®ï¼Œå®ç°åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„é”æœºåˆ¶ï¼Œä¿éšœèµ„æºçš„äº’æ–¥è®¿é—®ã€‚</p></li><li><p><strong>é™æµå™¨ï¼š</strong> åˆ©ç”¨Redisçš„ä»¤ç‰Œæ¡¶æˆ–æ¼æ¡¶ç®—æ³•ï¼Œå®ç°è¯·æ±‚çš„é™æµæ§åˆ¶ï¼Œé˜²æ­¢çªå‘æµé‡å½±å“ç³»ç»Ÿç¨³å®šæ€§ã€‚</p></li><li><p><strong>ç¼“å­˜ç©¿é€é˜²æŠ¤ï¼š</strong> å°†ç©ºå€¼æˆ–å¼‚å¸¸æ•°æ®å­˜å‚¨åœ¨ç¼“å­˜ä¸­ï¼Œé¿å…ç¼“å­˜ç©¿é€å¼•èµ·çš„æ•°æ®åº“æŸ¥è¯¢å‹åŠ›ã€‚</p></li><li><p><strong>åœ°ç†ä½ç½®æœåŠ¡ï¼š</strong> åˆ©ç”¨Redisçš„åœ°ç†ä½ç½®æ•°æ®ç±»å‹ï¼Œå­˜å‚¨å¹¶æŸ¥è¯¢åœ°ç†ä½ç½®ä¿¡æ¯ï¼Œç”¨äºé™„è¿‘çš„äººã€åœ°ç‚¹ç­‰åŠŸèƒ½ã€‚</p></li><li><p><strong>ä»»åŠ¡é˜Ÿåˆ—ï¼š</strong> åˆ©ç”¨åˆ—è¡¨æ•°æ®ç»“æ„ï¼Œå®ç°å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¤„ç†åå°ä»»åŠ¡ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚</p></li><li><p><strong>å³æ—¶æ•°æ®åˆ†æï¼š</strong> å°†å®æ—¶äº§ç”Ÿçš„æ•°æ®å­˜å‚¨åœ¨Redisä¸­ï¼Œä¾›æ•°æ®åˆ†æä½¿ç”¨ï¼Œå¦‚å®æ—¶ç›‘æ§ã€å®æ—¶æŠ¥è¡¨ç­‰ã€‚</p></li></ol><p>è¿™äº›åªæ˜¯Redisåº”ç”¨åœºæ™¯çš„ä¸€éƒ¨åˆ†ï¼Œå®é™…ä¸Šï¼Œç”±äºRedisçš„é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿå’Œä¸°å¯Œçš„æ•°æ®ç»“æ„ï¼Œå®ƒåœ¨å¾ˆå¤šé¢†åŸŸéƒ½æœ‰å¹¿æ³›çš„åº”ç”¨ã€‚æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚ï¼Œå¯ä»¥çµæ´»é€‰æ‹©åˆé€‚çš„åœºæ™¯æ¥ä½¿ç”¨Redisã€‚</p><h1 id="Redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ"><a href="#Redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ" class="headerlink" title="Redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ"></a>Redisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ</h1><p>Redisä¹‹æ‰€ä»¥å…·æœ‰å¦‚æ­¤é«˜çš„æ€§èƒ½ï¼Œä¸»è¦æ˜¯ç”±äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„è®¾è®¡å’Œä¼˜åŒ–ï¼š</p><ol><li><p><strong>å†…å­˜å­˜å‚¨ï¼š</strong> Rediså°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜çš„è¯»å†™é€Ÿåº¦è¿œé«˜äºç£ç›˜ï¼Œå› æ­¤èƒ½å¤Ÿå®ç°æä½çš„è¯»å†™å»¶è¿Ÿã€‚</p></li><li><p><strong>å•çº¿ç¨‹æ¨¡å‹ï¼š</strong> Redisé‡‡ç”¨å•çº¿ç¨‹æ¨¡å‹å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œé¿å…äº†å¤šçº¿ç¨‹çš„é”ç«äº‰å’Œä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ï¼Œå‡å°‘äº†æ€§èƒ½æŸè€—ã€‚</p></li><li><p><strong>éé˜»å¡IOï¼š</strong> Redisä½¿ç”¨éé˜»å¡IOå’Œäº‹ä»¶é©±åŠ¨çš„æ–¹å¼æ¥å¤„ç†å®¢æˆ·ç«¯è¿æ¥å’Œç½‘ç»œé€šä¿¡ï¼Œæœ‰æ•ˆåˆ©ç”¨äº†æ“ä½œç³»ç»Ÿæä¾›çš„å¼‚æ­¥IOæœºåˆ¶ï¼Œæé«˜äº†å¹¶å‘èƒ½åŠ›ã€‚</p></li><li><p><strong>æ•°æ®ç»“æ„ä¼˜åŒ–ï¼š</strong> Rediså†…ç½®äº†å¤šç§é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œå¦‚å“ˆå¸Œè¡¨ã€æœ‰åºé›†åˆã€è·³è¡¨ç­‰ï¼Œé’ˆå¯¹ä¸åŒçš„åº”ç”¨åœºæ™¯é€‰æ‹©æœ€åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œæé«˜äº†æ•°æ®æ“ä½œçš„æ•ˆç‡ã€‚</p></li><li><p><strong>æŒä¹…åŒ–ç­–ç•¥ï¼š</strong> Redisæ”¯æŒå¤šç§æŒä¹…åŒ–æ–¹å¼ï¼Œå¦‚RDBå¿«ç…§å’ŒAOFæ—¥å¿—ï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŒä¹…åŒ–ç­–ç•¥ï¼Œä¿éšœæ•°æ®çš„å¯é æ€§ã€‚</p></li><li><p><strong>å¤šç§ç½‘ç»œåè®®æ”¯æŒï¼š</strong> Redisæ”¯æŒå¤šç§ç½‘ç»œåè®®ï¼Œå¦‚HTTPã€RESPï¼ˆRedis Serialization Protocolï¼‰ç­‰ï¼Œæ–¹ä¾¿ä¸åŒç¼–ç¨‹è¯­è¨€å’Œåº”ç”¨ç¨‹åºä¸Redisè¿›è¡Œäº¤äº’ã€‚</p></li><li><p><strong>æ•°æ®å‹ç¼©ï¼š</strong> Redisåœ¨å­˜å‚¨æ•°æ®æ—¶è¿›è¡Œäº†å‹ç¼©ï¼Œå‡å°äº†å†…å­˜å ç”¨ï¼Œæé«˜äº†æ•°æ®çš„å­˜å‚¨å¯†åº¦ã€‚</p></li><li><p><strong>é¢„åˆ†é…å†…å­˜ï¼š</strong> Redisåœ¨å¯åŠ¨æ—¶é¢„å…ˆåˆ†é…ä¸€å®šæ•°é‡çš„å†…å­˜ï¼Œå‡å°‘äº†å†…å­˜åˆ†é…çš„å¼€é”€ï¼Œæé«˜äº†å†…å­˜ä½¿ç”¨æ•ˆç‡ã€‚</p></li><li><p><strong>ç®¡é“æŠ€æœ¯ï¼š</strong> Redisçš„ç®¡é“ï¼ˆPipelineï¼‰æŠ€æœ¯å…è®¸å®¢æˆ·ç«¯å‘é€å¤šä¸ªå‘½ä»¤ï¼Œåœ¨ä¸€ä¸ªè¿æ¥ä¸Šè¿ç»­æ‰§è¡Œï¼Œå‡å°‘äº†ç½‘ç»œé€šä¿¡çš„å¼€é”€ã€‚</p></li><li><p><strong>é«˜æ•ˆçš„æ’åºç®—æ³•ï¼š</strong> åœ¨æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ä¸­ï¼ŒRedisé‡‡ç”¨è·³è¡¨ï¼ˆSkip Listï¼‰ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ï¼Œå®ç°äº†é«˜æ•ˆçš„æ’åºå’Œæ£€ç´¢ã€‚</p></li></ol><h1 id="Redisäº‹åŠ¡å¦‚ä½•å®ç°ï¼Ÿ"><a href="#Redisäº‹åŠ¡å¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="Redisäº‹åŠ¡å¦‚ä½•å®ç°ï¼Ÿ"></a>Redisäº‹åŠ¡å¦‚ä½•å®ç°ï¼Ÿ</h1><p>Redisäº‹åŠ¡æ˜¯ä¸€ç»„å‘½ä»¤çš„é›†åˆï¼Œå¯ä»¥åœ¨ä¸€ä¸ªåŸå­æ“ä½œå†…æ‰§è¡Œå¤šä¸ªå‘½ä»¤ã€‚Redisçš„äº‹åŠ¡é€šè¿‡MULTIã€EXECã€WATCHã€DISCARDç­‰å‘½ä»¤æ¥å®ç°ï¼Œå®ƒæä¾›äº†ç±»ä¼¼äºä¼ ç»Ÿæ•°æ®åº“çš„äº‹åŠ¡ç‰¹æ€§ï¼Œä½†ä¸ä¼ ç»Ÿæ•°æ®åº“çš„äº‹åŠ¡æœ‰ä¸€äº›ä¸åŒä¹‹å¤„ã€‚</p><p>ä»¥ä¸‹æ˜¯Redisäº‹åŠ¡çš„å®ç°æµç¨‹ï¼š</p><ol><li><p><strong>MULTIå‘½ä»¤ï¼š</strong> äº‹åŠ¡å¼€å§‹æ—¶ï¼Œå®¢æˆ·ç«¯å‘é€MULTIå‘½ä»¤ï¼Œå‘Šè¯‰Rediså¼€å§‹è®°å½•åç»­çš„å‘½ä»¤åºåˆ—ã€‚</p></li><li><p><strong>å¤šä¸ªå‘½ä»¤ï¼š</strong> åœ¨MULTIå’ŒEXECä¹‹é—´çš„å‘½ä»¤ä¼šè¢«åŠ å…¥åˆ°äº‹åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä½†å¹¶ä¸ä¼šç«‹å³æ‰§è¡Œã€‚</p></li><li><p><strong>EXECå‘½ä»¤ï¼š</strong> å½“å®¢æˆ·ç«¯å‘é€EXECå‘½ä»¤æ—¶ï¼ŒRedisä¼šä¾æ¬¡æ‰§è¡Œäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„å‘½ä»¤ã€‚åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼ŒRedisä¼šå°†äº‹åŠ¡é˜Ÿåˆ—ä¸­çš„å‘½ä»¤ä¾æ¬¡æ‰§è¡Œï¼Œå¦‚æœå…¶ä¸­çš„æŸä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œä¸ä¼šå½±å“å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œã€‚</p></li><li><p><strong>äº‹åŠ¡æ‰§è¡Œç»“æœï¼š</strong> EXECå‘½ä»¤æ‰§è¡Œå®Œæˆåï¼ŒRedisä¼šè¿”å›äº‹åŠ¡ä¸­æ‰€æœ‰å‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œä»¥æ•°ç»„å½¢å¼è¿”å›ã€‚å¦‚æœäº‹åŠ¡ä¸­çš„æŸä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œå¯¹åº”çš„ç»“æœå°†æ˜¯é”™è¯¯ä¿¡æ¯ã€‚</p></li><li><p><strong>DISCARDå‘½ä»¤ï¼š</strong> å¦‚æœåœ¨MULTIå’ŒEXECä¹‹é—´ï¼Œå®¢æˆ·ç«¯å‘é€äº†DISCARDå‘½ä»¤ï¼Œé‚£ä¹ˆäº‹åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«æ¸…é™¤ï¼Œäº‹åŠ¡è¢«å–æ¶ˆã€‚</p></li><li><p><strong>WATCHå‘½ä»¤ï¼š</strong> ä¸ºäº†å®ç°ä¹è§‚é”çš„æœºåˆ¶ï¼Œå¯ä»¥ä½¿ç”¨WATCHå‘½ä»¤ç›‘è§†ä¸€ä¸ªæˆ–å¤šä¸ªé”®ã€‚å¦‚æœåœ¨äº‹åŠ¡æ‰§è¡Œå‰ï¼Œæœ‰å…¶ä»–å®¢æˆ·ç«¯ä¿®æ”¹äº†è¢«ç›‘è§†çš„é”®ï¼Œæ•´ä¸ªäº‹åŠ¡ä¼šè¢«å–æ¶ˆã€‚</p></li></ol><p>Redisäº‹åŠ¡çš„ç‰¹ç‚¹ï¼š</p><ul><li>Redisäº‹åŠ¡æ˜¯åŸå­æ€§çš„ï¼šåœ¨EXECæ‰§è¡ŒæœŸé—´ï¼Œäº‹åŠ¡ä¸­çš„æ‰€æœ‰å‘½ä»¤è¦ä¹ˆéƒ½è¢«æ‰§è¡Œï¼Œè¦ä¹ˆéƒ½ä¸è¢«æ‰§è¡Œã€‚</li><li>Redisäº‹åŠ¡æ˜¯éš”ç¦»çš„ï¼šäº‹åŠ¡çš„æ‰§è¡Œè¿‡ç¨‹ä¸ä¼šå—åˆ°å…¶ä»–å®¢æˆ·ç«¯çš„å½±å“ã€‚</li><li>Redisäº‹åŠ¡æ˜¯ä¸æ”¯æŒå›æ»šçš„ï¼šå³ä½¿å…¶ä¸­æŸä¸ªå‘½ä»¤æ‰§è¡Œå¤±è´¥ï¼Œä¸ä¼šå›æ»šå‰é¢å·²ç»æ‰§è¡Œçš„å‘½ä»¤ã€‚</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶Redisäº‹åŠ¡æä¾›äº†ä¸€ç§å°è£…å¤šä¸ªå‘½ä»¤çš„æ–¹å¼ï¼Œä½†æ˜¯ç”±äºRedisçš„å•çº¿ç¨‹æ¨¡å‹ï¼Œäº‹åŠ¡ä¸­çš„æŸäº›å‘½ä»¤å¯èƒ½ä¼šå› ä¸ºç‰¹å®šçš„æƒ…å†µï¼ˆå¦‚é˜»å¡æ“ä½œï¼‰å¯¼è‡´æ•´ä¸ªäº‹åŠ¡æ‰§è¡Œçš„æ—¶é—´è¾ƒé•¿ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨Redisäº‹åŠ¡æ—¶ï¼Œéœ€è¦è€ƒè™‘äº‹åŠ¡æ‰§è¡ŒæœŸé—´å¯èƒ½çš„æ€§èƒ½å½±å“ã€‚</p><h1 id="Redisè¿‡æœŸé”®åˆ é™¤ç­–ç•¥ï¼Ÿ"><a href="#Redisè¿‡æœŸé”®åˆ é™¤ç­–ç•¥ï¼Ÿ" class="headerlink" title="Redisè¿‡æœŸé”®åˆ é™¤ç­–ç•¥ï¼Ÿ"></a>Redisè¿‡æœŸé”®åˆ é™¤ç­–ç•¥ï¼Ÿ</h1><p>åœ¨Redisä¸­ï¼Œæœ‰ä¸¤ç§ä¸»è¦çš„è¿‡æœŸé”®åˆ é™¤ç­–ç•¥ï¼Œåˆ†åˆ«æ˜¯æƒ°æ€§åˆ é™¤å’Œå®šæœŸåˆ é™¤ï¼Œè¿˜æœ‰ä¸€äº›æ·˜æ±°ç­–ç•¥ç”¨äºé‡Šæ”¾å†…å­˜ç©ºé—´ã€‚ä»¥ä¸‹æ˜¯è¿™äº›ç­–ç•¥çš„è¯¦ç»†è¯´æ˜ï¼š</p><ol><li><p><strong>æƒ°æ€§åˆ é™¤ï¼ˆLazy Expirationï¼‰ï¼š</strong> è¿™æ˜¯Redisé»˜è®¤çš„è¿‡æœŸé”®åˆ é™¤ç­–ç•¥ã€‚å½“è®¿é—®ä¸€ä¸ªå·²ç»è¿‡æœŸçš„é”®æ—¶ï¼ŒRedisä¼šç«‹å³åˆ é™¤è¯¥é”®å¹¶è¿”å›ç©ºå€¼ã€‚è¿™ç§ç­–ç•¥é¿å…äº†åœ¨è®¿é—®æ—¶æ‰åˆ é™¤é”®ï¼ŒèŠ‚çœäº†å†…å­˜å’ŒCPUèµ„æºã€‚</p></li><li><p><strong>å®šæœŸåˆ é™¤ï¼ˆå®šæ—¶ä»»åŠ¡åˆ é™¤ï¼‰ï¼š</strong> Redisä¼šéšæœºæŠ½å–ä¸€äº›è¿‡æœŸé”®ï¼Œå¹¶æ£€æŸ¥å®ƒä»¬æ˜¯å¦è¿‡æœŸã€‚å¦‚æœè¿‡æœŸï¼Œå°±ä¼šåˆ é™¤è¿™äº›é”®ã€‚è¿™ç§ç­–ç•¥é€šè¿‡å®šæœŸä»»åŠ¡è¿›è¡Œåˆ é™¤ï¼Œä»¥é¿å…åˆ é™¤å¤§é‡è¿‡æœŸé”®å¯¹æ€§èƒ½é€ æˆå½±å“ã€‚</p></li><li><p><strong>å†…å­˜æ·˜æ±°ç­–ç•¥ï¼ˆEviction Policiesï¼‰ï¼š</strong> å½“å†…å­˜ä½¿ç”¨è¾¾åˆ°ä¸€å®šé˜ˆå€¼ï¼ˆç”±<code>maxmemory</code>å‚æ•°æŒ‡å®šï¼‰æ—¶ï¼ŒRedisä¼šè§¦å‘æ·˜æ±°ç­–ç•¥æ¥é‡Šæ”¾ç©ºé—´ã€‚å¸¸è§çš„æ·˜æ±°ç­–ç•¥åŒ…æ‹¬ï¼š</p><ul><li><code>noeviction</code>ï¼šå½“å†…å­˜ä¸è¶³ä»¥å®¹çº³æ–°å†™å…¥æ•°æ®æ—¶ï¼Œå†™å…¥æ“ä½œä¼šæŠ¥é”™ã€‚</li><li><code>allkeys-lru</code>ï¼šä»æ‰€æœ‰é”®ä¸­é€‰æ‹©æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>volatile-lru</code>ï¼šä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ä¸­é€‰æ‹©æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>allkeys-random</code>ï¼šéšæœºé€‰æ‹©ä¸€ä¸ªé”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>volatile-random</code>ï¼šä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªé”®è¿›è¡Œåˆ é™¤ã€‚</li><li><code>volatile-ttl</code>ï¼šä»è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ä¸­é€‰æ‹©å‰©ä½™æ—¶é—´æœ€çŸ­çš„é”®è¿›è¡Œåˆ é™¤ã€‚</li></ul></li></ol><p>è¿™äº›ç­–ç•¥å¯ä»¥é€šè¿‡Redisçš„é…ç½®å‚æ•°è¿›è¡Œè®¾ç½®ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è®¾ç½®è¿‡æœŸé”®åˆ é™¤ç­–ç•¥ä¸ºå®šæœŸåˆ é™¤</span></span><br><span class="line">config set maxmemory-policy noeviction</span><br></pre></td></tr></table></figure><p>éœ€è¦æ ¹æ®å®é™…åœºæ™¯å’Œéœ€æ±‚æ¥é€‰æ‹©é€‚åˆçš„ç­–ç•¥å’Œå‚æ•°å€¼ï¼Œä»¥å¹³è¡¡å†…å­˜ä½¿ç”¨å’Œæ€§èƒ½ã€‚</p><h1 id="Redisæ€ä¹ˆå®ç°æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ"><a href="#Redisæ€ä¹ˆå®ç°æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ" class="headerlink" title="Redisæ€ä¹ˆå®ç°æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ"></a>Redisæ€ä¹ˆå®ç°æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</h1><p>Rediså¯ä»¥ç”¨ä½œè½»é‡çº§çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®ç°åŸºæœ¬çš„æ¶ˆæ¯å‘å¸ƒå’Œè®¢é˜…åŠŸèƒ½ã€‚ä»¥ä¸‹æ˜¯åœ¨Redisä¸­å¦‚ä½•å®ç°æ¶ˆæ¯é˜Ÿåˆ—çš„åŸºæœ¬æ­¥éª¤ï¼š</p><ol><li><p><strong>å‘å¸ƒæ¶ˆæ¯ï¼š</strong> åœ¨å‘å¸ƒè€…ç«¯ï¼Œä½¿ç”¨<code>PUBLISH</code>å‘½ä»¤å°†æ¶ˆæ¯å‘å¸ƒåˆ°æŒ‡å®šçš„é¢‘é“ï¼ˆé€šé“ï¼‰ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PUBLISH channel_name message_content</span><br></pre></td></tr></table></figure></li><li><p><strong>è®¢é˜…æ¶ˆæ¯ï¼š</strong> åœ¨è®¢é˜…è€…ç«¯ï¼Œä½¿ç”¨<code>SUBSCRIBE</code>å‘½ä»¤è®¢é˜…ä¸€ä¸ªæˆ–å¤šä¸ªé¢‘é“ï¼Œä»ä¸­æ¥æ”¶å‘å¸ƒè€…å‘å¸ƒçš„æ¶ˆæ¯ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUBSCRIBE channel_name</span><br></pre></td></tr></table></figure></li><li><p><strong>æ¥æ”¶æ¶ˆæ¯ï¼š</strong> è®¢é˜…è€…åœ¨è®¢é˜…äº†é¢‘é“åï¼Œä¼šå®æ—¶æ¥æ”¶åˆ°å‘å¸ƒè€…å‘å¸ƒçš„æ¶ˆæ¯ã€‚</p></li></ol><p>é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œä½ å¯ä»¥å®ç°åŸºæœ¬çš„å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ç„¶è€Œï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>Redisçš„æ¶ˆæ¯é˜Ÿåˆ—ä¸æ”¯æŒæ¶ˆæ¯æŒä¹…åŒ–ï¼Œå³å¦‚æœæ²¡æœ‰è®¢é˜…è€…åœ¨çº¿æ—¶ï¼Œæ¶ˆæ¯ä¼šä¸¢å¤±ã€‚</li><li>å¦‚æœéœ€è¦æ”¯æŒæŒä¹…åŒ–ã€å¤šä¸ªæ¶ˆè´¹è€…ã€æ¶ˆæ¯ç¡®è®¤ç­‰é«˜çº§ç‰¹æ€§ï¼Œå¯èƒ½éœ€è¦è€ƒè™‘ä½¿ç”¨ä¸“é—¨çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ï¼Œå¦‚RabbitMQã€Apache Kafkaç­‰ã€‚</li></ul><p>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¦‚æœéœ€è¦æ›´å¤šçš„æ¶ˆæ¯é˜Ÿåˆ—ç‰¹æ€§ï¼Œå¯ä»¥ä½¿ç”¨Redisçš„LISTæ•°æ®ç»“æ„æ¥å®ç°ç®€å•çš„é˜Ÿåˆ—ã€‚å°†å‘å¸ƒè€…å‘å¸ƒçš„æ¶ˆæ¯æ’å…¥åˆ°LISTä¸­ï¼Œç„¶åæ¶ˆè´¹è€…ä»LISTä¸­å¼¹å‡ºæ¶ˆæ¯è¿›è¡Œå¤„ç†ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRediså¹¶ä¸æ˜¯ä¸“é—¨ä¸ºæ¶ˆæ¯é˜Ÿåˆ—è®¾è®¡çš„ï¼Œæ›´é€‚åˆç”¨äºä¸€äº›ç®€å•çš„æ¶ˆæ¯å‘å¸ƒ-è®¢é˜…åœºæ™¯ã€‚å¯¹äºé«˜æ€§èƒ½ã€å¤§è§„æ¨¡çš„æ¶ˆæ¯é˜Ÿåˆ—éœ€æ±‚ï¼Œå»ºè®®ä½¿ç”¨ä¸“é—¨çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ã€‚ï¿½ï¿½æ¯é˜Ÿåˆ—ä¸­é—´ä»¶ã€‚</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> é¢è¯•é¢˜ç³»åˆ— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> redis </tag>
            
            <tag> ç¼“å­˜å‡»ç©¿ </tag>
            
            <tag> ç¼“å­˜é›ªå´© </tag>
            
            <tag> redisæŒä¹…åŒ– </tag>
            
            <tag> redisåº”ç”¨åœºæ™¯ </tag>
            
            <tag> redisæ€§èƒ½ä¼˜åŒ– </tag>
            
            <tag> redisäº‹åŠ¡ </tag>
            
            <tag> redisè¿‡æœŸé”®åˆ é™¤ç­–ç•¥ </tag>
            
            <tag> redisæ¶ˆæ¯é˜Ÿåˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexoæ·»åŠ ç›¸å†Œ</title>
      <link href="/318af14d.html"/>
      <url>/318af14d.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="è§†é¢‘æ•™å­¦åœ°å€"><a href="#è§†é¢‘æ•™å­¦åœ°å€" class="headerlink" title="è§†é¢‘æ•™å­¦åœ°å€"></a>è§†é¢‘æ•™å­¦åœ°å€</h1><p><a href="https://www.bilibili.com/video/BV1Fw411Q7pS/">https://www.bilibili.com/video/BV1Fw411Q7pS/</a></p><h1 id="æ‰“å¼€butterflyé…ç½®æ–‡ä»¶ï¼Œåœ¨menuå¤„æ–°å¢ä¸€è¡Œ"><a href="#æ‰“å¼€butterflyé…ç½®æ–‡ä»¶ï¼Œåœ¨menuå¤„æ–°å¢ä¸€è¡Œ" class="headerlink" title="æ‰“å¼€butterflyé…ç½®æ–‡ä»¶ï¼Œåœ¨menuå¤„æ–°å¢ä¸€è¡Œ"></a>æ‰“å¼€butterflyé…ç½®æ–‡ä»¶ï¼Œåœ¨menuå¤„æ–°å¢ä¸€è¡Œ</h1><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">ä¸»é¡µ:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">æ—¶é—´è½´:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">æ ‡ç­¾:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">åˆ†ç±»:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line"><span class="comment">#   æ¸…å•||fas fa-list:</span></span><br><span class="line"><span class="comment">#     éŸ³ä¹: /music/ || fas fa-music</span></span><br><span class="line"><span class="comment">#     ç”µå½±: /movies/ || fas fa-video</span></span><br><span class="line">  <span class="string">ç›¸å†Œ:</span> <span class="string">/gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-solid</span> <span class="string">fa-image</span></span><br><span class="line">  <span class="string">å‹é“¾:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">æ´»åŠ¨æ—¥å†:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-calendar</span></span><br><span class="line">  <span class="attr">Love:</span> <span class="string">/love/static/index.html</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><h1 id="åœ¨sourceç›®å½•ä¸‹æ–°å»ºgalleryç›®å½•ï¼Œå¹¶æ–°å»ºindex"><a href="#åœ¨sourceç›®å½•ä¸‹æ–°å»ºgalleryç›®å½•ï¼Œå¹¶æ–°å»ºindex" class="headerlink" title="åœ¨sourceç›®å½•ä¸‹æ–°å»ºgalleryç›®å½•ï¼Œå¹¶æ–°å»ºindex"></a>åœ¨sourceç›®å½•ä¸‹æ–°å»ºgalleryç›®å½•ï¼Œå¹¶æ–°å»ºindex</h1><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-24/47660906878700.png"></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span><br><span class="line">    &#123;% galleryGroup &#x27;å®å®ç›¸å†Œ&#x27; &#x27;è®°å½•å®å®æˆé•¿ï¼&#x27; &#x27;/gallery/baby&#x27; http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/46201997695900.jpeg %&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-24/47801912918300.png"></p><h1 id="åœ¨galleryä¸‹æ–°å»ºbaby-mdæ–‡ä»¶"><a href="#åœ¨galleryä¸‹æ–°å»ºbaby-mdæ–‡ä»¶" class="headerlink" title="åœ¨galleryä¸‹æ–°å»ºbaby.mdæ–‡ä»¶"></a>åœ¨galleryä¸‹æ–°å»ºbaby.mdæ–‡ä»¶</h1><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery true,220,5 %&#125;</span><br><span class="line">![](<span class="link">http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/46201997695900.jpeg</span>)</span><br><span class="line">![](<span class="link">http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/46974523049100.jpeg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><h1 id="ç”Ÿæˆå¹¶å¯åŠ¨"><a href="#ç”Ÿæˆå¹¶å¯åŠ¨" class="headerlink" title="ç”Ÿæˆå¹¶å¯åŠ¨"></a>ç”Ÿæˆå¹¶å¯åŠ¨</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line"></span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>ell<br>hexo g</p><p>hexo s</p><pre><code></code></pre></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å‰ç«¯æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> é¦–å‘åšå®¢åœ°å€ </tag>
            
            <tag> ç›¸å†Œ </tag>
            
            <tag> è§†é¢‘æ•™å­¦åœ°å€ </tag>
            
            <tag> butterflyé…ç½®æ–‡ä»¶ </tag>
            
            <tag> menu </tag>
            
            <tag> sourceç›®å½• </tag>
            
            <tag> galleryç›®å½• </tag>
            
            <tag> index </tag>
            
            <tag> gallery-group-main </tag>
            
            <tag> gallerygroup </tag>
            
            <tag> å®å®ç›¸å†Œ </tag>
            
            <tag> è®°å½•å®å®æˆé•¿ </tag>
            
            <tag> baby.mdæ–‡ä»¶ </tag>
            
            <tag> gallery true </tag>
            
            <tag> ç”Ÿæˆå¹¶å¯åŠ¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æŠ¥é”™sql_mode=only_full_group_by</title>
      <link href="/42248197.html"/>
      <url>/42248197.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="æŠ¥é”™å†…å®¹"><a href="#æŠ¥é”™å†…å®¹" class="headerlink" title="æŠ¥é”™å†…å®¹"></a>æŠ¥é”™å†…å®¹</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">### The error may exist in file[D:\code\cppCode20221025\leader-system\target\classes\mapper\system\TJsonDataMapper.xml]</span><br><span class="line">        ### The error may involve defaultParameterMap</span><br><span class="line">        ### The error occurred <span class="keyword">while</span> setting parameters</span><br><span class="line">        ### SQL:select <span class="title function_">ifnull</span><span class="params">(s.type,<span class="string">&#x27;&#x27;</span>)</span>type,ifnull(GROUP_CONCAT(s.yjzbname,<span class="string">&#x27;:&#x27;</span>,s.num),<span class="string">&#x27;0&#x27;</span>)nums <span class="title function_">from</span><span class="params">(select t.type,(select name from t_norm s where s.id=n.parentId)</span>yjzbname,count(*)num from t_org_ticket o left join t_ticket t on t.id=o.ticket_id and t.project_id=?left join t_norm n on n.model=t.modelid and n.project_id=?where o.org_id=?and t.type=?and n.type=<span class="string">&#x27;02&#x27;</span>GROUP BY parentId)s</span><br><span class="line">        ### Cause:java.sql.SQLSyntaxErrorException:In aggregated query without GROUP BY,expression #1of SELECT list contains nonaggregated column<span class="string">&#x27;s.type&#x27;</span>;<span class="built_in">this</span> is incompatible with sql_mode=only_full_group_by</span><br><span class="line">        ;bad SQL grammar[];nested exception is java.sql.SQLSyntaxErrorException:In aggregated query without GROUP BY,expression #1of SELECT list contains nonaggregated column<span class="string">&#x27;s.type&#x27;</span>;<span class="built_in">this</span> is incompatible with sql_mode=only_full_group_by</span><br></pre></td></tr></table></figure><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/4605477245600.png"></p><h1 id="å¦‚ä½•è§£å†³"><a href="#å¦‚ä½•è§£å†³" class="headerlink" title="å¦‚ä½•è§£å†³"></a>å¦‚ä½•è§£å†³</h1><ol><li><p><strong>è°ƒæ•´GROUP BYå­å¥å’ŒSELECTåˆ—è¡¨ï¼š</strong></p><p>ä¿è¯æŸ¥è¯¢çš„å­—æ®µåœ¨group byä¸­å³å¯</p></li><li><p><strong>ç¦ç”¨only_full_group_byæ¨¡å¼ï¼š</strong></p><p>å¦‚æœä½ ç¡®å®šæŸ¥è¯¢çš„é€»è¾‘å’Œæ•°æ®ä¸ä¼šå¼•èµ·é—®é¢˜ï¼Œå¯ä»¥åœ¨æŸ¥è¯¢ä¹‹å‰æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥ä¸´æ—¶ç¦ç”¨only_full_group_byæ¨¡å¼ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> SESSION sql_mode<span class="operator">=</span><span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æ•°æ®ä¸ä¸€è‡´æ€§é—®é¢˜ï¼Œåªæœ‰åœ¨ä½ éå¸¸ç¡®å®šæƒ…å†µä¸‹æ‰åº”è¯¥ä½¿ç”¨ã€‚</p><p>å¦‚æœæ˜¯éœ€è¦æ°¸ä¹…å†™å…¥ï¼Œé‚£å°±éœ€è¦å†™åˆ°cnfæˆ–inié…ç½®ä¸­</p><p>mysqlä¸­é…ç½®æ–‡ä»¶åœ°å€ä¸€èˆ¬æ˜¯<code>C:\Program Files\MySQL\MySQL Server 5.7\bin\my.ini </code><br>æˆ‘çš„åœ¨è¿™é‡Œé¢</p></li></ol><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/5485190051400.png"></p><p>æŸ¥è¯¢å·²ç»æœ‰çš„sql_mode</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@sql_mode</span></span><br></pre></td></tr></table></figure><p>åœ¨iniä¸­æ·»åŠ æŸ¥è¯¢å‡ºæ¥çš„æ¨¡å¼é…ç½®ï¼Œç„¶åå»æ‰<code>only_full_group_by</code>æ¨¡å¼å³å¯</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">sql_mode</span>=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION</span><br></pre></td></tr></table></figure><ol start="3"><li><p><strong>é‡æ–°è®¾è®¡æŸ¥è¯¢ï¼š</strong></p><p>å¦‚æœæ— æ³•ç®€å•åœ°è°ƒæ•´GROUP<br>BYå­å¥å’ŒSELECTåˆ—è¡¨ï¼Œä½ å¯èƒ½éœ€è¦é‡æ–°è®¾è®¡æŸ¥è¯¢é€»è¾‘ã€‚è¿™å¯èƒ½æ¶‰åŠåˆ°ä½¿ç”¨å­æŸ¥è¯¢ã€ä¸´æ—¶è¡¨æˆ–å…¶ä»–æ–¹å¼æ¥æ»¡è¶³only_full_group_byæ¨¡å¼çš„è¦æ±‚ã€‚ ã€‚p_byæ¨¡å¼çš„è¦æ±‚ã€‚ ã€‚</p></li></ol></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> BUG </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> mysql </tag>
            
            <tag> æŠ¥é”™ </tag>
            
            <tag> sql_mode=only_full_group_by </tag>
            
            <tag> è§£å†³ </tag>
            
            <tag> è°ƒæ•´group byå­å¥å’Œselectåˆ—è¡¨ </tag>
            
            <tag> ç¦ç”¨only_full_group_byæ¨¡å¼ </tag>
            
            <tag> é‡æ–°è®¾è®¡æŸ¥è¯¢ </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> é”™è¯¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023å¹´8æœˆ23æ—¥åšå®¢æ›´æ–°</title>
      <link href="/119629d3.html"/>
      <url>/119629d3.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="æ–°å¢ç›¸å†Œé›†å’Œç»“å©šç›¸å†Œ"><a href="#æ–°å¢ç›¸å†Œé›†å’Œç»“å©šç›¸å†Œ" class="headerlink" title="æ–°å¢ç›¸å†Œé›†å’Œç»“å©šç›¸å†Œ"></a>æ–°å¢ç›¸å†Œé›†å’Œç»“å©šç›¸å†Œ</h1><p><a href="https://blog.zysicyj.top/gallery/">https://blog.zysicyj.top/gallery/</a></p><p>ç›¸å†Œæ•´ç†ä¸å®¹æ˜“å‘€ï¼Œåç»­æœ‰æœºä¼šå†æ…¢æ…¢æ•´ç†å§ï¼Œç›¸å†Œæ…¢æ…¢åŠ ä¸Š<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/134768908734000.png"></p><p>æˆ‘é€‰æ‹©äº†å¤§å›¾å±•ç¤ºï¼Œè¿™ç§é«˜æ¸…å›¾ç‰‡ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯å¤§ç‚¹çš„å¥½ï¼Œé»˜è®¤220æœ‰ç‚¹å°äº†ï¼Œæˆ‘è®¾ç½®çš„1000ï¼Œç„¶åè®¾ç½®äº†æ‡’åŠ è½½ï¼Œç‚¹å‡»ä¸€æ¬¡åŠ è½½5å¼ ï¼Œé»˜è®¤æ˜¯10å¼ ã€‚å¤ªå¤šäº†ï¼Œå›¾ç‰‡å¤§ï¼Œå°±ä¼šå¾ˆæ…¢ã€‚ã€‚ã€‚ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/134824576115100.png"></p><h1 id="æ–°å¢çºªå¿µæ—¥é¡µé¢"><a href="#æ–°å¢çºªå¿µæ—¥é¡µé¢" class="headerlink" title="æ–°å¢çºªå¿µæ—¥é¡µé¢"></a>æ–°å¢çºªå¿µæ—¥é¡µé¢</h1><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/134923622743699.png"></p><p><a href="https://blog.zysicyj.top/love/static/index.html">https://blog.zysicyj.top/love/static/index.html</a></p><p>ä¸»è¦æ˜¯éŸ³ä¹å¥½å¬ï¼Œå˜¿å˜¿ï¼</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-23/135019589258300.png"><br>3-08-23&#x2F;135019589258300.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ›´æ–° </tag>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¼˜åŒ–bilibiliæ˜¾ç¤º</title>
      <link href="/bb1facb3.html"/>
      <url>/bb1facb3.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><p>It has been 1086 days since the last update, the content of the article may be outdated.</p><p>è¿™ç¯‡æ–‡ç« å±äºè½¬è½½ï¼ŒåŸåœ°å€ä¸º<a href="https://hongcyu.cn/posts/hexo-bilibili.html">Hexoåšå®¢å¼•ç”¨Bç«™è§†é¢‘å¹¶è‡ªåŠ¨é€‚é…</a></p><p>åœ¨è¿›è¡Œå¼•ç”¨Bç«™ç”¨iframeæ–¹å¼å¼•å…¥è§†é¢‘æ—¶å‘ç°ï¼Œé€šè¿‡é»˜è®¤çš„æ–¹å¼å¯¼å…¥ä¼šä½¿å¾—å±å¹•å¾ˆå°</p><p><a href="https://cdn.jsdelivr.net/gh/PaddyLin-xum/photo@master/4hgds.jpg"><img src="https://cdn.jsdelivr.net/gh/PaddyLin-xum/photo@master/4hgds.jpg"></a></p><p>ä¸€èˆ¬æˆ‘ä»¬éƒ½æ˜¯è‡ªå·±æ”¹widthå’Œheightæ¥ä¿®æ”¹å¤§å°ï¼Œä½†æ˜¯æ¢æˆä¸åŒçš„è®¾å¤‡å°±æ— æ³•æ­£å¸¸çš„æ˜¾ç¤ºäº†ã€‚å¦‚ä¸‹</p><p>é»˜è®¤ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?aid=81148317&amp;cid=138878361&amp;page=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?aid=81148317&amp;cid=138878361&amp;page=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">height</span>=<span class="string">&quot;720&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å³å¯è¾ƒå¥½çš„é€‚é…å¤§å±å¹•ï¼Œä½†æ˜¯åˆ°æ‰‹æœºä¸Šå°±ä¸å¤ªå¥½ç”¨äº†ï¼Œä¸èƒ½è‡ªåŠ¨é€‚é…ï¼Œæ€ä¹ˆåŠå‘¢ï¼Œçœ‹ä¸‹é¢çš„ä¸¤ç§åŠæ³•ï¼š</p><p>å¤–é¢åŒ…è£¹ä¸€ä¸ªdivæ ‡ç­¾ï¼Œdivæ ‡ç­¾è‡ªé€‚åº”ä¸å±å¹•çš„å¤§å°ï¼ŒåŒ…è£¹å†…iframeä»¥100%é¡¶è¾¹æ’‘å¼€ã€‚ä»¥butterflyä¸»é¢˜ä¸ºä¾‹å­ï¼šåœ¨<code>source/css/_ global/function.styl</code>ä¸‹åº•éƒ¨æ·»åŠ ä»¥ä¸‹cssä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-class">.bilibili</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;              </span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">75%</span>;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bilibili</span> <span class="selector-tag">iframe</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ’å…¥æ—¶å†™æˆå¦‚ä¸‹å½¢å¼å³å¯ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bilibili&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?bvid=BV1hF411C7ks&amp;page=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>ä½¿ç”¨@mediaå±æ€§ï¼Œå¯¹ä¸åŒå±å¹•å¤§å°çš„è®¾å¤‡ï¼Œè®¾ç½®å®½åº¦å’Œé«˜åº¦ã€‚@mediaå¯ä»¥æŸ¥è¯¢åˆ°è®¾å¤‡çš„ä»¥ä¸‹å±æ€§</p><ol><li>è®¾å¤‡å±å¹•çš„é«˜åº¦</li><li>è®¾å¤‡çš„æ–¹å‘ï¼ˆå¦‚ç§»åŠ¨è®¾å¤‡æ¨ªå±ï¼‰</li><li>å¯è§†çª—å£çš„å®½é«˜</li><li>å±å¹•è§£æåº¦</li></ol><p>å’Œä¸Šé¢ä¸€æ ·ï¼Œåœ¨æŒ‡å®šä½ç½®æ’å…¥cssä»£ç ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bilibili</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.bilibili</span> &#123;<span class="attribute">height</span>: <span class="number">15em</span>;<span class="attribute">max-width</span>: <span class="number">25em</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">991px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.bilibili</span> &#123;<span class="attribute">height</span>: <span class="number">20em</span>;<span class="attribute">max-width</span>: <span class="number">30em</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">992px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1199px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.bilibili</span> &#123;<span class="attribute">height</span>: <span class="number">30em</span>;<span class="attribute">max-width</span>: <span class="number">40em</span>;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1200px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.bilibili</span> &#123;<span class="attribute">height</span>: <span class="number">40em</span>;<span class="attribute">max-width</span>: <span class="number">50em</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åç›´æ¥å¼•ç”¨Bç«™çš„iframeä»£ç åŠ ä¸Š<code>class=&quot;bilibili&quot;</code>ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">class</span>=<span class="string">&quot;bilibili&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?aid=81148317&amp;cid=138878361&amp;page=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Bç«™é“¾æ¥çš„å‚æ•°"><a href="#Bç«™é“¾æ¥çš„å‚æ•°" class="headerlink" title="Bç«™é“¾æ¥çš„å‚æ•°"></a><a href="#B%E7%AB%99%E9%93%BE%E6%8E%A5%E7%9A%84%E5%8F%82%E6%95%B0" title="Bç«™é“¾æ¥çš„å‚æ•°"></a>Bç«™é“¾æ¥çš„å‚æ•°</h2><p>ä¾‹å¦‚ï¼š<code>player.bilibili.com/player.html?aid=81148317&amp;cid=138878361&amp;page=1</code></p><table><thead><tr><th>key</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>aid</td><td>è§†é¢‘ID å°±æ˜¯Bç«™çš„avå·</td></tr><tr><td>cid</td><td>åº”è¯¥æ˜¯å®¢æˆ·ç«¯çš„id,clientidçš„ç¼©å†™ï¼ˆæ¨æµ‹ï¼‰ æµ‹è¯•è¡¨ç¤ºä¸å¡«ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜</td></tr><tr><td>page</td><td>ç¬¬å‡ ä¸ªè§†é¢‘ ä¹Ÿå°±æ˜¯åˆ†Pçš„ é»˜è®¤æ˜¯1</td></tr><tr><td>as_wide</td><td>æ˜¯å¦å®½å± 1ï¼šå®½å± 0ï¼šå°å±</td></tr><tr><td>high_quality</td><td>è§†é¢‘è´¨é‡ 1ï¼šæœ€é«˜è§†é¢‘è´¨é‡ 0ï¼šæœ€ä½è§†é¢‘è´¨é‡</td></tr><tr><td>danmaku</td><td>æ˜¯å¦å¼€å¯å¼¹å¹• 1ï¼šå¼€å¯ï¼ˆé»˜è®¤ï¼‰ 0ï¼šå…³é—­</td></tr></tbody></table><h2 id="é˜»æ­¢è·³è½¬Bç«™"><a href="#é˜»æ­¢è·³è½¬Bç«™" class="headerlink" title="é˜»æ­¢è·³è½¬Bç«™"></a><a href="#%E9%98%BB%E6%AD%A2%E8%B7%B3%E8%BD%ACB%E7%AB%99" title="é˜»æ­¢è·³è½¬Bç«™"></a>é˜»æ­¢è·³è½¬Bç«™</h2><p>åœ¨ç½‘é¡µä¸Š, ç”¨æˆ·é€‰æ‹©æ¸…æ™°åº¦, æˆ–è€…ç‚¹å‡»è§†é¢‘ä¸Šé¢çš„ä¸€äº›å›¾æ ‡, ä¼šè·³è½¬åˆ°Bç«™. è¿™ä¸ªå¯é€šè¿‡è®¾ç½® iframe çš„ sandbox å±æ€§å»ç¦æ­¢</p><p><code>sandbox=&quot;allow-top-navigation allow-same-origin allow-forms allow-scripts&quot;</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?aid=81148317&amp;cid=138878361&amp;page=1&amp;high_quality=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span> <span class="attr">sandbox</span>=<span class="string">â€œallow-top-navigation</span> <span class="attr">allow-same-origin</span> <span class="attr">allow-forms</span> <span class="attr">allow-scripts</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¿®æ”¹é»˜è®¤è§†é¢‘è´¨é‡"><a href="#ä¿®æ”¹é»˜è®¤è§†é¢‘è´¨é‡" class="headerlink" title="ä¿®æ”¹é»˜è®¤è§†é¢‘è´¨é‡"></a><a href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E8%A7%86%E9%A2%91%E8%B4%A8%E9%87%8F" title="ä¿®æ”¹é»˜è®¤è§†é¢‘è´¨é‡"></a>ä¿®æ”¹é»˜è®¤è§†é¢‘è´¨é‡</h2><p>Bç«™é»˜è®¤è§†é¢‘è´¨é‡æ˜¯æœ€ä½çš„ï¼Œå¯ä»¥é€šè¿‡åœ¨srcé“¾æ¥åé¢æ·»åŠ &amp;high_quality&#x3D;1æ¥è®¾ç½®</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;//player.bilibili.com/player.html?aid=81148317&amp;cid=138878361&amp;page=1&amp;high_quality=1&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">framespacing</span>=<span class="string">&quot;0&quot;</span> <span class="attr">allowfullscreen</span>=<span class="string">&quot;true&quot;</span> <span class="attr">sandbox</span>=<span class="string">â€œallow-top-navigation</span> <span class="attr">allow-same-origin</span> <span class="attr">allow-forms</span> <span class="attr">allow-scripts</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line">```low-scripts&gt; <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å‰ç«¯æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> bilibili </tag>
            
            <tag> éªŒè¯å™¨ </tag>
            
            <tag> å­—æ®µçº§åˆ«çº¦æŸ </tag>
            
            <tag> å±æ€§çº§åˆ«çº¦æŸ </tag>
            
            <tag> é»˜è®¤æ¶ˆæ¯æ’å€¼ </tag>
            
            <tag> è½¬ä¹‰å­—ç¬¦ </tag>
            
            <tag> ç»Ÿä¸€è§„çº¦ </tag>
            
            <tag> å·¥å…·ç±» </tag>
            
            <tag> leafé›ªèŠ±ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è€å©†ä¸ƒå¤•å¿«ä¹</title>
      <link href="/cb2b755d.html"/>
      <url>/cb2b755d.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><div class="bilibili">    <iframe src="//player.bilibili.com/player.html?bvid=BV1hF411C7ks&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div>llscreen="true"> </iframe></div></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Love </tag>
            
            <tag> ä¸ƒå¤• </tag>
            
            <tag> å®¶äºº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ideaæ’ä»¶grep_consoleæœ€ä½³å®è·µ</title>
      <link href="/3ff56bc4.html"/>
      <url>/3ff56bc4.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><p>å‚è€ƒåšå®¢ï¼š<a href="https://blog.csdn.net/ayunnuo/article/details/123997304">https://blog.csdn.net/ayunnuo/article/details/123997304</a></p><h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-22/79516097317200.png"></p><h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-22/79425341807600.png"></p><h1 id="å…·ä½“é¢œè‰²"><a href="#å…·ä½“é¢œè‰²" class="headerlink" title="å…·ä½“é¢œè‰²"></a>å…·ä½“é¢œè‰²</h1><table><thead><tr><th>æ—¥å¿—çº§åˆ«</th><th>å‰æ™¯è‰²</th><th>èƒŒæ™¯è‰²</th></tr></thead><tbody><tr><td>Error</td><td>#FF0000</td><td>#370000</td></tr><tr><td>Warn</td><td>#FFC033</td><td>#1A0037</td></tr><tr><td>Info</td><td>#00FFF3</td><td>æ— </td></tr><tr><td>Debug</td><td>#808080</td><td>æ— </td></tr><tr><td>Debug</td><td>#808080</td><td>æ— </td></tr></tbody></table></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> idea </tag>
            
            <tag> é…ç½® </tag>
            
            <tag> grep_console </tag>
            
            <tag> æœ€ä½³å®è·µ </tag>
            
            <tag> å·¥å…· </tag>
            
            <tag> æ—¥å¿—çº§åˆ« </tag>
            
            <tag> å‰æ™¯è‰² </tag>
            
            <tag> èƒŒæ™¯è‰² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win11fnä¸Šé”/å…³é”</title>
      <link href="/c6532956.html"/>
      <url>/c6532956.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn + esc å³å¯åˆ‡æ¢</span><br><span class="line">```fn + esc å³å¯åˆ‡æ¢</span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> windows11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisç³»åˆ—ï¼ˆå››ï¼‰ï¼šå“¨å…µæœºåˆ¶è¯¦è§£</title>
      <link href="/de091d57.html"/>
      <url>/de091d57.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><p>å‰é¢æˆ‘ä»¬è¯´è¿‡ï¼Œredisé‡‡ç”¨äº†è¯»å†™åˆ†ç¦»çš„æ–¹å¼å®ç°é«˜å¯é ã€‚åé¢æˆ‘ä»¬è¯´äº†ï¼Œä¸ºäº†é˜²æ­¢ä¸»èŠ‚ç‚¹å‹åŠ›è¿‡å¤§ï¼Œä¼˜åŒ–æˆäº†ä¸»-ä»-ä»æ¨¡å¼</p><h1 id="æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¸»èŠ‚ç‚¹æ­¤æ—¶æŒ‚äº†æ€ä¹ˆåŠ"><a href="#æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¸»èŠ‚ç‚¹æ­¤æ—¶æŒ‚äº†æ€ä¹ˆåŠ" class="headerlink" title="æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¸»èŠ‚ç‚¹æ­¤æ—¶æŒ‚äº†æ€ä¹ˆåŠ"></a>æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼Œä¸»èŠ‚ç‚¹æ­¤æ—¶æŒ‚äº†æ€ä¹ˆåŠ</h1><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/32212058065400.png"></p><p>è¿™é‡Œä¸»ä»æ¨¡å¼ä¸‹æ¶‰åŠåˆ°çš„å‡ ä¸ªé—®é¢˜ï¼š</p><ol><li>ä¸»åº“çœŸçš„æŒ‚äº†å—ï¼Ÿ</li><li>æˆ‘ä»¬åº”å½“é€‰æ‹©å“ªä¸ªä»åº“ä½œä¸ºä¸»åº“ï¼Ÿ</li><li>æ€æ ·è®©å…¶ä»–ä»åº“çŸ¥é“æ–°çš„ä¸»åº“ä¿¡æ¯å‘¢ï¼Ÿ</li><li>ä¸­æ–­çš„æ•°æ®å¦‚ä½•æ¢å¤ï¼Ÿ</li></ol><p>å“¨å…µæœºåˆ¶å°±å®Œç¾çš„è§£å†³äº†ä»¥ä¸Šé—®é¢˜ã€‚</p><h1 id="ä»€ä¹ˆæ˜¯å“¨å…µæœºåˆ¶ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å“¨å…µæœºåˆ¶ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å“¨å…µæœºåˆ¶ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å“¨å…µæœºåˆ¶ï¼Ÿ</h1><p>Rediså¼•å…¥å“¨å…µï¼ˆSentinelï¼‰æœºåˆ¶çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å¢å¼ºå…¶é«˜å¯ç”¨æ€§å’Œè‡ªåŠ¨æ•…éšœæ¢å¤èƒ½åŠ›ã€‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç‰¹åˆ«æ˜¯ç”¨ä½œæ•°æ®å­˜å‚¨çš„æ•°æ®åº“ç³»ç»Ÿä¸­ï¼Œä¿éšœé«˜å¯ç”¨æ€§æ˜¯è‡³å…³é‡è¦çš„ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿåœ¨é¢å¯¹èŠ‚ç‚¹æ•…éšœç­‰æƒ…å†µæ—¶èƒ½å¤Ÿç»§ç»­æä¾›æœåŠ¡ã€‚</p><p>ä»¥ä¸‹æ˜¯å¼•å…¥Rediså“¨å…µæœºåˆ¶çš„åŸå› ï¼š</p><ol><li><p><strong>æ•…éšœæ£€æµ‹å’Œè‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼š</strong> å“¨å…µå…è®¸æ‚¨é…ç½®å¤šä¸ªRedisèŠ‚ç‚¹ï¼Œå¹¶ç›‘è§†å®ƒä»¬çš„è¿è¡ŒçŠ¶å†µã€‚å¦‚æœä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰å‡ºç°æ•…éšœï¼Œå“¨å…µå¯ä»¥è‡ªåŠ¨æ£€æµ‹åˆ°å¹¶æ‰§è¡Œæ•…éšœåˆ‡æ¢ï¼Œå°†ä¸€ä¸ªå¯ç”¨çš„ä»èŠ‚ç‚¹ï¼ˆSlaveï¼‰æ™‹å‡ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œä»è€Œä¿è¯æœåŠ¡çš„å¯ç”¨æ€§ã€‚</p></li><li><p><strong>è‡ªåŠ¨é…ç½®æ›´æ–°ï¼š</strong> å½“RedisèŠ‚ç‚¹çš„æ‹“æ‰‘ç»“æ„å‘ç”Ÿå˜åŒ–ï¼ˆæ¯”å¦‚æ·»åŠ æˆ–ç§»é™¤èŠ‚ç‚¹ï¼‰æ—¶ï¼Œå“¨å…µèƒ½å¤Ÿè‡ªåŠ¨åœ°é€šçŸ¥å®¢æˆ·ç«¯å’Œå…¶ä»–RedisèŠ‚ç‚¹è¿›è¡Œé…ç½®æ›´æ–°ï¼Œä»è€Œç¡®ä¿æ•´ä¸ªé›†ç¾¤çš„æ­£ç¡®é…ç½®ã€‚</p></li><li><p><strong>ç›‘æ§å’ŒæŠ¥è­¦ï¼š</strong> å“¨å…µä¸ä»…ç›‘è§†èŠ‚ç‚¹çš„å¥åº·çŠ¶æ€ï¼Œè¿˜å¯ä»¥æä¾›æœ‰å…³èŠ‚ç‚¹è¿è¡ŒçŠ¶å†µçš„ä¿¡æ¯ï¼Œä¾‹å¦‚ä¸»ä»å¤åˆ¶æ˜¯å¦æ­£å¸¸ã€å»¶è¿Ÿæƒ…å†µç­‰ã€‚è¿™å¯ä»¥å¸®åŠ©ç®¡ç†å‘˜åŠæ—¶å‘ç°é—®é¢˜å¹¶é‡‡å–æªæ–½ã€‚</p></li><li><p><strong>æ— éœ€äººå·¥å¹²é¢„çš„æ¢å¤ï¼š</strong> å“¨å…µå…è®¸è‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼Œè¿™æ„å‘³ç€å½“ä¸»èŠ‚ç‚¹å‡ºç°é—®é¢˜æ—¶ï¼Œç³»ç»Ÿå¯ä»¥è‡ªåŠ¨å°†ä¸€ä¸ªä»èŠ‚ç‚¹æå‡ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œè€Œæ— éœ€ç®¡ç†å‘˜æ‰‹åŠ¨ä»‹å…¥ï¼Œä»è€Œç¼©çŸ­æ¢å¤æ—¶é—´ã€‚</p></li></ol><p>Rediså¼•å…¥å“¨å…µæœºåˆ¶ä½¿å¾—åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­æ›´å®¹æ˜“å®ç°é«˜å¯ç”¨æ€§å’Œæ•…éšœæ¢å¤ï¼Œè€Œæ— éœ€å¤ªå¤šæ‰‹åŠ¨æ“ä½œã€‚å“¨å…µæœºåˆ¶å¯ä»¥ç¡®ä¿Redisé›†ç¾¤åœ¨èŠ‚ç‚¹æ•…éšœæ—¶ç»§ç»­æä¾›ç¨³å®šçš„æœåŠ¡ï¼Œå¯¹äºé‚£äº›å¯¹äºé«˜å¯ç”¨æ€§è¦æ±‚è¾ƒé«˜çš„åº”ç”¨åœºæ™¯éå¸¸æœ‰ç”¨ã€‚</p><h1 id="å“¨å…µæœºåˆ¶çš„åŸºæœ¬æµç¨‹"><a href="#å“¨å…µæœºåˆ¶çš„åŸºæœ¬æµç¨‹" class="headerlink" title="å“¨å…µæœºåˆ¶çš„åŸºæœ¬æµç¨‹"></a>å“¨å…µæœºåˆ¶çš„åŸºæœ¬æµç¨‹</h1><p>å“¨å…µå…¶å®å°±æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç‰¹æ®Šæ¨¡å¼ä¸‹çš„Redisè¿›ç¨‹ï¼Œå…¶éšç€ä¸»ä»å®ä¾‹åŒæ—¶è¿è¡Œã€‚</p><p>é‚£ä¹ˆå“¨å…µè´Ÿè´£å“ªäº›æ´»å‘¢ï¼Ÿä¸»è¦æ˜¯ä»¥ä¸‹ä¸‰ç‚¹ï¼š</p><ol><li>ç›‘æ§</li><li>é€‰ä¸»ï¼ˆé€‰æ‹©ä¸»åº“ï¼‰</li><li>é€šçŸ¥</li></ol><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/32978330338599.png" alt="å“¨å…µæœºåˆ¶çš„ä¸‰é¡¹ä»»åŠ¡ä¸ç›®æ ‡"></p><h1 id="ç›‘æ§"><a href="#ç›‘æ§" class="headerlink" title="ç›‘æ§"></a>ç›‘æ§</h1><p>Rediså“¨å…µçš„ç›‘æ§æµç¨‹æ¶‰åŠå¤šä¸ªæ­¥éª¤ï¼Œç”¨äºå®æ—¶ç›‘æ§Redisé›†ç¾¤ä¸­å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€å¹¶é‡‡å–å¿…è¦çš„æªæ–½æ¥ç¡®ä¿é›†ç¾¤çš„å¯ç”¨æ€§å’Œç¨³å®šæ€§ã€‚</p><ol><li><p><strong>èŠ‚ç‚¹å‘ç°å’Œé…ç½®ï¼š</strong> å“¨å…µé€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®šè¦ç›‘æ§çš„ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹ã€‚å¯åŠ¨å“¨å…µåï¼Œå®ƒä¼šè¿æ¥åˆ°æŒ‡å®šçš„èŠ‚ç‚¹ï¼Œå¹¶è·å–æœ‰å…³å…¶ä»–èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå½¢æˆä¸€ä¸ªåˆå§‹çš„ç›‘æ§æ‹“æ‰‘ã€‚</p></li><li><p><strong>å¿ƒè·³æ£€æµ‹ï¼š</strong> å“¨å…µä¼šå®šæœŸå‘ç›‘æ§çš„èŠ‚ç‚¹å‘é€PINGå‘½ä»¤æ¥æ£€æµ‹èŠ‚ç‚¹æ˜¯å¦å­˜æ´»ã€‚è¿™äº›èŠ‚ç‚¹å¯ä»¥æ˜¯ä¸»èŠ‚ç‚¹ã€ä»èŠ‚ç‚¹æˆ–å…¶ä»–å“¨å…µèŠ‚ç‚¹ã€‚å¦‚æœå“¨å…µåœ¨ä¸€å®šæ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°å“åº”ï¼Œå®ƒä¼šè®¤ä¸ºèŠ‚ç‚¹ä¸å¯ç”¨ã€‚</p></li><li><p><strong>èŠ‚ç‚¹çŠ¶æ€å˜æ›´ï¼š</strong> å½“å“¨å…µè¿ç»­å¤šæ¬¡æ— æ³•è¿æ¥åˆ°ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå®ƒä¼šå°†è¯¥èŠ‚ç‚¹æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ã€‚å½“å¤šä¸ªå“¨å…µéƒ½å°†èŠ‚ç‚¹æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿æ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¼šè¢«è®¤ä¸ºæ˜¯å®¢è§‚ä¸‹çº¿ã€‚</p></li><li><p><strong>æ•…éšœåˆ¤æ–­å’Œé€‰ä¸¾ï¼š</strong> å½“ä¸»èŠ‚ç‚¹è¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿æ—¶ï¼Œå“¨å…µä¼šæ‰§è¡Œæ•…éšœåˆ¤æ–­ã€‚å®ƒä¼šä»å‰©ä½™çš„å¥åº·ä¸»èŠ‚ç‚¹ä¸­é€‰ä¸¾ä¸€ä¸ªä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå¹¶å°†è¯¥ä¿¡æ¯å¹¿æ’­ç»™å…¶ä»–å“¨å…µå’Œå®¢æˆ·ç«¯ã€‚æ•…éšœåˆ¤æ–­çš„é€»è¾‘è€ƒè™‘äº†å¤šä¸ªå› ç´ ï¼ŒåŒ…æ‹¬ä¼˜å…ˆçº§ã€æœ€è¿‘ä¸€æ¬¡å¤åˆ¶åç§»é‡ç­‰ã€‚</p></li><li><p><strong>è‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼š</strong> å¦‚æœä¸»èŠ‚ç‚¹è¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿ï¼Œå“¨å…µä¼šé€šçŸ¥ä»èŠ‚ç‚¹æ™‹å‡ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ã€‚åŒæ—¶ï¼Œå“¨å…µä¼šæ›´æ–°å…¶ä»–ä»èŠ‚ç‚¹çš„é…ç½®ï¼Œä½¿å…¶å¤åˆ¶æ–°çš„ä¸»èŠ‚ç‚¹ã€‚è¿™ç¡®ä¿äº†å³ä½¿ä¸»èŠ‚ç‚¹å‘ç”Ÿæ•…éšœï¼Œé›†ç¾¤ä»ç„¶å¯ä»¥ç»§ç»­æä¾›æœåŠ¡ã€‚</p></li><li><p><strong>ç›‘æ§ä»èŠ‚ç‚¹ï¼š</strong> å“¨å…µè¿˜ä¼šç›‘æ§ä»èŠ‚ç‚¹çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ä»èŠ‚ç‚¹æ˜¯å¦ä¸ä¸»èŠ‚ç‚¹ä¿æŒåŒæ­¥ï¼Œä»¥åŠä»èŠ‚ç‚¹çš„å¤åˆ¶å»¶è¿Ÿæƒ…å†µã€‚å¦‚æœä»èŠ‚ç‚¹æ— æ³•åŒæ­¥æˆ–è€…å¤åˆ¶å»¶è¿Ÿè¿‡é«˜ï¼Œå“¨å…µä¼šå°†å…¶æ ‡è®°ä¸ºä¸å¥åº·ã€‚</p></li><li><p><strong>èŠ‚ç‚¹æ¢å¤ï¼š</strong> å¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä»å®¢è§‚ä¸‹çº¿çŠ¶æ€æ¢å¤ï¼Œå“¨å…µä¼šå°†å…¶æ ‡è®°ä¸ºå¥åº·ï¼Œå¹¶å°†å…¶é‡æ–°çº³å…¥é›†ç¾¤ä¸­ã€‚ä»èŠ‚ç‚¹æ¢å¤åï¼Œå®ƒä¼šé‡æ–°åŒæ­¥ä¸»èŠ‚ç‚¹çš„æ•°æ®ã€‚</p></li><li><p><strong>é…ç½®æ›´æ–°ï¼š</strong> å¦‚æœé›†ç¾¤çš„æ‹“æ‰‘å‘ç”Ÿå˜åŒ–ï¼Œä¾‹å¦‚æ·»åŠ æˆ–ç§»é™¤èŠ‚ç‚¹ï¼Œå“¨å…µä¼šè‡ªåŠ¨æ›´æ–°é…ç½®ï¼Œä»¥ä¾¿å®¢æˆ·ç«¯èƒ½å¤Ÿæ­£ç¡®è¿æ¥åˆ°é›†ç¾¤ã€‚</p></li><li><p><strong>äº‹ä»¶é€šçŸ¥ï¼š</strong> å“¨å…µé€šè¿‡å‘å¸ƒè®¢é˜…æœºåˆ¶å‘è®¢é˜…è€…ï¼ˆé€šå¸¸æ˜¯å®¢æˆ·ç«¯ï¼‰å‘é€æœ‰å…³é›†ç¾¤çŠ¶æ€å˜åŒ–çš„æ¶ˆæ¯ã€‚è¿™ä½¿å¾—åº”ç”¨ç¨‹åºèƒ½å¤Ÿæ ¹æ®å®æ—¶çš„é›†ç¾¤çŠ¶æ€åšå‡ºç›¸åº”çš„å†³ç­–ã€‚</p></li><li><p><strong>æŒç»­ç›‘æ§ï¼š</strong> å“¨å…µä¼šæŒç»­åœ°ç›‘æ§é›†ç¾¤ä¸­çš„èŠ‚ç‚¹ï¼Œå®šæœŸæ‰§è¡Œå¿ƒè·³æ£€æµ‹ã€çŠ¶æ€æ›´æ–°å’Œæ•…éšœåˆ¤æ–­ï¼Œä»¥ç¡®ä¿é›†ç¾¤çš„ç¨³å®šè¿è¡Œã€‚</p></li></ol><h1 id="ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿"><a href="#ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿" class="headerlink" title="ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿"></a>ä¸»è§‚ä¸‹çº¿ä¸å®¢è§‚ä¸‹çº¿</h1><p>åœ¨Redisçš„å“¨å…µç›‘æ§æœºåˆ¶ä¸­ï¼Œæœ‰ä¸¤ä¸ªå…³é”®æ¦‚å¿µï¼šä¸»è§‚ä¸‹çº¿ï¼ˆSubjective Downï¼‰å’Œå®¢è§‚ä¸‹çº¿ï¼ˆObjective Downï¼‰ã€‚è¿™äº›æ¦‚å¿µå¸®åŠ©å“¨å…µåˆ¤æ–­èŠ‚ç‚¹çš„å¯ç”¨æ€§å’Œæ•…éšœçŠ¶æ€ã€‚</p><ol><li><p><strong>ä¸»è§‚ä¸‹çº¿ï¼ˆSubjective Downï¼‰ï¼š</strong> ä¸»è§‚ä¸‹çº¿æ˜¯æŒ‡å•ä¸ªå“¨å…µèŠ‚ç‚¹è®¤ä¸ºä¸€ä¸ªç‰¹å®šçš„RedisèŠ‚ç‚¹ï¼ˆä¸»èŠ‚ç‚¹ã€ä»èŠ‚ç‚¹æˆ–å…¶ä»–å“¨å…µï¼‰ä¸å¯ç”¨ã€‚ä¸»è§‚ä¸‹çº¿æ˜¯ä¸€ç§ä¸»è§‚çš„åˆ¤æ–­ï¼Œæ˜¯åŸºäºå•ä¸ªå“¨å…µèŠ‚ç‚¹çš„è§‚å¯Ÿç»“æœå¾—å‡ºçš„ã€‚å½“ä¸€ä¸ªå“¨å…µæ— æ³•è¿æ¥åˆ°æŸä¸ªRedisèŠ‚ç‚¹ï¼Œå®ƒä¼šå°†è¯¥èŠ‚ç‚¹æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ã€‚å¤šä¸ªå“¨å…µèŠ‚ç‚¹å¯èƒ½ä¼šå¯¹åŒä¸€ä¸ªèŠ‚ç‚¹å‘å‡ºä¸»è§‚ä¸‹çº¿æ ‡è®°ã€‚</p></li><li><p><strong>å®¢è§‚ä¸‹çº¿ï¼ˆObjective Downï¼‰ï¼š</strong> å®¢è§‚ä¸‹çº¿æ˜¯æŒ‡åœ¨æ•´ä¸ªå“¨å…µé›†åˆä¸­è¾¾æˆä¸€è‡´ï¼Œè®¤ä¸ºæŸä¸ªç‰¹å®šçš„RedisèŠ‚ç‚¹ä¸å¯ç”¨ã€‚å®¢è§‚ä¸‹çº¿æ˜¯ä¸€ç§æ›´å®¢è§‚çš„åˆ¤æ–­ï¼Œéœ€è¦å¤šä¸ªå“¨å…µèŠ‚ç‚¹å…±åŒè¾¾æˆä¸€è‡´ã€‚å½“å¤šä¸ªå“¨å…µèŠ‚ç‚¹éƒ½ä¸»è§‚ä¸‹çº¿åŒä¸€ä¸ªRedisèŠ‚ç‚¹æ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¼šè¢«è®¤ä¸ºæ˜¯å®¢è§‚ä¸‹çº¿ã€‚</p></li></ol><p>ä¸¾ä¾‹è¯´æ˜ï¼š</p><ul><li><p>å‡è®¾æœ‰ä¸‰ä¸ªå“¨å…µèŠ‚ç‚¹ï¼šSentinel Aã€Sentinel B å’Œ Sentinel Cï¼Œä»¥åŠä¸€ä¸ªä¸»èŠ‚ç‚¹ Master å’Œä¸€ä¸ªä»èŠ‚ç‚¹ Slaveã€‚å¦‚æœ Sentinel A æ— æ³•è¿æ¥åˆ° Master èŠ‚ç‚¹ï¼Œå®ƒä¼šå°† Master æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ã€‚åŒæ ·åœ°ï¼Œå¦‚æœ Sentinel B ä¹Ÿæ— æ³•è¿æ¥åˆ° Master èŠ‚ç‚¹ï¼Œå®ƒä¹Ÿä¼šå°† Master æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ã€‚ä½†è¿™è¿˜ä¸è¶³ä»¥è®© Master è¢«è®¤ä¸ºæ˜¯å®¢è§‚ä¸‹çº¿ã€‚</p></li><li><p>å½“ Sentinel A å’Œ Sentinel B éƒ½ä¸»è§‚ä¸‹çº¿äº† Master èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä»–ä»¬ç›¸äº’é€šä¿¡æ—¶å‘ç°äº†è¿™ä¸ªæƒ…å†µï¼Œä»–ä»¬å°±ä¼šåœ¨è¾¾æˆä¸€è‡´æ„è§åå°† Master èŠ‚ç‚¹æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿ã€‚è¿™æ—¶ï¼Œæ•´ä¸ªå“¨å…µé›†åˆè¾¾æˆä¸€è‡´ï¼Œè®¤ä¸º Master èŠ‚ç‚¹å·²ä¸‹çº¿ã€‚</p></li></ul><p>å®¢è§‚ä¸‹çº¿æ˜¯ä¸€ä¸ªæ›´ä¸¥æ ¼çš„åˆ¤æ–­ï¼Œéœ€è¦å¤šä¸ªå“¨å…µèŠ‚ç‚¹ä¸€è‡´è®¤ä¸ºæŸä¸ªèŠ‚ç‚¹ä¸å¯ç”¨ï¼Œæ‰ä¼šè§¦å‘åç»­çš„æ•…éšœåˆ¤æ–­å’Œè‡ªåŠ¨æ•…éšœåˆ‡æ¢ç­‰åŠ¨ä½œã€‚è¿™ç§æœºåˆ¶ç¡®ä¿äº†åœ¨ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹è®¤ä¸ºæŸèŠ‚ç‚¹ä¸‹çº¿æ—¶ï¼Œä¸ä¼šç«‹å³è§¦å‘æ•…éšœåˆ‡æ¢ï¼Œä»¥é¿å…è¯¯åˆ¤é€ æˆä¸å¿…è¦çš„åˆ‡æ¢ã€‚åªæœ‰å¤šä¸ªå“¨å…µèŠ‚ç‚¹ä¸€è‡´è®¤ä¸ºèŠ‚ç‚¹ä¸‹çº¿ï¼Œæ‰ä¼šè§¦å‘åç»­çš„æ•…éšœå¤„ç†æµç¨‹ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/33314544699200.png" alt="å®¢è§‚ä¸‹çº¿çš„åˆ¤æ–­"></p><h1 id="å¦‚ä½•é€‰å®šæ–°ä¸»åº“"><a href="#å¦‚ä½•é€‰å®šæ–°ä¸»åº“" class="headerlink" title="å¦‚ä½•é€‰å®šæ–°ä¸»åº“"></a>å¦‚ä½•é€‰å®šæ–°ä¸»åº“</h1><p>åœ¨Redis Sentinelæ¨¡å¼ä¸­ï¼Œå½“ä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰å‘ç”Ÿæ•…éšœå¯¼è‡´ä¸‹çº¿åï¼Œå“¨å…µä¼šé€šè¿‡é€‰ä¸¾è¿‡ç¨‹é€‰æ‹©ä¸€ä¸ªæ–°çš„ä¸»èŠ‚ç‚¹ï¼ˆMasterï¼‰æ¥å–ä»£åŸæ¥çš„ä¸»èŠ‚ç‚¹ã€‚é€‰å®šæ–°ä¸»åº“çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p><strong>ä¸»è§‚ä¸‹çº¿å’Œå®¢è§‚ä¸‹çº¿åˆ¤æ–­ï¼š</strong> å½“å“¨å…µèŠ‚ç‚¹ä¸»è§‚ä¸‹çº¿ï¼ˆå•ä¸ªå“¨å…µè®¤ä¸ºä¸å¯ç”¨ï¼‰ä¸€ä¸ªä¸»èŠ‚ç‚¹æ—¶ï¼Œå¦‚æœå¤šæ•°å“¨å…µéƒ½ä¸»è§‚ä¸‹çº¿äº†åŒä¸€ä¸ªä¸»èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªä¸»èŠ‚ç‚¹ä¼šè¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿ï¼ˆå¤šæ•°æ´¾å…±è¯†ï¼‰ã€‚</p></li><li><p><strong>é€‰ä¸¾æ–°ä¸»èŠ‚ç‚¹ï¼š</strong> å½“ä¸€ä¸ªä¸»èŠ‚ç‚¹è¢«æ ‡è®°ä¸ºå®¢è§‚ä¸‹çº¿åï¼Œå“¨å…µèŠ‚ç‚¹ä¼šå¼€å§‹é€‰ä¸¾ä¸€ä¸ªæ–°çš„ä¸»èŠ‚ç‚¹ã€‚é€‰ä¸¾è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>å“¨å…µä¼šåœ¨æ‰€æœ‰æ²¡æœ‰ä¸‹çº¿çš„ä»èŠ‚ç‚¹ï¼ˆSlavesï¼‰ä¸­é€‰æ‹©ä¸€ä¸ªä½œä¸ºæ–°ä¸»èŠ‚ç‚¹ã€‚<strong>å“¨å…µä¼šé€‰æ‹©ä¸€ä¸ªå»¶è¿Ÿæœ€å°ã€å¤åˆ¶åç§»é‡æœ€å¤§çš„ä»èŠ‚ç‚¹ä½œä¸ºæ–°ä¸»èŠ‚ç‚¹</strong>ã€‚è¿™ç¡®ä¿äº†æ–°ä¸»èŠ‚ç‚¹æ˜¯æœ€æ¥è¿‘åŸä¸»èŠ‚ç‚¹çš„ä»èŠ‚ç‚¹ã€‚</li><li>å¦‚æœæ²¡æœ‰åˆé€‚çš„ä»èŠ‚ç‚¹ï¼Œå“¨å…µä¼šé€‰æ‹©ä¸€ä¸ªå…·å¤‡æœ€é«˜ä¼˜å…ˆçº§çš„ä»èŠ‚ç‚¹ï¼Œå°†å…¶å‡çº§ä¸ºä¸»èŠ‚ç‚¹ã€‚å¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œé‚£ä¹ˆå“¨å…µä¼šé€‰æ‹©ä¸€ä¸ªå¤åˆ¶åç§»é‡æœ€å¤§çš„ä»èŠ‚ç‚¹ã€‚</li></ul></li><li><p><strong>æ•…éšœè½¬ç§»å’Œåˆ‡æ¢ï¼š</strong> ä¸€æ—¦æ–°ä¸»èŠ‚ç‚¹è¢«é€‰å®šï¼Œå“¨å…µä¼šå‘èµ·æ•…éšœè½¬ç§»æ“ä½œã€‚æ—§ä¸»èŠ‚ç‚¹ä¼šå˜æˆæ–°ä¸»èŠ‚ç‚¹çš„ä¸€ä¸ªä»èŠ‚ç‚¹ã€‚å…¶ä»–ä»èŠ‚ç‚¹ä¼šé‡æ–°é…ç½®ï¼ŒæŒ‡å‘æ–°çš„ä¸»èŠ‚ç‚¹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼šä¿è¯å°½é‡ä¸ä¸¢å¤±æ•°æ®ï¼Œå¹¶ä¸”ä¿è¯æ•´ä¸ªé›†ç¾¤çš„é«˜å¯ç”¨æ€§ã€‚</p></li></ol><p>é€‰å®šæ–°ä¸»åº“çš„è¿‡ç¨‹æ˜¯ä¸€ä¸ªç”±å“¨å…µèŠ‚ç‚¹ååŒå·¥ä½œçš„æµç¨‹ï¼Œç¡®ä¿äº†åœ¨ä¸»èŠ‚ç‚¹æ•…éšœçš„æƒ…å†µä¸‹ï¼Œå°½å¯èƒ½åœ°é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ä»èŠ‚ç‚¹ä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œå®ç°é›†ç¾¤çš„é«˜å¯ç”¨æ€§å’Œæ•°æ®å®Œæ•´æ€§ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/33452451605700.png" alt="æ–°ä¸»åº“çš„é€‰æ‹©"></p><h1 id="å¦‚ä½•é…ç½®å“¨å…µ"><a href="#å¦‚ä½•é…ç½®å“¨å…µ" class="headerlink" title="å¦‚ä½•é…ç½®å“¨å…µ"></a>å¦‚ä½•é…ç½®å“¨å…µ</h1><ol><li><p><strong>å“¨å…µé…ç½®æ–‡ä»¶ï¼š</strong> åœ¨Redis 6.xç‰ˆæœ¬ä¸­ï¼Œå“¨å…µçš„é…ç½®æ–‡ä»¶åç§°é»˜è®¤ä¸º<code>redis-sentinel.conf</code>ã€‚</p></li><li><p><strong>é…ç½®å˜åŒ–ï¼š</strong> Redis 6.xç‰ˆæœ¬å¼•å…¥äº†ä¸€äº›æ–°çš„å“¨å…µé…ç½®é€‰é¡¹ï¼Œä»¥é€‚åº”æ–°çš„åŠŸèƒ½å’Œæ”¹è¿›ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„é…ç½®é€‰é¡¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sentinel monitor mymaster 127.0.0.1 6379 2   # ç›‘æ§åä¸º &quot;mymaster&quot; çš„ä¸»èŠ‚ç‚¹ï¼Œ2è¡¨ç¤ºè‡³å°‘éœ€è¦2ä¸ªå“¨å…µåŒæ„ä¸»è§‚ä¸‹çº¿æ‰ä¼šæ‰§è¡Œæ•…éšœè½¬ç§»</span><br><span class="line">sentinel down-after-milliseconds mymaster 5000   # ä¸»è§‚ä¸‹çº¿åˆ¤å®šä¸º5ç§’æ— å“åº”</span><br><span class="line">sentinel parallel-syncs mymaster 1   # æ‰§è¡Œæ•…éšœè½¬ç§»æ—¶åŒæ—¶åŒæ­¥çš„ä»èŠ‚ç‚¹æ•°é‡</span><br><span class="line">sentinel failover-timeout mymaster 10000   # æ•…éšœè½¬ç§»è¶…æ—¶æ—¶é—´ä¸º10ç§’</span><br><span class="line">sentinel auth-pass mymaster mypassword   # ä¸»èŠ‚ç‚¹çš„è®¿é—®å¯†ç </span><br></pre></td></tr></table></figure></li><li><p><strong>å¯åŠ¨å“¨å…µèŠ‚ç‚¹ï¼š</strong> åœ¨Redis 6.xç‰ˆæœ¬ä¸­ï¼Œå¯åŠ¨å“¨å…µèŠ‚ç‚¹çš„å‘½ä»¤ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server /path/to/redis-sentinel.conf --sentinel</span><br></pre></td></tr></table></figure></li><li><p><strong>æŸ¥çœ‹å“¨å…µçŠ¶æ€ï¼š</strong> ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹Redis 6.xç‰ˆæœ¬å“¨å…µèŠ‚ç‚¹çš„çŠ¶æ€ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -p 26379</span><br><span class="line">sentinel master mymaster   <span class="comment"># æŸ¥çœ‹ä¸»èŠ‚ç‚¹çš„ä¿¡æ¯</span></span><br><span class="line">sentinel slaves mymaster   <span class="comment"># æŸ¥çœ‹ä»èŠ‚ç‚¹çš„ä¿¡æ¯</span></span><br><span class="line">sentinel sentinels mymaster   <span class="comment"># æŸ¥çœ‹å…¶ä»–å“¨å…µèŠ‚ç‚¹çš„ä¿¡æ¯</span></span><br></pre></td></tr></table></figure></li></ol><h1 id="å“¨å…µæ˜¯å¦‚ä½•äº’ç›¸å‘ç°çš„ï¼Ÿ"><a href="#å“¨å…µæ˜¯å¦‚ä½•äº’ç›¸å‘ç°çš„ï¼Ÿ" class="headerlink" title="å“¨å…µæ˜¯å¦‚ä½•äº’ç›¸å‘ç°çš„ï¼Ÿ"></a>å“¨å…µæ˜¯å¦‚ä½•äº’ç›¸å‘ç°çš„ï¼Ÿ</h1><p>æˆ‘ä»¬æŸ¥çœ‹é…ç½®å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰é…ç½®ä»èŠ‚ç‚¹çš„å“¨å…µï¼Œæˆ‘ä»¬åªé…ç½®äº†ä¸»èŠ‚ç‚¹åœ°å€ã€‚</p><p>é‚£ä¹ˆå“¨å…µä¹‹é—´æ˜¯å¦‚ä½•äº’ç›¸å‘ç°é€šä¿¡çš„å‘¢ï¼Ÿ</p><p>åœ¨Redis Sentinelï¼ˆå“¨å…µï¼‰é›†ç¾¤ä¸­ï¼Œå“¨å…µèŠ‚ç‚¹ä¹‹é—´é€šè¿‡å‘å¸ƒè®¢é˜…æœºåˆ¶æ¥äº’ç›¸å‘ç°å’Œé€šä¿¡ã€‚è¿™ç§æ–¹å¼ä½¿å¾—å“¨å…µèŠ‚ç‚¹èƒ½å¤Ÿç›‘æ§ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå¹¶è¿›è¡Œæ•…éšœæ£€æµ‹å’Œæ•…éšœè½¬ç§»ã€‚</p><p>ä»¥ä¸‹æ˜¯å“¨å…µé›†ç¾¤å¦‚ä½•é€šè¿‡å‘å¸ƒè®¢é˜…æœºåˆ¶äº’ç›¸å‘ç°çš„å·¥ä½œæµç¨‹ï¼š</p><ol><li><p><strong>åˆå§‹è¿æ¥ï¼š</strong> åœ¨å¯åŠ¨æ—¶ï¼Œæ¯ä¸ªå“¨å…µèŠ‚ç‚¹ä¼šå°è¯•è¿æ¥åˆ°æŒ‡å®šçš„ä¸»èŠ‚ç‚¹ã€‚è¿™äº›å“¨å…µèŠ‚ç‚¹é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„<code>sentinel monitor</code>å‘½ä»¤æŒ‡å®šè¦ç›‘æ§çš„ä¸»èŠ‚ç‚¹ä¿¡æ¯ã€‚</p></li><li><p><strong>Sentinelå‘½ä»¤å‘å¸ƒï¼š</strong> å½“ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹æˆåŠŸè¿æ¥åˆ°ä¸»èŠ‚ç‚¹åï¼Œå®ƒä¼šå¼€å§‹å®šæœŸå‘ä¸»èŠ‚ç‚¹å‘é€PINGå‘½ä»¤ï¼Œä»¥ç¡®ä¿ä¸»èŠ‚ç‚¹å¤„äºæ´»è·ƒçŠ¶æ€ã€‚å¦‚æœå“¨å…µèŠ‚ç‚¹æ£€æµ‹åˆ°ä¸»èŠ‚ç‚¹ä¸å¯ç”¨ï¼Œå®ƒä¼šå°†ä¸€ä¸ª<code>+switch-master</code>å‘½ä»¤å‘å¸ƒåˆ°é¢‘é“ä¸­ï¼Œé€šçŸ¥å…¶ä»–å“¨å…µèŠ‚ç‚¹ã€‚</p></li><li><p><strong>å‘å¸ƒè®¢é˜…æœºåˆ¶ï¼š</strong> Redisçš„å‘å¸ƒè®¢é˜…æœºåˆ¶å…è®¸ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå‘å¸ƒè€…ï¼‰å‘ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹ï¼ˆè®¢é˜…è€…ï¼‰å¹¿æ’­æ¶ˆæ¯ã€‚åœ¨å“¨å…µé›†ç¾¤ä¸­ï¼Œæ¯ä¸ªå“¨å…µèŠ‚ç‚¹éƒ½è®¢é˜…äº†ä¸€ä¸ªåä¸º<code>__sentinel__:hello</code>çš„é¢‘é“ï¼Œç”¨äºæ¥æ”¶å…¶ä»–å“¨å…µèŠ‚ç‚¹å‘é€çš„ä¿¡æ¯ã€‚<img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/34055357267900.png"></p></li><li><p><strong>å‘ç°å…¶ä»–å“¨å…µèŠ‚ç‚¹ï¼š</strong> å½“ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹æˆåŠŸè¿æ¥åˆ°ä¸»èŠ‚ç‚¹åï¼Œå®ƒä¼šå‘<code>__sentinel__:hello</code>é¢‘é“å‘å¸ƒä¸€ä¸ªâ€Helloâ€æ¶ˆæ¯ï¼Œå…¶ä¸­åŒ…å«å®ƒè‡ªå·±çš„ä¿¡æ¯ï¼ˆå¦‚IPåœ°å€å’Œç«¯å£å·ï¼‰ã€‚å…¶ä»–å“¨å…µèŠ‚ç‚¹é€šè¿‡è®¢é˜…è¿™ä¸ªé¢‘é“ï¼Œå¯ä»¥è·å–æ‰€æœ‰å…¶ä»–å“¨å…µèŠ‚ç‚¹çš„ä¿¡æ¯ã€‚</p></li><li><p><strong>æ”¶é›†å“¨å…µä¿¡æ¯ï¼š</strong> æ¯ä¸ªå“¨å…µèŠ‚ç‚¹é€šè¿‡è®¢é˜…<code>__sentinel__:hello</code>é¢‘é“ï¼Œæ”¶é›†åˆ°å…¶ä»–å“¨å…µèŠ‚ç‚¹çš„ä¿¡æ¯ã€‚è¿™ä½¿å¾—æ¯ä¸ªå“¨å…µèŠ‚ç‚¹éƒ½çŸ¥é“äº†é›†ç¾¤ä¸­å…¶ä»–å“¨å…µèŠ‚ç‚¹çš„å­˜åœ¨ã€‚</p></li><li><p><strong>æ•…éšœæ£€æµ‹å’Œè½¬ç§»ï¼š</strong> å½“ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹æ£€æµ‹åˆ°ä¸»èŠ‚ç‚¹ä¸å¯ç”¨æ—¶ï¼Œå®ƒä¼šé€šè¿‡å‘å¸ƒ<code>+switch-master</code>å‘½ä»¤æ¥é€šçŸ¥å…¶ä»–å“¨å…µèŠ‚ç‚¹ã€‚è¿™ä¸ªå‘½ä»¤åŒ…å«äº†æ–°çš„ä¸»èŠ‚ç‚¹ä¿¡æ¯ï¼Œä»¥åŠåœ¨æ‰§è¡Œæ•…éšœè½¬ç§»æ—¶éœ€è¦çš„å…¶ä»–ä¿¡æ¯ã€‚å…¶ä»–å“¨å…µèŠ‚ç‚¹æ”¶åˆ°è¿™ä¸ªå‘½ä»¤åï¼Œä¼šè¿›è¡Œåˆ¤æ–­å¹¶å¯èƒ½å‘èµ·æ•…éšœè½¬ç§»ã€‚</p></li></ol><p>é€šè¿‡ä»¥ä¸Šæœºåˆ¶ï¼Œå“¨å…µèŠ‚ç‚¹å¯ä»¥ç›¸äº’å‘ç°å’Œé€šä¿¡ï¼Œå…±åŒç›‘æ§ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå¹¶åœ¨ä¸»èŠ‚ç‚¹ä¸‹çº¿æ—¶ååŒæ‰§è¡Œæ•…éšœè½¬ç§»æ“ä½œã€‚è¿™ç§å‘å¸ƒè®¢é˜…æœºåˆ¶ç¡®ä¿äº†å“¨å…µé›†ç¾¤ä¸­èŠ‚ç‚¹ä¹‹é—´çš„å®æ—¶ä¿¡æ¯ä¼ é€’å’Œåä½œã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/33993466200100.png"></p><h1 id="ç”±å“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Ÿ"><a href="#ç”±å“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Ÿ" class="headerlink" title="ç”±å“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Ÿ"></a>ç”±å“ªä¸ªå“¨å…µæ‰§è¡Œä¸»ä»åˆ‡æ¢ï¼Ÿ</h1><h2 id="å®¢è§‚ä¸‹çº¿å…·ä½“åˆ¤æ–­æµç¨‹"><a href="#å®¢è§‚ä¸‹çº¿å…·ä½“åˆ¤æ–­æµç¨‹" class="headerlink" title="å®¢è§‚ä¸‹çº¿å…·ä½“åˆ¤æ–­æµç¨‹"></a>å®¢è§‚ä¸‹çº¿å…·ä½“åˆ¤æ–­æµç¨‹</h2><ol><li><p><strong>æ•…éšœæ£€æµ‹ï¼š</strong> å“¨å…µèŠ‚ç‚¹å®šæœŸå‘é›†ç¾¤ä¸­çš„æ‰€æœ‰ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹å‘é€PINGå‘½ä»¤æ¥æ£€æµ‹èŠ‚ç‚¹çš„å¯ç”¨æ€§ã€‚å¦‚æœä¸€ä¸ªå“¨å…µèŠ‚ç‚¹è¿ç»­ä¸€å®šæ¬¡æ•°æ²¡æœ‰æ”¶åˆ°èŠ‚ç‚¹çš„å›å¤ï¼Œå°±ä¼šå°†è¯¥èŠ‚ç‚¹æ ‡è®°ä¸ºå¯èƒ½è¿›å…¥å®¢è§‚ä¸‹çº¿çŠ¶æ€ã€‚</p></li><li><p><strong>Quorumåˆ¤æ–­ï¼š</strong> åœ¨åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦å®¢è§‚ä¸‹çº¿æ—¶ï¼Œéœ€è¦è€ƒè™‘Quorumçš„æ¦‚å¿µã€‚Quorumæ˜¯æŒ‡ä¸€ä¸ªæœ€å°çš„æŠ•ç¥¨æ•°ï¼Œå½“è¾¾åˆ°æˆ–è¶…è¿‡è¿™ä¸ªæŠ•ç¥¨æ•°æ—¶ï¼Œå“¨å…µè®¤ä¸ºèŠ‚ç‚¹å¯èƒ½è¿›å…¥å®¢è§‚ä¸‹çº¿çŠ¶æ€ã€‚Quorumçš„å€¼é€šå¸¸è®¾ç½®ä¸ºå“¨å…µèŠ‚ç‚¹æ•°é‡çš„ä¸€åŠåŠ ä¸€ã€‚</p></li><li><p><strong>æŠ•ç¥¨è¿‡ç¨‹ï¼š</strong> å½“å“¨å…µèŠ‚ç‚¹å¼€å§‹æ€€ç–‘æŸä¸ªèŠ‚ç‚¹å¯èƒ½å®¢è§‚ä¸‹çº¿æ—¶ï¼Œå®ƒä¼šå‘å…¶ä»–å“¨å…µèŠ‚ç‚¹å‘é€ä¸€ä¸ªSENTINEL is-master-down-by-addrå‘½ä»¤ï¼Œè¯¢é—®å…¶ä»–å“¨å…µèŠ‚ç‚¹æ˜¯å¦ä¹Ÿè®¤ä¸ºè¯¥èŠ‚ç‚¹å®¢è§‚ä¸‹çº¿ã€‚å…¶ä»–å“¨å…µèŠ‚ç‚¹ä¼šå¯¹æ­¤åšå‡ºå›åº”ï¼Œæ ¹æ®å›åº”çš„æ•°é‡æ¥åˆ¤æ–­æ˜¯å¦è¾¾åˆ°Quorumã€‚</p></li><li><p><strong>è¾¾åˆ°Quorumï¼š</strong> å¦‚æœæ”¶åˆ°çš„å›åº”æ•°é‡è¾¾åˆ°æˆ–è¶…è¿‡Quorumï¼Œé‚£ä¹ˆå“¨å…µèŠ‚ç‚¹å°±ä¼šè®¤ä¸ºè¯¥èŠ‚ç‚¹è¿›å…¥å®¢è§‚ä¸‹çº¿çŠ¶æ€ã€‚è¿™è¡¨ç¤ºé›†ç¾¤ä¸­æœ‰è¶³å¤Ÿå¤šçš„å“¨å…µéƒ½è®¤ä¸ºè¯¥èŠ‚ç‚¹å¯èƒ½ä¸‹çº¿ï¼Œè¿›è€Œè§¦å‘åç»­çš„ä¸»ä»åˆ‡æ¢æµç¨‹ã€‚</p></li><li><p><strong>æ‰§è¡Œåç»­æ“ä½œï¼š</strong> ä¸€æ—¦ä¸€ä¸ªèŠ‚ç‚¹è¢«è®¤ä¸ºå®¢è§‚ä¸‹çº¿ï¼Œå“¨å…µèŠ‚ç‚¹å°†å¼€å§‹æ‰§è¡Œæ•…éšœè½¬ç§»æ“ä½œï¼Œé€‰æ‹©æ–°çš„ä¸»èŠ‚ç‚¹å¹¶å¼€å§‹åŒæ­¥æ•°æ®ã€‚è¿™å°†æœ€ç»ˆå¯¼è‡´ä¸€ä¸ªæ–°çš„ä¸»èŠ‚ç‚¹è¢«é€‰å‡ºï¼Œä»è€Œå®ç°é«˜å¯ç”¨æ€§ã€‚<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/34509565301199.png"></p></li></ol><h2 id="é€‰ä¸¾Leaderæµç¨‹"><a href="#é€‰ä¸¾Leaderæµç¨‹" class="headerlink" title="é€‰ä¸¾Leaderæµç¨‹"></a>é€‰ä¸¾Leaderæµç¨‹</h2><p>Redis Sentinelï¼ˆå“¨å…µï¼‰æ˜¯ç”¨äºç›‘æ§å’Œç®¡ç†Redisä¸»ä»å¤åˆ¶ä»¥åŠè‡ªåŠ¨æ•…éšœåˆ‡æ¢çš„å·¥å…·ã€‚å½“ä¸»èŠ‚ç‚¹å¤±æ•ˆæ—¶ï¼Œå“¨å…µä¼šåè°ƒé€‰æ‹©ä¸€ä¸ªä»èŠ‚ç‚¹ä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œè¿™æ¶‰åŠåˆ°é€‰ä¸¾Leaderçš„è¿‡ç¨‹ã€‚è¯¦ç»†æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p><strong>ç›‘æ§ä¸»èŠ‚ç‚¹ï¼š</strong> å“¨å…µæŒç»­ç›‘æ§Redisä¸»èŠ‚ç‚¹çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬ä¸»èŠ‚ç‚¹æ˜¯å¦åœ¨çº¿ï¼Œä¸»ä»å¤åˆ¶æ˜¯å¦æ­£å¸¸ï¼Œä»¥åŠå“¨å…µå’Œå…¶ä»–èŠ‚ç‚¹çš„é€šä¿¡æƒ…å†µã€‚</p></li><li><p><strong>æ£€æµ‹ä¸»èŠ‚ç‚¹å¤±æ•ˆï¼š</strong> å½“å“¨å…µæ£€æµ‹åˆ°ä¸»èŠ‚ç‚¹å¤±æ•ˆï¼ˆä¾‹å¦‚ï¼Œæ— æ³•å“åº”PINGå‘½ä»¤ï¼‰ï¼Œå®ƒä¼šå°†ä¸»èŠ‚ç‚¹æ ‡è®°ä¸ºâ€œä¸»è§‚ä¸‹çº¿â€ã€‚</p></li><li><p><strong>å¹¿æ’­ä¸»è§‚ä¸‹çº¿çŠ¶æ€ï¼š</strong> ä¸€æ—¦ä¸»è§‚ä¸‹çº¿çŠ¶æ€è¢«ç¡®è®¤ï¼Œå“¨å…µä¼šå¹¿æ’­è¯¥ä¿¡æ¯ç»™å…¶ä»–å“¨å…µå’ŒèŠ‚ç‚¹ï¼Œå‘ŠçŸ¥ä¸»èŠ‚ç‚¹å·²ç»â€œä¸»è§‚ä¸‹çº¿â€ã€‚</p></li><li><p><strong>æŠ•ç¥¨ï¼š</strong> å½“å…¶ä»–å“¨å…µæ”¶åˆ°å…³äºä¸»è§‚ä¸‹çº¿çŠ¶æ€çš„å¹¿æ’­æ—¶ï¼Œå®ƒä»¬ä¼šè¿›è¡ŒæŠ•ç¥¨æ¥å†³å®šæ˜¯å¦éœ€è¦è¿›è¡Œé¢†å¯¼è€…é€‰ä¸¾ã€‚</p></li><li><p><strong>é€‰ä¸¾Leaderï¼š</strong> å¦‚æœå¤šä¸ªå“¨å…µéƒ½è®¤ä¸ºä¸»èŠ‚ç‚¹å¤±æ•ˆï¼Œå®ƒä»¬å°†è¿›å…¥é¢†å¯¼è€…é€‰ä¸¾è¿‡ç¨‹ã€‚é€‰ä¸¾è¿‡ç¨‹ä½¿ç”¨äº†Raftç®—æ³•çš„å˜ä½“ã€‚</p></li><li><p><strong>æè®®æŠ•ç¥¨ï¼š</strong> åœ¨é€‰ä¸¾è¿‡ç¨‹ä¸­ï¼Œå“¨å…µä¼šæè®®è‡ªå·±ä½œä¸ºé¢†å¯¼è€…ï¼Œç„¶åè¯·æ±‚å…¶ä»–å“¨å…µæŠ•ç¥¨æ”¯æŒã€‚</p></li><li><p><strong>æŠ•ç¥¨è¡¨å†³ï¼š</strong> å“¨å…µåœ¨æ”¶åˆ°æè®®åä¼šè¡¨å†³æ˜¯å¦æ”¯æŒè¯¥æè®®ã€‚é€šå¸¸ï¼Œå“¨å…µä¼šæŠ•ç¥¨ç»™å…·æœ‰æœ€é«˜é…ç½®ç‰ˆæœ¬å·çš„æè®®è€…ã€‚</p></li><li><p><strong>Quorumåˆ¤æ–­ï¼š</strong> åœ¨é€‰ä¸¾è¿‡ç¨‹ä¸­ï¼Œå“¨å…µéœ€è¦æ”¶é›†è¶³å¤Ÿæ•°é‡çš„æŠ•ç¥¨ï¼Œè¾¾åˆ°Quorumï¼ˆå¤§å¤šæ•°ï¼‰çš„æ”¯æŒæ‰èƒ½é€‰ä¸¾æˆåŠŸã€‚</p></li><li><p><strong>é€‰å‡ºæ–°é¢†å¯¼è€…ï¼š</strong> å¦‚æœæŸä¸ªå“¨å…µè·å¾—è¶³å¤Ÿå¤šçš„æŠ•ç¥¨ï¼Œè¶…è¿‡äº†Quorumï¼Œé‚£ä¹ˆå®ƒå°†è¢«é€‰ä¸ºæ–°çš„é¢†å¯¼è€…ã€‚</p></li><li><p><strong>é€šçŸ¥å…¶ä»–èŠ‚ç‚¹ï¼š</strong> æ–°é€‰å‡ºçš„Leaderä¼šå‘å…¶ä»–å“¨å…µå’ŒèŠ‚ç‚¹å¹¿æ’­å…¶æˆä¸ºé¢†å¯¼è€…çš„æ¶ˆæ¯ï¼Œç¡®ä¿é›†ç¾¤ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½çŸ¥é“é¢†å¯¼è€…çš„å˜æ›´ã€‚</p></li><li><p><strong>æ•…éšœåˆ‡æ¢ï¼š</strong> ä¸€æ—¦æ–°çš„Leaderé€‰ä¸¾å®Œæˆï¼Œå“¨å…µä¼šåè°ƒè¿›è¡Œæ•…éšœåˆ‡æ¢ï¼Œå°†ä¸€ä¸ªä»èŠ‚ç‚¹æå‡ä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œä½¿æ•´ä¸ªé›†ç¾¤ç»§ç»­æ­£å¸¸è¿è¡Œã€‚</p></li><li><p><strong>æ¢å¤æ­£å¸¸çŠ¶æ€ï¼š</strong> ä¸€æ—¦æ•…éšœåˆ‡æ¢å®Œæˆï¼Œæ–°çš„ä¸»èŠ‚ç‚¹å°†å¼€å§‹å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œé›†ç¾¤ä¼šæ¢å¤åˆ°æ­£å¸¸è¿è¡ŒçŠ¶æ€ã€‚</p></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRedis Sentinelçš„é€‰ä¸¾Leaderè¿‡ç¨‹å—åˆ°Paxosç®—æ³•å’ŒRaftç®—æ³•ç­‰åˆ†å¸ƒå¼ä¸€è‡´æ€§ç®—æ³•çš„å½±å“ï¼Œä»¥ä¿è¯åœ¨ä¸»èŠ‚ç‚¹å¤±æ•ˆæ—¶èƒ½å¤Ÿé€‰æ‹©åˆé€‚çš„èŠ‚ç‚¹ä½œä¸ºæ–°çš„ä¸»èŠ‚ç‚¹ï¼Œä»è€Œä¿æŒæ•°æ®çš„ä¸€è‡´æ€§å’Œé«˜å¯ç”¨æ€§ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-21/34362039455500.png"></p><h1 id="TIP"><a href="#TIP" class="headerlink" title="TIP"></a>TIP</h1><ol><li><p>å¦‚æœå“¨å…µé›†ç¾¤åªæœ‰ 2 ä¸ªå®ä¾‹ï¼Œæ­¤æ—¶ï¼Œä¸€ä¸ªå“¨å…µè¦æƒ³æˆä¸º Leaderï¼Œå¿…é¡»è·å¾— 2 ç¥¨ï¼Œè€Œä¸æ˜¯ 1 ç¥¨ã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰ä¸ªå“¨å…µæŒ‚æ‰äº†ï¼Œé‚£ä¹ˆï¼Œæ­¤æ—¶çš„é›†ç¾¤æ˜¯æ— æ³•è¿›è¡Œä¸»ä»åº“åˆ‡æ¢çš„ã€‚å› æ­¤ï¼Œé€šå¸¸æˆ‘ä»¬è‡³å°‘ä¼šé…ç½® 3 ä¸ªå“¨å…µå®ä¾‹ã€‚</p></li><li><p>è¦ä¿è¯æ‰€æœ‰å“¨å…µå®ä¾‹çš„é…ç½®æ˜¯ä¸€è‡´çš„ï¼Œå°¤å…¶æ˜¯ä¸»è§‚ä¸‹çº¿çš„åˆ¤æ–­å€¼ down-after-millisecondsã€‚down-after-millisecondsã€‚</p></li></ol></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å“¨å…µæœºåˆ¶ </tag>
            
            <tag> é«˜å¯ç”¨æ€§ </tag>
            
            <tag> æ•…éšœåˆ‡æ¢ </tag>
            
            <tag> ç›‘æ§ </tag>
            
            <tag> é€‰ä¸» </tag>
            
            <tag> å®¢è§‚ä¸‹çº¿ </tag>
            
            <tag> quorum </tag>
            
            <tag> é€‰ä¸¾leader </tag>
            
            <tag> æ•°æ®ä¸€è‡´æ€§ </tag>
            
            <tag> å“¨å…µé…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€BUGã€‘Error- module â€˜cv2.cv2â€˜ has no attribute â€˜wechat_qrcode_WeChatQRCodeâ€˜</title>
      <link href="/8ecf637c.html"/>
      <url>/8ecf637c.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="æŠ¥é”™å†…å®¹"><a href="#æŠ¥é”™å†…å®¹" class="headerlink" title="æŠ¥é”™å†…å®¹"></a>æŠ¥é”™å†…å®¹</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AttributeError: module &#x27;cv2&#x27; has no attribute &#x27;wechat_qrcode_WeChatQRCode&#x27;</span><br></pre></td></tr></table></figure><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install opencv-python</span><br><span class="line">pip install opencv-contrib-python</span><br><span class="line">``` opencv-contrib-python</span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> BUG </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> cv2 </tag>
            
            <tag> attributeerror </tag>
            
            <tag> module </tag>
            
            <tag> cv2.wechat_qrcode_wechatqrcode </tag>
            
            <tag> pip install </tag>
            
            <tag> opencv-python </tag>
            
            <tag> opencv-contrib-python </tag>
            
            <tag> é¦–å‘åšå®¢åœ°å€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®‰è£…Pip</title>
      <link href="/ab703f57.html"/>
      <url>/ab703f57.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python -m ensurepip --upgrade</span><br><span class="line">```-m ensurepip --upgrade</span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å‰ç«¯æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pip </tag>
            
            <tag> python </tag>
            
            <tag> ensurepip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æºç å®‰è£…mysql5.7</title>
      <link href="/3f760569.html"/>
      <url>/3f760569.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="é€šè¿‡-RPM-åŒ…å®‰è£…-MySQL"><a href="#é€šè¿‡-RPM-åŒ…å®‰è£…-MySQL" class="headerlink" title="é€šè¿‡ RPM åŒ…å®‰è£… MySQL"></a>é€šè¿‡ RPM åŒ…å®‰è£… MySQL</h1><ol><li><p><strong>ä¸‹è½½ MySQL RPM åŒ…ï¼š</strong> é¦–å…ˆï¼Œæ‚¨éœ€è¦ä» MySQL å®˜æ–¹ç½‘ç«™ï¼ˆ<a href="https://dev.mysql.com/downloads/mysql/%EF%BC%89%E4%B8%8B%E8%BD%BD%E9%80%82%E7%94%A8%E4%BA%8E%E6%82%A8%E7%9A%84%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC%E5%92%8C%E6%9E%B6%E6%9E%84%E7%9A%84">https://dev.mysql.com/downloads/mysql/ï¼‰ä¸‹è½½é€‚ç”¨äºæ‚¨çš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬å’Œæ¶æ„çš„</a> MySQL RPM åŒ…ã€‚é€‰æ‹©ä¸æ‚¨çš„æ“ä½œç³»ç»Ÿå’Œç³»ç»Ÿæ¶æ„ç›¸å¯¹åº”çš„ç‰ˆæœ¬ã€‚</p></li><li><p><strong>å®‰è£… RPM åŒ…ï¼š</strong> ä¸‹è½½å®Œæˆåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ <code>rpm</code> å‘½ä»¤å®‰è£… MySQL RPM åŒ…ã€‚å‡è®¾æ‚¨ä¸‹è½½çš„ RPM åŒ…åä¸º <code>mysql.rpm</code>ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm -ivh mysql.rpm</span><br></pre></td></tr></table></figure></li><li><p><strong>å¯åŠ¨ MySQL æœåŠ¡ï¼š</strong> å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ MySQL æœåŠ¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mysql</span><br></pre></td></tr></table></figure></li><li><p><strong>è®¾ç½®å¼€æœºå¯åŠ¨ï¼š</strong> è‹¥è¦ç¡®ä¿ç³»ç»Ÿé‡å¯å MySQL æœåŠ¡èƒ½å¤Ÿè‡ªåŠ¨å¯åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ç”¨å¼€æœºè‡ªå¯åŠ¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> mysql</span><br></pre></td></tr></table></figure></li><li><p><strong>è®¾ç½® MySQL æ ¹å¯†ç ï¼š</strong> å®‰è£… MySQL åï¼Œéœ€è¦è®¾ç½® MySQL æ ¹ç”¨æˆ·çš„å¯†ç ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œè®¾ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mysql_secure_installation</span><br></pre></td></tr></table></figure></li><li><p><strong>è®¿é—® MySQLï¼š</strong> å®‰è£…å’Œé…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç™»å½•åˆ° MySQL æ•°æ®åº“ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure></li></ol><h1 id="ç»™rootç”¨æˆ·å–æ¶ˆIPé…ç½®"><a href="#ç»™rootç”¨æˆ·å–æ¶ˆIPé…ç½®" class="headerlink" title="ç»™rootç”¨æˆ·å–æ¶ˆIPé…ç½®"></a>ç»™rootç”¨æˆ·å–æ¶ˆIPé…ç½®</h1><p>åœ¨ MySQL æ•°æ®åº“ä¸­ï¼Œæœ‰æ—¶é»˜è®¤ä¼šé™åˆ¶ root ç”¨æˆ·åªèƒ½é€šè¿‡ localhostï¼ˆ127.0.0.1ï¼‰è¿æ¥ï¼Œä»¥æé«˜å®‰å…¨æ€§ã€‚å¦‚æœæ‚¨å¸Œæœ›å…è®¸ root ç”¨æˆ·ä»å…¶ä»–ä¸»æœºè¿æ¥åˆ° MySQLï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å–æ¶ˆ root ç”¨æˆ·çš„ IP é™åˆ¶ï¼š</p><ol><li><p><strong>ç¼–è¾‘ MySQL é…ç½®æ–‡ä»¶ï¼š</strong> æ‰“å¼€ MySQL çš„é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ <code>/etc/my.cnf</code> æˆ– <code>/etc/mysql/my.cnf</code>ï¼Œä½¿ç”¨æ‚¨å–œæ¬¢çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ <code>nano</code> æˆ– <code>vim</code>ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/my.cnf</span><br></pre></td></tr></table></figure></li><li><p><strong>åœ¨ <code>[mysqld]</code> æ®µæ·»åŠ  <code>skip-networking</code> è¡Œï¼š</strong> åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰¾åˆ° <code>[mysqld]</code> æ®µï¼Œåœ¨è¯¥æ®µä¸­æ·»åŠ ä»¥ä¸‹è¡Œä»¥ç¦ç”¨ <code>skip-networking</code> é€‰é¡¹ï¼Œç¡®ä¿å…¶å¤„äºæ³¨é‡ŠçŠ¶æ€ï¼ˆè¡Œå‰é¢æœ‰ <code>#</code>ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># skip-networking</span><br></pre></td></tr></table></figure></li><li><p><strong>é‡å¯ MySQL æœåŠ¡ï¼š</strong> ä¿å­˜é…ç½®æ–‡ä»¶åï¼Œé‡å¯ MySQL æœåŠ¡ä»¥åº”ç”¨æ›´æ”¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl restart mysql</span><br></pre></td></tr></table></figure></li><li><p><strong>ç™»å½• MySQL å¹¶æ›´æ–° root ç”¨æˆ·æƒé™ï¼š</strong> ç°åœ¨æ‚¨å¯ä»¥ç™»å½•åˆ° MySQL æ•°æ®åº“ï¼Œå¹¶ä¸º root ç”¨æˆ·è®¾ç½®å…è®¸ä»å…¶ä»–ä¸»æœºè¿æ¥çš„æƒé™ã€‚æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ç™»å½•åˆ° MySQLï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure></li><li><p><strong>æ›´æ–° root ç”¨æˆ·çš„ä¸»æœºè®¾ç½®ï¼š</strong> åœ¨ MySQL å‘½ä»¤è¡Œä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹ SQL å‘½ä»¤æ›´æ–° root ç”¨æˆ·çš„ä¸»æœºè®¾ç½®ï¼Œå…è®¸ä»ä»»ä½•ä¸»æœºè¿æ¥ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;your_password&#x27;</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure><p>è¯·å°† <code>&#39;your_password&#39;</code> æ›¿æ¢ä¸ºæ‚¨å¸Œæœ›è®¾ç½®çš„ root ç”¨æˆ·å¯†ç ã€‚</p></li><li><p><strong>åˆ·æ–°æƒé™ï¼š</strong> æ›´æ–°äº†æƒé™è®¾ç½®åï¼Œæ‰§è¡Œä»¥ä¸‹ SQL å‘½ä»¤ä»¥åˆ·æ–° MySQL çš„æƒé™ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure></li><li><p><strong>é€€å‡º MySQL å‘½ä»¤è¡Œï¼š</strong> è¾“å…¥ä»¥ä¸‹å‘½ä»¤é€€å‡º MySQL å‘½ä»¤è¡Œï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EXIT;</span><br></pre></td></tr></table></figure></li></ol><h1 id="è¯¦ç»†è§£è¯»mysql5-7çš„é…ç½®æ–‡ä»¶"><a href="#è¯¦ç»†è§£è¯»mysql5-7çš„é…ç½®æ–‡ä»¶" class="headerlink" title="è¯¦ç»†è§£è¯»mysql5.7çš„é…ç½®æ–‡ä»¶"></a>è¯¦ç»†è§£è¯»mysql5.7çš„é…ç½®æ–‡ä»¶</h1><p>ï¿½ï¿½è¯»mysql5.7çš„é…ç½®æ–‡ä»¶</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> æºç  </tag>
            
            <tag> å®‰è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yumç¦»çº¿å®‰è£…elasticsearch7.x</title>
      <link href="/943c1545.html"/>
      <url>/943c1545.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><p>è¦åœ¨ CentOS 7 ä¸Šä½¿ç”¨ <code>yum</code> å®‰è£… Elasticsearch 7ï¼Œæ‚¨å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š</p><ol><li><strong>å‡†å¤‡yumåŒ…</strong></li></ol><p>å…³æ³¨å¨ä¿¡ã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘å›å¤ã€1016ã€‘ä¸é™é€Ÿä¸‹è½½<br>2. <strong>å®‰è£… Elasticsearch 7ï¼š</strong> ä¸Šä¼ å‹ç¼©åŒ…åè§£å‹ã€‚æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>   <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> es</span><br><span class="line">sudo yum install *.rpm</span><br></pre></td></tr></table></figure><ol start="3"><li><p><strong>é…ç½® Elasticsearchï¼š</strong> å®‰è£…å®Œæˆåï¼Œæ‚¨éœ€è¦è¿›è¡Œä¸€äº›é…ç½®ã€‚æ‰“å¼€ Elasticsearch é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/elasticsearch/elasticsearch.yml</span><br></pre></td></tr></table></figure><p>æ ¹æ®æ‚¨çš„éœ€æ±‚è¿›è¡Œé…ç½®ï¼Œä¾‹å¦‚è®¾ç½®é›†ç¾¤åç§°ã€èŠ‚ç‚¹åç§°ã€ç›‘å¬åœ°å€ç­‰ã€‚å®Œæˆé…ç½®åï¼Œä¿å­˜å¹¶é€€å‡ºç¼–è¾‘å™¨ã€‚</p></li><li><p><strong>å¯åŠ¨ Elasticsearch æœåŠ¡ï¼š</strong> å®‰è£…å’Œé…ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥å¯åŠ¨ Elasticsearch æœåŠ¡ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start elasticsearch</span><br></pre></td></tr></table></figure><p>æ‚¨è¿˜å¯ä»¥å°† Elasticsearch è®¾ç½®ä¸ºå¼€æœºè‡ªå¯åŠ¨ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> elasticsearch</span><br></pre></td></tr></table></figure></li><li><p><strong>æ£€æŸ¥ Elasticsearch çŠ¶æ€ï¼š</strong> æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ Elasticsearch æœåŠ¡çš„çŠ¶æ€ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status elasticsearch</span><br></pre></td></tr></table></figure></li></ol><p>ç°åœ¨ï¼Œæ‚¨å·²ç»æˆåŠŸåœ¨ CentOS 7 ä¸Šä½¿ç”¨ <code>yum</code> å®‰è£…äº† Elasticsearch 7ã€‚æ‚¨å¯ä»¥æ ¹æ®æ‚¨çš„å®é™…éœ€æ±‚è¿›è¡Œé…ç½®å’Œç®¡ç†ã€‚è®°å¾—åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é€‚å½“çš„å®‰å…¨æªæ–½å’Œç½‘ç»œè®¿é—®é™åˆ¶ï¼Œä»¥ç¡®ä¿ Elasticsearch çš„å®‰å…¨æ€§ã€‚ï¿½ä¿ Elasticsearch çš„å®‰å…¨æ€§ã€‚</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yum </tag>
            
            <tag> ç¦»çº¿å®‰è£… </tag>
            
            <tag> es </tag>
            
            <tag> elasticsearch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yumç¦»çº¿å®‰è£…mysql5.7</title>
      <link href="/b1fe8c2a.html"/>
      <url>/b1fe8c2a.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><ol><li><p>ä¸‹è½½rpmåŒ…<br>åœ¨ä¸€å°èƒ½è¿ç½‘çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œå‘½ä»¤:</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install --downloadonly --downloaddir=mysql mysql-community-server</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘å‡†å¤‡äº†ä¸€ä¸ªç¦»çº¿åŒ…ï¼šå…³æ³¨å¨ä¿¡ã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘å›å¤ã€1015ã€‘ä¸é™é€Ÿä¸‹è½½</p></li><li><p>å¤åˆ¶mysqlç›®å½•åŠä¸‹é¢æ‰€æœ‰å­æ–‡ä»¶åˆ°ç¦»çº¿æœåŠ¡å™¨ä¸Š</p></li><li><p>åœ¨ç¦»çº¿ç¯å¢ƒä¸­æ‰§è¡Œå‘½ä»¤</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd mysql</span><br><span class="line">yum install *.rpm</span><br></pre></td></tr></table></figure></li><li><p><strong>å¯åŠ¨ MySQL æœåŠ¡ï¼š</strong> å®‰è£…å®Œæˆåï¼Œæ‚¨å¯ä»¥å¯åŠ¨ MySQL 5.7 æœåŠ¡ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl start mysqld</span><br></pre></td></tr></table></figure></li><li><p><strong>æŸ¥çœ‹åˆå§‹å¯†ç ï¼š</strong> MySQL 5.7 ç¬¬ä¸€æ¬¡å¯åŠ¨åï¼Œä¼šç”Ÿæˆä¸€ä¸ªåˆå§‹å¯†ç ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹åˆå§‹å¯†ç ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo grep <span class="string">&#x27;temporary password&#x27;</span> /var/log/mysqld.log</span><br></pre></td></tr></table></figure></li><li><p><strong>è®¾ç½®æ–°å¯†ç ï¼š</strong> ä½¿ç”¨åˆå§‹å¯†ç ç™»å½• MySQLï¼Œç„¶åè®¾ç½®ä¸€ä¸ªæ–°çš„å¯†ç ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">ALTER USER <span class="string">&#x27;root&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;new_password&#x27;</span>;</span><br></pre></td></tr></table></figure><p>å°† <code>&#39;new_password&#39;</code> æ›¿æ¢ä¸ºæ‚¨æƒ³è¦è®¾ç½®çš„æ–°å¯†ç ã€‚</p></li><li><p><strong>é‡æ–°åŠ è½½æƒé™ï¼š</strong> ä¿®æ”¹å¯†ç åï¼Œé‡æ–°åŠ è½½æƒé™ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure></li><li><p><strong>è®¾ç½®å¼€æœºè‡ªå¯åŠ¨ï¼š</strong> å¦‚æœæ‚¨æƒ³è¦ MySQL åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> mysqld</span><br></pre></td></tr></table></figure></li><li><p><strong>æ£€æŸ¥ MySQL çŠ¶æ€ï¼š</strong> æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥ MySQL æœåŠ¡çš„çŠ¶æ€ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl status mysqld</span><br><span class="line">```systemctl status mysqld</span><br></pre></td></tr></table></figure></li></ol></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> yum </tag>
            
            <tag> ç¦»çº¿å®‰è£… </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yumç¦»çº¿å®‰è£…nginx</title>
      <link href="/17fdf463.html"/>
      <url>/17fdf463.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><ol><li>ä¸‹è½½rpmåŒ…<br>åœ¨ä¸€å°èƒ½è¿ç½‘çš„æœåŠ¡å™¨ä¸Šæ‰§è¡Œå‘½ä»¤: <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install --downloadonly --downloaddir=nginx nginx</span><br></pre></td></tr></table></figure>è¿™é‡Œæˆ‘å‡†å¤‡äº†ä¸€ä¸ªç¦»çº¿åŒ…ï¼šå…³æ³¨å¨ä¿¡ã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘å›å¤ã€1014ã€‘ä¸é™é€Ÿä¸‹è½½</li><li>å¤åˆ¶nginxç›®å½•åŠä¸‹é¢æ‰€æœ‰å­æ–‡ä»¶åˆ°ç¦»çº¿æœåŠ¡å™¨ä¸Š</li><li>åœ¨ç¦»çº¿ç¯å¢ƒä¸­æ‰§è¡Œå‘½ä»¤ <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd nginx</span><br><span class="line">yum install *.rpm</span><br></pre></td></tr></table></figure> yum install *.rpm<pre><code></code></pre></li></ol></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yum </tag>
            
            <tag> ç¦»çº¿å®‰è£… </tag>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šæ·±å…¥è§£è¯»Redisä¸»ä»åŒæ­¥æœºåˆ¶</title>
      <link href="/e5ef9f90.html"/>
      <url>/e5ef9f90.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="Redisé«˜å¯é é ä»€ä¹ˆä¿è¯ï¼Ÿ"><a href="#Redisé«˜å¯é é ä»€ä¹ˆä¿è¯ï¼Ÿ" class="headerlink" title="Redisé«˜å¯é é ä»€ä¹ˆä¿è¯ï¼Ÿ"></a>Redisé«˜å¯é é ä»€ä¹ˆä¿è¯ï¼Ÿ</h1><p>ä¸ºä»€ä¹ˆè¦æè¿™ä¸ªå‘¢ï¼Œå› ä¸ºRedisä¸»ä»åº“ç›®çš„å‘¢å…¶å®å°±æ˜¯ä¸ºäº†å®ç°é«˜å¯é ã€‚ä¸Šç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è¯´è¿‡Redisçš„AOFã€RDBæ—¥å¿—å…¶å®å°±æ˜¯ä¸ºäº†<strong>å‡å°‘æ•°æ®ä¸¢å¤±</strong>ï¼Œè¿™æ˜¯é«˜å¯é çš„ä¸€éƒ¨åˆ†ã€‚</p><p>è¿™ç¯‡æ–‡ç« å‘¢ï¼Œæˆ‘ä»¬èŠèŠRediså®ç°é«˜å¯é çš„å¦ä¸€æ–¹é¢ï¼š<strong>å°½é‡å‡å°‘æœåŠ¡ä¸­æ–­</strong>ã€‚è¿™é‡ŒRedisæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼ŸRedisçš„åšæ³•æ˜¯<strong>å¢åŠ å‰¯æœ¬å†—ä½™</strong>ï¼Œå°†ä¸€ä»½æ•°æ®åŒæ—¶ä¿å­˜åœ¨å¤šä¸ªå®ä¾‹ä¸Šã€‚è¿™æ ·æŸä¸ªå®ä¾‹æŒ‚æ‰å¹¶ä¸å½±å“å…¶å®ƒå®ä¾‹æä¾›å¯¹å¤–æœåŠ¡ï¼Œä¿è¯æˆ‘ä»¬çš„ä¸šåŠ¡æ­£å¸¸è¿è¡Œã€‚</p><p>Redisæœ‰å“ªäº›æ‰‹æ®µæé«˜é«˜å¯ç”¨å‘¢ï¼Ÿ</p><ol><li><p><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šRedis æ”¯æŒå¤šç§æ•°æ®æŒä¹…åŒ–æ–¹å¼ï¼ŒåŒ…æ‹¬å¿«ç…§ï¼ˆsnapshottingï¼‰å’Œæ—¥å¿—ï¼ˆappend-only fileï¼‰ã€‚å¿«ç…§ä¼šå®šæœŸå°†å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜æ–‡ä»¶ï¼Œè€Œæ—¥å¿—ä¼šè®°å½•æ¯æ¬¡å†™æ“ä½œï¼Œä»¥ä¾¿åœ¨é‡å¯æ—¶è¿›è¡Œæ¢å¤ã€‚è¿™äº›æŒä¹…åŒ–æ–¹å¼å¯ä»¥ç¡®ä¿å³ä½¿æœåŠ¡å™¨æ„å¤–å…³é—­ï¼Œæ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p></li><li><p><strong>ä¸»ä»å¤åˆ¶</strong>ï¼šRedis æ”¯æŒä¸»ä»å¤åˆ¶æœºåˆ¶ï¼Œå…¶ä¸­ä¸€ä¸ª Redis å®ä¾‹ä½œä¸ºä¸»èŠ‚ç‚¹ï¼Œè´Ÿè´£å†™æ“ä½œï¼Œè€Œå…¶ä»–å®ä¾‹ä½œä¸ºä»èŠ‚ç‚¹ï¼Œè´Ÿè´£å¤åˆ¶ä¸»èŠ‚ç‚¹çš„æ•°æ®ã€‚è¿™ç§æ–¹å¼å¯ä»¥å®ç°æ•°æ®çš„å¤‡ä»½å’Œè´Ÿè½½å‡è¡¡ï¼Œä»è€Œæé«˜å¯é æ€§å’Œæ€§èƒ½ã€‚</p></li><li><p><strong>Sentinel å“¨å…µ</strong>ï¼šRedis Sentinel æ˜¯ä¸€ä¸ªç›‘æ§å’Œè‡ªåŠ¨æ•…éšœæ¢å¤ç³»ç»Ÿï¼Œå¯ä»¥ç›‘æ§ Redis å®ä¾‹çš„å¥åº·çŠ¶æ€å¹¶åœ¨ä¸»èŠ‚ç‚¹æ•…éšœæ—¶è‡ªåŠ¨è¿›è¡Œæ•…éšœåˆ‡æ¢ã€‚å®ƒå¯ä»¥ç¡®ä¿ç³»ç»Ÿåœ¨ä¸»èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶èƒ½å¤Ÿè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨çš„ä»èŠ‚ç‚¹ï¼Œä¿è¯æœåŠ¡çš„è¿ç»­æ€§ã€‚</p></li><li><p><strong>Cluster é›†ç¾¤</strong>ï¼šRedis Cluster æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå°†æ•°æ®åˆ†å¸ƒåœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œä»¥æé«˜å¯ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æŒæœ‰éƒ¨åˆ†æ•°æ®ï¼Œå¹¶ä¸”å¯ä»¥å®¹å¿éƒ¨åˆ†èŠ‚ç‚¹çš„æ•…éšœã€‚å½“èŠ‚ç‚¹å‘ç”Ÿæ•…éšœæ—¶ï¼Œé›†ç¾¤å¯ä»¥è‡ªåŠ¨é‡æ–°åˆ†é…æ•°æ®ï¼Œç¡®ä¿æœåŠ¡çš„å¯é æ€§å’Œé«˜å¯ç”¨æ€§ã€‚</p></li></ol><h1 id="å¦‚ä½•ä¿è¯å‰¯æœ¬æ•°æ®ä¸€è‡´ï¼Ÿ"><a href="#å¦‚ä½•ä¿è¯å‰¯æœ¬æ•°æ®ä¸€è‡´ï¼Ÿ" class="headerlink" title="å¦‚ä½•ä¿è¯å‰¯æœ¬æ•°æ®ä¸€è‡´ï¼Ÿ"></a>å¦‚ä½•ä¿è¯å‰¯æœ¬æ•°æ®ä¸€è‡´ï¼Ÿ</h1><p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼ŒRedisæä¾›äº†<strong>ä¸»ä»åº“æ¨¡å¼</strong>ï¼Œä»¥ä¿è¯å‰¯æœ¬ä¸€è‡´ï¼Œä¸»ä»åº“ä¹‹é—´é‡‡ç”¨çš„æ˜¯<strong>è¯»å†™åˆ†ç¦»</strong>çš„æ–¹å¼ã€‚</p><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-17/4353139547600.png" alt="Redisä¸»ä»åº“å’Œè¯»å†™åˆ†ç¦»"></p><h2 id="Redisä¸­çš„è¯»å†™åˆ†ç¦»åŸºæœ¬åŸç†å’Œæ­¥éª¤"><a href="#Redisä¸­çš„è¯»å†™åˆ†ç¦»åŸºæœ¬åŸç†å’Œæ­¥éª¤" class="headerlink" title="Redisä¸­çš„è¯»å†™åˆ†ç¦»åŸºæœ¬åŸç†å’Œæ­¥éª¤"></a>Redisä¸­çš„è¯»å†™åˆ†ç¦»åŸºæœ¬åŸç†å’Œæ­¥éª¤</h2><p>Redis è¯»å†™åˆ†ç¦»æ˜¯ä¸€ç§æ¶æ„è®¾è®¡ï¼Œå°†è¯»æ“ä½œå’Œå†™æ“ä½œåˆ†åˆ«è·¯ç”±åˆ°ä¸åŒçš„ Redis èŠ‚ç‚¹ä¸Šï¼Œä»¥æé«˜æ€§èƒ½å’Œæ‰©å±•æ€§ã€‚åœ¨ Redis è¯»å†™åˆ†ç¦»ä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä¸€ä¸ªä¸»èŠ‚ç‚¹è´Ÿè´£å†™æ“ä½œï¼Œå¤šä¸ªä»èŠ‚ç‚¹è´Ÿè´£è¯»æ“ä½œã€‚</p><ol><li><p><strong>ä¸»èŠ‚ç‚¹ï¼ˆå†™èŠ‚ç‚¹ï¼‰</strong>ï¼š</p><ul><li>ä¸»èŠ‚ç‚¹è´Ÿè´£å¤„ç†æ‰€æœ‰çš„å†™æ“ä½œï¼ŒåŒ…æ‹¬å†™å…¥ã€æ›´æ–°å’Œåˆ é™¤ç­‰ã€‚</li><li>å†™æ“ä½œåœ¨ä¸»èŠ‚ç‚¹ä¸Šæ‰§è¡Œï¼Œç„¶åä¸»èŠ‚ç‚¹å°†å†™æ“ä½œçš„ç»“æœåŒæ­¥åˆ°æ‰€æœ‰ä»èŠ‚ç‚¹ã€‚</li></ul></li><li><p><strong>ä»èŠ‚ç‚¹ï¼ˆè¯»èŠ‚ç‚¹ï¼‰</strong>ï¼š</p><ul><li>ä»èŠ‚ç‚¹è´Ÿè´£å¤„ç†è¯»æ“ä½œï¼Œä¾‹å¦‚è·å–æ•°æ®ã€æŸ¥è¯¢ç­‰ã€‚</li><li>ä»èŠ‚ç‚¹ä»ä¸»èŠ‚ç‚¹å¤åˆ¶æ•°æ®ï¼Œå¹¶åœ¨æœ¬åœ°ä¿å­˜ä¸€ä»½ä¸ä¸»èŠ‚ç‚¹ç›¸åŒçš„æ•°æ®å‰¯æœ¬ã€‚</li></ul></li><li><p><strong>è¯»å†™åˆ†ç¦»çš„å®ç°</strong>ï¼š</p><ul><li>å®¢æˆ·ç«¯æ ¹æ®éœ€è¦çš„æ“ä½œç±»å‹å°†è¯·æ±‚åˆ†å‘åˆ°ä¸»èŠ‚ç‚¹æˆ–ä»èŠ‚ç‚¹ã€‚</li><li>è¯»æ“ä½œå¯ä»¥é€šè¿‡è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå°†è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„ä»èŠ‚ç‚¹ï¼Œå®ç°è´Ÿè½½åˆ†æ‹…ã€‚</li><li>å†™æ“ä½œä»ç„¶å‘é€ç»™ä¸»èŠ‚ç‚¹ï¼Œç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚</li></ul></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>Redis è¯»å†™åˆ†ç¦»å¹¶ä¸æ˜¯å®Œå…¨çš„æ•°æ®å®æ—¶åŒæ­¥</strong>ï¼Œå› ä¸ºä»èŠ‚ç‚¹çš„æ•°æ®å¯èƒ½ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿã€‚å¦å¤–ï¼Œè¯»å†™åˆ†ç¦»é€‚ç”¨äºå¤§å¤šæ•°åœºæ™¯ä¸‹çš„è´Ÿè½½å‡è¡¡å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œä½†åœ¨ä¸€äº›ç‰¹å®šæƒ…å†µä¸‹ï¼Œä¾‹å¦‚æœ‰åºé›†åˆç­‰å¤æ‚æ•°æ®ç»“æ„çš„æŸ¥è¯¢ï¼Œä»ç„¶éœ€è¦è®¿é—®ä¸»èŠ‚ç‚¹ã€‚</p><p>å®ç° Redis è¯»å†™åˆ†ç¦»éœ€è¦æ­£ç¡®é…ç½®ä¸»ä»èŠ‚ç‚¹çš„å…³ç³»ï¼Œä»¥åŠåœ¨å®¢æˆ·ç«¯ä¸­ä½¿ç”¨åˆé€‚çš„ç­–ç•¥è¿›è¡Œè¯»å†™æ“ä½œçš„è·¯ç”±ã€‚åŒæ—¶ï¼Œéœ€è¦æ³¨æ„ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®åŒæ­¥å’Œæ•…éšœå¤„ç†ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§å’Œå¯é æ€§ã€‚</p><h1 id="Redisä¸»ä»åº“ç¬¬ä¸€æ¬¡åŒæ­¥æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#Redisä¸»ä»åº“ç¬¬ä¸€æ¬¡åŒæ­¥æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="Redisä¸»ä»åº“ç¬¬ä¸€æ¬¡åŒæ­¥æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>Redisä¸»ä»åº“ç¬¬ä¸€æ¬¡åŒæ­¥æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h1><ol><li><p><strong>å»ºç«‹è¿æ¥ï¼š</strong> ä»æœåŠ¡å™¨ä¼šå‘ä¸»æœåŠ¡å™¨å‘é€ <code>PSYNC</code> å‘½ä»¤ï¼Œè¡¨ç¤ºè¦è¿›è¡ŒåŒæ­¥ã€‚ä¸»æœåŠ¡å™¨æ”¶åˆ° <code>PSYNC</code> å‘½ä»¤åï¼Œä¼šåˆ›å»ºä¸€ä¸ªä¸“é—¨ç”¨äºå¤åˆ¶çš„åå°çº¿ç¨‹ï¼ˆreplication threadï¼‰ï¼Œå¹¶ç­‰å¾…ä»æœåŠ¡å™¨çš„è¿æ¥ã€‚</p></li><li><p><strong>å…¨é‡å¤åˆ¶ï¼ˆç¬¬ä¸€æ¬¡åŒæ­¥ï¼‰ï¼š</strong> å½“ä»æœåŠ¡å™¨è¿æ¥åˆ°ä¸»æœåŠ¡å™¨åï¼Œä¸»æœåŠ¡å™¨ä¼šå°†è‡ªå·±çš„æ•°æ®å‘é€ç»™ä»æœåŠ¡å™¨ã€‚è¿™ä¸ªè¿‡ç¨‹å«åš<strong>å…¨é‡å¤åˆ¶</strong>ï¼Œä¸»æœåŠ¡å™¨ä¼šéå†è‡ªå·±çš„æ•°æ®é›†ï¼Œå°†æ‰€æœ‰æ•°æ®å‘é€ç»™ä»æœåŠ¡å™¨ã€‚</p><ul><li><p>ä¸»æœåŠ¡å™¨ä¼šåœ¨ä¸€ä¸ª RDB æ–‡ä»¶ä¸­ä¿å­˜å½“å‰æ•°æ®é›†çš„å¿«ç…§ï¼Œç„¶å<strong>å°†è¿™ä¸ª RDB æ–‡ä»¶å‘é€ç»™ä»æœåŠ¡å™¨</strong>ã€‚ä»æœåŠ¡å™¨æ¥æ”¶åˆ° RDB æ–‡ä»¶åï¼Œä¼šåŠ è½½è¿™ä¸ªæ–‡ä»¶ï¼Œå°†è‡ªå·±çš„æ•°æ®é›†æ›¿æ¢æˆä¸»æœåŠ¡å™¨çš„æ•°æ®é›†ã€‚</p></li><li><p>åœ¨ RDB æ–‡ä»¶ä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œä¸»æœåŠ¡å™¨ä¼šå°†åœ¨ä¼ è¾“æœŸé—´çš„å†™æ“ä½œè®°å½•ä¸‹æ¥ï¼Œç§°ä¸º<strong>å‘½ä»¤ä¼ æ’­</strong>ï¼ˆcommand propagationï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸»æœåŠ¡å™¨å°±èƒ½å¤Ÿåœ¨å‘é€å®Œ RDB æ–‡ä»¶åï¼Œå°†æœŸé—´çš„å†™æ“ä½œé‡æ–°å‘é€ç»™ä»æœåŠ¡å™¨ï¼Œä»¥ä¿è¯ä»æœåŠ¡å™¨çš„æ•°æ®é›†ä¸ä¸»æœåŠ¡å™¨ä¿æŒä¸€è‡´ã€‚</p></li></ul></li><li><p><strong>å¢é‡å¤åˆ¶ï¼š</strong> åœ¨å®Œæˆå…¨é‡å¤åˆ¶åï¼Œä¸»ä»æœåŠ¡å™¨ä¹‹é—´ä¼šä¿æŒä¸€ä¸ª TCP è¿æ¥ï¼Œä¸»æœåŠ¡å™¨ä¼šå°†è‡ªå·±çš„å†™æ“ä½œå‘é€ç»™ä»æœåŠ¡å™¨ï¼Œä»æœåŠ¡å™¨æ‰§è¡Œè¿™äº›å†™æ“ä½œï¼Œä»è€Œä¿æŒæ•°æ®ä¸€è‡´æ€§ã€‚å¢é‡å¤åˆ¶çš„æ•°æ®åŒæ­¥æ˜¯<strong>å¼‚æ­¥</strong>çš„ï¼Œä½†é€šè¿‡è®°å½•å†™æ“ä½œï¼Œä¸»ä»æœåŠ¡å™¨ä¹‹é—´çš„æ•°æ®æœ€ç»ˆä¼šè¾¾åˆ°ä¸€è‡´çŠ¶æ€ã€‚</p></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç¬¬ä¸€æ¬¡å…¨é‡å¤åˆ¶çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šæœ‰ä¸€äº›ç½‘ç»œæ•…éšœã€ä¸»ä»æœåŠ¡å™¨è´Ÿè½½ç­‰æƒ…å†µå½±å“åŒæ­¥ã€‚ä¸ºäº†æé«˜ç¨³å®šæ€§å’Œå®‰å…¨æ€§ï¼ŒRedis æä¾›äº†ä¸€äº›é…ç½®é€‰é¡¹å’Œæœºåˆ¶ï¼Œå¦‚æŒä¹…åŒ–ã€å¤åˆ¶åç§»é‡ã€ä¸»æœåŠ¡å™¨éªŒè¯ç­‰ï¼Œæ¥ç¡®ä¿ä¸»ä»å¤åˆ¶çš„æ­£å¸¸è¿›è¡Œã€‚<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-17/4716895377800.png" alt="ä¸»ä»åº“ç¬¬ä¸€æ¬¡åŒæ­¥çš„æµç¨‹"></p><h2 id="PSYNCå‘½ä»¤"><a href="#PSYNCå‘½ä»¤" class="headerlink" title="PSYNCå‘½ä»¤"></a>PSYNCå‘½ä»¤</h2><p>å½“ Redis ä¸»ä»å¤åˆ¶ä¸­çš„ä»æœåŠ¡å™¨ï¼ˆSlaveï¼‰éœ€è¦ä¸ä¸»æœåŠ¡å™¨ï¼ˆMasterï¼‰è¿›è¡Œæ•°æ®åŒæ­¥æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ PSYNCï¼ˆPartial SYNCï¼‰å‘½ä»¤ã€‚PSYNC å‘½ä»¤åœ¨ Redis 2.8 ç‰ˆæœ¬å¼•å…¥ï¼Œç”¨äºæé«˜æ•°æ®åŒæ­¥çš„æ•ˆç‡å’Œå¯é æ€§ã€‚</p><p>PSYNC å‘½ä»¤åŒ…æ‹¬ä¸¤ç§æ¨¡å¼ï¼šå®Œå…¨åŒæ­¥ï¼ˆFull Syncï¼‰å’Œéƒ¨åˆ†åŒæ­¥ï¼ˆPartial Syncï¼‰ã€‚</p><ol><li><p><strong>å®Œå…¨åŒæ­¥ï¼ˆFull Syncï¼‰ï¼š</strong><br>å®Œå…¨åŒæ­¥åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å‘ç”Ÿï¼š</p><ul><li>ä»æœåŠ¡å™¨åˆæ¬¡è¿æ¥ä¸»æœåŠ¡å™¨æ—¶ã€‚</li><li>ä»æœåŠ¡å™¨éœ€è¦è¿›è¡Œåˆæ¬¡åŒæ­¥ï¼Œæˆ–è€…å¤åˆ¶åç§»é‡ä¸ä¸»æœåŠ¡å™¨çš„åç§»é‡å·®è·è¾ƒå¤§æ—¶ã€‚</li><li>ä¸»æœåŠ¡å™¨æ²¡æœ‰ä¿å­˜ RDB å¿«ç…§æ–‡ä»¶ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œéƒ¨åˆ†åŒæ­¥ã€‚</li></ul><p>å®Œå…¨åŒæ­¥çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ä»æœåŠ¡å™¨å‘ä¸»æœåŠ¡å™¨å‘é€ä¸€æ¡ PSYNC å‘½ä»¤ï¼Œå¹¶é™„å¸¦ä¸Šè‡ªå·±çš„å¤åˆ¶ç§¯å‹ç¼“å†²åŒºçš„åç§»é‡ï¼ˆoffsetï¼‰å’Œ replidï¼ˆå¤åˆ¶ IDï¼‰ã€‚</li><li>ä¸»æœåŠ¡å™¨ä½¿ç”¨<code>bgsave</code>å‘½ä»¤ï¼Œç”ŸæˆRDBæ–‡ä»¶ï¼Œæ¥ç€å°†æ–‡ä»¶å‘ç»™ä»åº“ã€‚</li><li>ä»åº“æ¥æ”¶åˆ°RDBæ–‡ä»¶åï¼Œä¼šå…ˆæ¸…ç©ºå½“å‰æ•°æ®åº“ï¼Œç„¶ååŠ è½½RDBæ–‡ä»¶ã€‚</li></ul></li><li><p><strong>éƒ¨åˆ†åŒæ­¥ï¼ˆPartial Syncï¼‰ï¼š</strong><br>éƒ¨åˆ†åŒæ­¥åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å‘ç”Ÿï¼š</p><ul><li>ä»æœåŠ¡å™¨å·²ç»å¤åˆ¶äº†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¹¶ä¸”å¤åˆ¶åç§»é‡ä¸ä¸»æœåŠ¡å™¨çš„åç§»é‡å·®è·è¾ƒå°æ—¶ã€‚</li></ul><p>éƒ¨åˆ†åŒæ­¥çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ä¸»åº“å°†åç»­æ‰€æœ‰<strong>å†™æ“ä½œ</strong>è®°å½•åˆ°å†…å­˜ä¸­çš„replication bufferä¸­</li><li>ä»æœåŠ¡å™¨å‘ä¸»æœåŠ¡å™¨å‘é€ä¸€æ¡ PSYNC å‘½ä»¤ï¼Œå¹¶é™„å¸¦ä¸Šè‡ªå·±çš„å¤åˆ¶ç§¯å‹ç¼“å†²åŒºçš„åç§»é‡å’Œ replidã€‚</li><li>ä¸»åº“å°†æ‰€æœ‰ä¿å­˜çš„å†™æ“ä½œå‘é€ç»™ä»åº“ï¼Œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å½“RDBå‘é€å®Œæˆåï¼Œå°±ä¼šæŠŠæ­¤æ—¶replication bufferä¸­çš„ä¿®æ”¹å‘ç»™ä»åº“ï¼Œä»åº“å†é‡æ–°æ‰§è¡Œè¿™äº›æ“ä½œã€‚è¿™æ ·ä¸€æ¥ï¼Œä¸»ä»åº“å°±å®ç°åŒæ­¥äº†</li></ul></li></ol><p>PSYNC å‘½ä»¤çš„ç›®æ ‡æ˜¯åœ¨ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼Œå°½å¯èƒ½åœ°å‡å°‘æ•°æ®åŒæ­¥æ‰€éœ€çš„æ•°æ®ä¼ è¾“é‡ï¼Œä»è€Œæé«˜å¤åˆ¶æ•ˆç‡ã€‚å®Œå…¨åŒæ­¥å’Œéƒ¨åˆ†åŒæ­¥çš„é€‰æ‹©å–å†³äºä»æœåŠ¡å™¨ä¸ä¸»æœåŠ¡å™¨ä¹‹é—´çš„å¤åˆ¶çŠ¶æ€å’Œæ•°æ®å·®è·ã€‚</p><h1 id="ä¸»åº“çš„çƒ¦æ¼"><a href="#ä¸»åº“çš„çƒ¦æ¼" class="headerlink" title="ä¸»åº“çš„çƒ¦æ¼"></a>ä¸»åº“çš„çƒ¦æ¼</h1><p>è¿™é‡Œæˆ‘ä»¬èƒ½åˆ†æå¾—åˆ°ä¸»åº“åšå…¨é‡åŒæ­¥æ—¶çš„ä¸¤ä¸ªè€—æ—¶æ“ä½œï¼š</p><ol><li>ç”ŸæˆRDBæ–‡ä»¶</li><li>ä¼ è¾“RDBæ–‡ä»¶</li></ol><p>è¿™é‡Œè®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œå¦‚æœæ˜¯ä¸€ä¸»å¤šä»çš„æ¶æ„ï¼Œé‚£ä¹ˆä¸»èŠ‚ç‚¹å°±è¦ç”Ÿæˆå¤šä»½RDBå¹¶ä¼ è¾“ç»™ä»èŠ‚ç‚¹ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™ç§æ“ä½œæ˜¯éå¸¸è€—æ—¶çš„ã€‚è¿™é‡Œä¸»è¦å ç”¨ä¸¤å—èµ„æº</p><ol><li>é€šè¿‡forkå­è¿›ç¨‹ç”ŸæˆRDBå¿«ç…§ä¼š<strong>é˜»å¡ä¸»çº¿ç¨‹å¤„ç†è¯·æ±‚</strong></li><li>ä¼ è¾“RDBæ–‡ä»¶ä¼šå ç”¨<strong>ç½‘ç»œå¸¦å®½</strong></li></ol><p>é‚£ä¹ˆæœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥è§£å†³è¿™äº›é—®é¢˜å‘¢ï¼Ÿ<br>è¿™é‡Œå‘€ï¼Œæˆ‘ä»¬å°±å¼•å…¥äº†â€œä¸»-ä»-ä»â€æ¶æ„ï¼Œå¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯ä¸»åº“åªéœ€è¦åŒæ­¥ä¸€ä»½ç»™æŸä»åº“Aï¼Œå…¶ä»–ä»åº“ä»ä»åº“AåŒæ­¥æ•°æ®ã€‚</p><h1 id="å¦‚ä½•ç†è§£-ä¸»-ä»-ä»-æ¶æ„ï¼Ÿ"><a href="#å¦‚ä½•ç†è§£-ä¸»-ä»-ä»-æ¶æ„ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç†è§£ ä¸»-ä»-ä» æ¶æ„ï¼Ÿ"></a>å¦‚ä½•ç†è§£ ä¸»-ä»-ä» æ¶æ„ï¼Ÿ</h1><p>ä¸»ä»ï¼ˆMaster-Slaveï¼‰æ¶æ„æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®åº“å¤åˆ¶å’Œæ•°æ®å¤‡ä»½æ–¹æ¡ˆã€‚åœ¨è¿™ç§æ¶æ„ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªä¸»æ•°æ®åº“ï¼ˆä¸»æœåŠ¡å™¨ï¼‰å’Œä¸€ä¸ªæˆ–å¤šä¸ªä»æ•°æ®åº“ï¼ˆä»æœåŠ¡å™¨ï¼‰ï¼Œä¸»æ•°æ®åº“è´Ÿè´£å¤„ç†å†™æ“ä½œå’Œè¯»æ“ä½œï¼Œä»æ•°æ®åº“è´Ÿè´£å¤åˆ¶ä¸»æ•°æ®åº“çš„æ•°æ®ï¼Œä»¥æä¾›è¯»å–æ“ä½œå’Œå¤‡ä»½ã€‚</p><p>ä¸»ä»æ¶æ„çš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li><p><strong>ä¸»æ•°æ®åº“ï¼ˆä¸»æœåŠ¡å™¨ï¼‰ï¼š</strong></p><ul><li>ä¸»æ•°æ®åº“æ˜¯ç³»ç»Ÿçš„ä¸»è¦æ•°æ®åº“ï¼Œè´Ÿè´£å¤„ç†æ‰€æœ‰çš„å†™æ“ä½œï¼ˆæ•°æ®çš„æ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰å’Œéƒ¨åˆ†è¯»æ“ä½œã€‚</li><li>å½“ä¸»æ•°æ®åº“æ¥æ”¶åˆ°å†™æ“ä½œæ—¶ï¼Œä¼šå°†è¿™äº›å†™æ“ä½œè®°å½•åˆ°è‡ªå·±çš„æ—¥å¿—æ–‡ä»¶ï¼ˆä¾‹å¦‚ MySQL çš„äºŒè¿›åˆ¶æ—¥å¿—ï¼‰ä¸­ï¼Œå¹¶å‘é€ç»™ä»æ•°æ®åº“ã€‚</li><li>ä¸»æ•°æ®åº“ä¹Ÿä¼šä¿å­˜ä¸€ä¸ªå¤åˆ¶ç§¯å‹ç¼“å†²åŒºï¼ˆreplication backlog bufferï¼‰ï¼Œå…¶ä¸­å­˜å‚¨äº†ä¸€éƒ¨åˆ†çš„å†™æ“ä½œæ•°æ®ï¼Œç”¨äºæ»¡è¶³éƒ¨åˆ†åŒæ­¥å’Œæ–­çº¿é‡è¿çš„éœ€æ±‚ã€‚</li></ul></li><li><p><strong>ä»æ•°æ®åº“ï¼ˆä»æœåŠ¡å™¨ï¼‰ï¼š</strong></p><ul><li>ä»æ•°æ®åº“æ˜¯ä¸»æ•°æ®åº“çš„å¤åˆ¶å‰¯æœ¬ï¼Œè´Ÿè´£ä»ä¸»æ•°æ®åº“å¤åˆ¶æ•°æ®ä»¥ä¾›è¯»å–æ“ä½œå’Œå¤‡ä»½ã€‚</li><li>ä»æ•°æ®åº“ä¼šè¿æ¥åˆ°ä¸»æ•°æ®åº“ï¼Œå¹¶å‘é€å¤åˆ¶è¯·æ±‚ï¼ˆå¦‚ PSYNC å‘½ä»¤ï¼‰ä»¥è·å–ä¸»æ•°æ®åº“çš„æ•°æ®æ›´æ–°ã€‚</li><li>ä»æ•°æ®åº“ä¼šæŒç»­åœ°å¤åˆ¶ä¸»æ•°æ®åº“çš„å†™æ“ä½œï¼Œå°†å†™æ“ä½œåº”ç”¨åˆ°è‡ªå·±çš„æ•°æ®å‰¯æœ¬ä¸­ï¼Œä»¥ä¿æŒä¸ä¸»æ•°æ®åº“çš„æ•°æ®ä¸€è‡´æ€§ã€‚</li><li>ä»æ•°æ®åº“å¯ä»¥å¤„ç†è¯»å–è¯·æ±‚ï¼Œä»è€Œå‡è½»ä¸»æ•°æ®åº“çš„è¯»å–å‹åŠ›ã€‚</li></ul></li></ol><p>ä¸»ä»æ¶æ„çš„ä¼˜åŠ¿ï¼š</p><ul><li><strong>è´Ÿè½½å‡è¡¡ï¼š</strong> é€šè¿‡å°†è¯»æ“ä½œåˆ†å‘ç»™ä»æ•°æ®åº“ï¼Œå¯ä»¥åˆ†æ‹…ä¸»æ•°æ®åº“çš„è¯»å–å‹åŠ›ï¼Œæé«˜æ•´ä½“ç³»ç»Ÿçš„ååé‡ã€‚</li><li><strong>é«˜å¯ç”¨æ€§ï¼š</strong> å½“ä¸»æ•°æ®åº“å‡ºç°æ•…éšœæ—¶ï¼Œå¯ä»¥å°†å…¶ä¸­ä¸€ä¸ªä»æ•°æ®åº“æå‡ä¸ºæ–°çš„ä¸»æ•°æ®åº“ï¼Œä»è€Œå®ç°å¿«é€Ÿæ•…éšœåˆ‡æ¢ã€‚</li><li><strong>æ•°æ®å¤‡ä»½ï¼š</strong> ä»æ•°æ®åº“å¯ä»¥ä½œä¸ºä¸»æ•°æ®åº“çš„æ•°æ®å¤‡ä»½ï¼Œç”¨äºæ¢å¤æ•°æ®å’Œç¾éš¾æ¢å¤ã€‚</li><li><strong>æ•°æ®åˆ†æï¼š</strong> ä»æ•°æ®åº“å¯ä»¥ç”¨äºè¯»å–æ“ä½œï¼Œä»¥è¿›è¡Œæ•°æ®åˆ†æã€æŠ¥è¡¨ç”Ÿæˆç­‰å·¥ä½œï¼Œè€Œä¸å½±å“ä¸»æ•°æ®åº“çš„æ€§èƒ½ã€‚</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸»ä»æ¶æ„å¹¶ä¸æ˜¯å®Œå…¨å®æ—¶çš„ï¼Œå› ä¸ºä»æ•°æ®åº“éœ€è¦æ—¶é—´æ¥åŒæ­¥ä¸»æ•°æ®åº“çš„æ•°æ®æ›´æ–°ã€‚å› æ­¤ï¼Œåœ¨è€ƒè™‘ä½¿ç”¨ä¸»ä»æ¶æ„æ—¶ï¼Œéœ€è¦æƒè¡¡æ•°æ®ä¸€è‡´æ€§å’Œæ€§èƒ½ä¹‹é—´çš„éœ€æ±‚ã€‚<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-17/47798493312900.png" alt="çº§è”çš„â€œä¸»-ä»-ä»â€æ¨¡å¼"></p><h1 id="å¦‚ä½•é…ç½®ä¸»ä»ä»æ¶æ„å‘¢"><a href="#å¦‚ä½•é…ç½®ä¸»ä»ä»æ¶æ„å‘¢" class="headerlink" title="å¦‚ä½•é…ç½®ä¸»ä»ä»æ¶æ„å‘¢"></a>å¦‚ä½•é…ç½®ä¸»ä»ä»æ¶æ„å‘¢</h1><ol><li><p><strong>å®‰è£…å’Œé…ç½®ä¸»æœåŠ¡å™¨ï¼ˆMasterï¼‰ï¼š</strong></p><ul><li>å®‰è£…Redisä¸»æœåŠ¡å™¨å¹¶ç¡®ä¿ä¸»æœåŠ¡å™¨æ­£å¸¸è¿è¡Œã€‚</li><li>åœ¨ä¸»æœåŠ¡å™¨çš„é…ç½®æ–‡ä»¶ï¼ˆredis.confï¼‰ä¸­å¼€å¯æŒä¹…åŒ–ï¼ˆé€šå¸¸ä½¿ç”¨RDBå¿«ç…§æˆ–AOFæ—¥å¿—ï¼‰å’Œç›‘å¬ç«¯å£ï¼Œç¡®ä¿é…ç½®é¡¹å¦‚ä¸‹ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">port 6379</span><br><span class="line">save 900 1</span><br><span class="line">appendonly yes  # å¦‚æœä½¿ç”¨AOFæ—¥å¿—</span><br></pre></td></tr></table></figure></li><li>å¦‚æœéœ€è¦å¯¹å¤–æä¾›è®¿é—®ï¼Œç¡®ä¿é˜²ç«å¢™æˆ–ç½‘ç»œè®¾ç½®å…è®¸è®¿é—®ä¸»æœåŠ¡å™¨çš„6379ç«¯å£ã€‚</li></ul></li><li><p><strong>å®‰è£…å’Œé…ç½®ç¬¬ä¸€ä¸ªä»æœåŠ¡å™¨ï¼ˆSlave1ï¼‰ï¼š</strong></p><ul><li>åœ¨ä»æœåŠ¡å™¨1ä¸Šå®‰è£…Redisæ•°æ®åº“ã€‚</li><li>åœ¨ä»æœåŠ¡å™¨1çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸»ä»å…³ç³»ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç±»ä¼¼å¦‚ä¸‹çš„å†…å®¹ï¼Œå…¶ä¸­<code>masterauth</code>æ˜¯ä¸»æœåŠ¡å™¨çš„å¯†ç ï¼Œ<code>master</code>æ˜¯ä¸»æœåŠ¡å™¨çš„IPå’Œç«¯å£ï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">slaveof master_ip master_port</span><br><span class="line">masterauth your_master_password</span><br></pre></td></tr></table></figure></li><li>é‡å¯ä»æœåŠ¡å™¨1ä½¿é…ç½®ç”Ÿæ•ˆã€‚</li></ul></li><li><p><strong>å®‰è£…å’Œé…ç½®ç¬¬äºŒä¸ªä»æœåŠ¡å™¨ï¼ˆSlave2ï¼‰ï¼š</strong></p><ul><li>åœ¨ä»æœåŠ¡å™¨2ä¸Šå®‰è£…Redisæ•°æ®åº“ã€‚</li><li>åœ¨ä»æœåŠ¡å™¨2çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®ä¸»ä»å…³ç³»ï¼Œä¸ä»æœåŠ¡å™¨1ç›¸ä¼¼ã€‚ç¡®ä¿é…ç½®é¡¹ä¸å†²çªã€‚</li><li>é‡å¯ä»æœåŠ¡å™¨2ä½¿é…ç½®ç”Ÿæ•ˆã€‚</li></ul></li><li><p><strong>é‡å¯ä¸»æœåŠ¡å™¨ï¼š</strong></p><ul><li>åœ¨ä¸»æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹ä¸»æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œå¦‚IPå’Œç«¯å£ã€‚é€šå¸¸ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO server</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>æµ‹è¯•ä¸»ä»ä»æ¶æ„ï¼š</strong></p><ul><li>åœ¨ä¸»æœåŠ¡å™¨ä¸Šè¿›è¡Œå†™æ“ä½œï¼Œå¦‚æ’å…¥ã€æ›´æ–°æˆ–åˆ é™¤æ•°æ®ã€‚</li><li>æŸ¥çœ‹ä»æœåŠ¡å™¨1å’Œä»æœåŠ¡å™¨2æ˜¯å¦åŒæ­¥äº†ä¸»æœåŠ¡å™¨çš„æ•°æ®ã€‚</li></ul></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRedisçš„ä¸»ä»ä»æ¶æ„åœ¨éƒ¨ç½²å’Œé…ç½®ä¸Šä¸ä¸»ä»æ¶æ„ç±»ä¼¼ï¼Œåªæ˜¯éœ€è¦åœ¨ä»æœåŠ¡å™¨ä¸Šå†æ¬¡é…ç½®ä¸»ä»å…³ç³»ã€‚å¦å¤–ï¼ŒRedisè¿˜å¯ä»¥é…ç½®æ›´å¤šé«˜å¯ç”¨æ€§çš„åŠŸèƒ½ï¼Œå¦‚å“¨å…µï¼ˆSentinelï¼‰å’Œé›†ç¾¤ï¼ˆClusterï¼‰ï¼Œä»¥å®ç°æ›´å¼ºå¤§çš„æ¶æ„ã€‚å…·ä½“é…ç½®ç»†èŠ‚å¯èƒ½ä¼šå› ç‰ˆæœ¬å’Œéœ€æ±‚è€Œæœ‰æ‰€ä¸åŒï¼Œå»ºè®®å‚è€ƒå®˜æ–¹æ–‡æ¡£æˆ–ç›¸å…³èµ„æºè¿›è¡Œè¯¦ç»†äº†è§£å’Œé…ç½®ã€‚</p><h1 id="ä¸»ä»åº“é—´ç½‘ç»œæ–­äº†æ€ä¹ˆåŠï¼Ÿ"><a href="#ä¸»ä»åº“é—´ç½‘ç»œæ–­äº†æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="ä¸»ä»åº“é—´ç½‘ç»œæ–­äº†æ€ä¹ˆåŠï¼Ÿ"></a>ä¸»ä»åº“é—´ç½‘ç»œæ–­äº†æ€ä¹ˆåŠï¼Ÿ</h1><p>åœ¨ Redis 2.8 ä¹‹å‰ï¼Œå¦‚æœä¸»ä»åº“åœ¨å‘½ä»¤ä¼ æ’­æ—¶å‡ºç°äº†ç½‘ç»œé—ªæ–­ï¼Œé‚£ä¹ˆï¼Œä»åº“å°±ä¼šå’Œä¸»åº“é‡æ–°è¿›è¡Œä¸€æ¬¡å…¨é‡å¤åˆ¶ï¼Œå¼€é”€éå¸¸å¤§ã€‚</p><p>2.8ä¹‹åå‘¢æ˜¯æ”¯æŒå¢é‡åŒæ­¥çš„ï¼Œé‚£ä¹ˆRedisæ˜¯æ€ä¹ˆå®ç°å¢é‡åŒæ­¥çš„å‘¢ï¼Ÿ<br>å½“Redisä¸»ä»åº“ä¹‹é—´çš„ç½‘ç»œæ–­å¼€åï¼Œç½‘ç»œæ¢å¤æ—¶ä»åº“éœ€è¦è¿›è¡Œå¢é‡åŒæ­¥ï¼Œä»¥è·å–åœ¨ç½‘ç»œæ–­å¼€æœŸé—´ä¸»åº“ä¸­çš„æ›´æ–°æ•°æ®ã€‚Rediså®ç°å¢é‡åŒæ­¥çš„æ–¹å¼æ˜¯é€šè¿‡Rediså¤åˆ¶æœºåˆ¶ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li><p><strong>ä¿å­˜ä¸»æœåŠ¡å™¨çš„æ•°æ®ï¼š</strong> ä¸»æœåŠ¡å™¨ä¼šå°†æ›´æ–°çš„æ•°æ®å†™å…¥å†…å­˜ï¼Œå¹¶åœ¨å†…å­˜ä¸­ä¿å­˜ä¸€ä»½å‰¯æœ¬ã€‚åŒæ—¶ï¼Œä¸»æœåŠ¡å™¨ä¼šå°†æ›´æ–°çš„æ•°æ®å†™å…¥AOFï¼ˆAppend-Only Fileï¼‰æ—¥å¿—æ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨æ–­ç”µæˆ–å®•æœºæƒ…å†µä¸‹èƒ½å¤Ÿè¿›è¡Œæ•°æ®æ¢å¤ã€‚</p></li><li><p><strong>è®°å½•å¤åˆ¶åç§»é‡ï¼š</strong> åœ¨ä¸»æœåŠ¡å™¨çš„å¤åˆ¶è¿‡ç¨‹ä¸­ï¼Œä¸»æœåŠ¡å™¨ä¼šè®°å½•ä¸€ä¸ªå¤åˆ¶åç§»é‡ï¼ˆreplication offsetï¼‰ï¼Œè¡¨ç¤ºä»æœåŠ¡å™¨åœ¨ä¸»æœåŠ¡å™¨ä¸­çš„æ•°æ®ä½ç½®ã€‚è¿™ä¸ªåç§»é‡ä¼šéšç€æ•°æ®çš„æ›´æ–°è€Œé€’å¢ã€‚</p></li><li><p><strong>ç½‘ç»œæ¢å¤ï¼š</strong> å½“ç½‘ç»œæ¢å¤æ—¶ï¼Œä»æœåŠ¡å™¨ä¼šå°è¯•è¿æ¥ä¸»æœåŠ¡å™¨å¹¶è¯·æ±‚è¿›è¡Œå¤åˆ¶ã€‚</p></li><li><p><strong>å‘é€SYNCå‘½ä»¤ï¼š</strong> ä»æœåŠ¡å™¨ä¼šå‘é€SYNCå‘½ä»¤ç»™ä¸»æœåŠ¡å™¨ã€‚å¦‚æœæ˜¯åˆæ¬¡è¿æ¥å¤åˆ¶ï¼Œä»æœåŠ¡å™¨å‘é€çš„SYNCå‘½ä»¤ä¸­ä¸åŒ…å«ä»»ä½•å‚æ•°ã€‚å¦‚æœæ˜¯å¢é‡åŒæ­¥ï¼Œä»æœåŠ¡å™¨ä¼šå‘é€å¸¦æœ‰åç§»é‡å‚æ•°çš„SYNCå‘½ä»¤ã€‚</p></li><li><p><strong>å…¨é‡å¤åˆ¶æˆ–éƒ¨åˆ†å¤åˆ¶ï¼š</strong> æ ¹æ®æƒ…å†µï¼Œä¸»æœåŠ¡å™¨ä¼šæ‰§è¡Œå…¨é‡å¤åˆ¶æˆ–éƒ¨åˆ†å¤åˆ¶ï¼š</p><ul><li><strong>å…¨é‡å¤åˆ¶ï¼ˆåˆæ¬¡è¿æ¥ï¼‰ï¼š</strong> å¦‚æœæ˜¯åˆæ¬¡è¿æ¥å¤åˆ¶ï¼Œä¸»æœåŠ¡å™¨ä¼šæ‰§è¡Œå…¨é‡å¤åˆ¶ã€‚å®ƒä¼šåˆ›å»ºä¸€ä¸ªRDBå¿«ç…§ï¼ˆæ•°æ®åº“å¿«ç…§ï¼‰ï¼Œå°†æ•°æ®åº“ä¸­çš„æ•°æ®å¿«ç…§å‘é€ç»™ä»æœåŠ¡å™¨ã€‚è¿™æ ·ä»æœåŠ¡å™¨å°±èƒ½å¤Ÿæ‹¥æœ‰ä¸»æœåŠ¡å™¨çš„å®Œæ•´æ•°æ®é›†ã€‚</li><li><strong>éƒ¨åˆ†å¤åˆ¶ï¼ˆå¢é‡åŒæ­¥ï¼‰ï¼š</strong> å¦‚æœæ˜¯å¢é‡åŒæ­¥ï¼Œä¸»æœåŠ¡å™¨ä¼šä»è®°å½•çš„åç§»é‡å¤„å¼€å§‹ï¼Œå°†ä»åç§»é‡åçš„æ‰€æœ‰æ›´æ–°æ•°æ®å‘é€ç»™ä»æœåŠ¡å™¨ã€‚è¿™æ ·ä»æœåŠ¡å™¨å°±èƒ½å¤Ÿè·å–åœ¨æ–­å¼€ç½‘ç»œæœŸé—´ä¸»æœåŠ¡å™¨çš„æ›´æ–°æ•°æ®ã€‚</li></ul></li><li><p><strong>å¤åˆ¶æ•°æ®ä¼ è¾“ï¼š</strong> ä¸»æœåŠ¡å™¨ä¼šå°†å…¨é‡æ•°æ®æˆ–å¢é‡æ•°æ®é€šè¿‡ç½‘ç»œä¼ è¾“ç»™ä»æœåŠ¡å™¨ã€‚ä»æœåŠ¡å™¨ä¼šæ¥æ”¶å¹¶å¤„ç†è¿™äº›æ•°æ®ï¼Œæ›´æ–°è‡ªå·±çš„æ•°æ®é›†ã€‚</p></li><li><p><strong>å¤åˆ¶è¿‡ç¨‹ç»§ç»­ï¼š</strong> ä¸€æ—¦å¤åˆ¶æ•°æ®ä¼ è¾“å®Œæˆï¼Œä»æœåŠ¡å™¨ä¼šæŒç»­åœ°ä¸ä¸»æœåŠ¡å™¨ä¿æŒè¿æ¥ï¼Œæ¥æ”¶æ¥è‡ªä¸»æœåŠ¡å™¨çš„å¢é‡æ›´æ–°ã€‚è¿™æ ·ï¼Œä¸»ä»åº“ä¹‹é—´çš„æ•°æ®ä¿æŒåŒæ­¥ã€‚</p></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ç½‘ç»œæ–­å¼€æ—¶é—´è¾ƒé•¿æˆ–æ–­å¼€æœŸé—´æ•°æ®æ›´æ–°è¾ƒå¤§æ—¶ï¼Œå¢é‡åŒæ­¥å¯èƒ½ä¼šå¯¼è‡´ä»æœåŠ¡å™¨è½åäºä¸»æœåŠ¡å™¨ã€‚åœ¨ç½‘ç»œæ¢å¤åï¼Œä»æœåŠ¡å™¨éœ€è¦è¶³å¤Ÿçš„æ—¶é—´æ¥æ¥æ”¶å’Œå¤„ç†æ›´æ–°æ•°æ®ï¼Œä»¥ä¿æŒä¸ä¸»æœåŠ¡å™¨çš„æ•°æ®åŒæ­¥ã€‚<br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-17/48329170103300.png"></p><h1 id="ä¸€èˆ¬çš„æ’æŸ¥æµç¨‹"><a href="#ä¸€èˆ¬çš„æ’æŸ¥æµç¨‹" class="headerlink" title="ä¸€èˆ¬çš„æ’æŸ¥æµç¨‹"></a>ä¸€èˆ¬çš„æ’æŸ¥æµç¨‹</h1><ol><li><p><strong>æ£€æŸ¥ç½‘ç»œè¿æ¥é—®é¢˜ï¼š</strong> é¦–å…ˆï¼Œç¡®ä¿ç½‘ç»œè¿æ¥é—®é¢˜çš„ç¡®æ˜¯é€ æˆä¸»ä»åº“é€šä¿¡ä¸­æ–­çš„åŸå› ã€‚æ£€æŸ¥ç½‘ç»œé…ç½®ã€é˜²ç«å¢™è§„åˆ™ã€è·¯ç”±ç­‰è®¾ç½®ï¼Œç¡®ä¿ä¸»ä»åº“ä¹‹é—´å¯ä»¥äº’ç›¸è®¿é—®ã€‚</p></li><li><p><strong>é‡æ–°è¿æ¥ç½‘ç»œï¼š</strong> å¦‚æœç½‘ç»œé—®é¢˜æ˜¯æš‚æ—¶çš„ï¼Œä½ å¯ä»¥å°è¯•æ¢å¤ç½‘ç»œè¿æ¥ï¼Œè®©ä¸»ä»åº“ä¹‹é—´æ¢å¤é€šä¿¡ã€‚</p></li><li><p><strong>æ£€æŸ¥ä¸»ä»çŠ¶æ€ï¼š</strong> åœ¨ä¸»ä»åº“ç½‘ç»œè¿æ¥æ¢å¤åï¼Œä½¿ç”¨<code>INFO replication</code>å‘½ä»¤æ£€æŸ¥ä¸»ä»åº“çš„åŒæ­¥çŠ¶æ€ã€‚ç¡®ä¿ä¸»åº“å·²å°†æ•°æ®åŒæ­¥åˆ°ä»åº“ã€‚</p></li><li><p><strong>æ‰‹åŠ¨é‡æ–°åŒæ­¥ï¼š</strong> å¦‚æœä¸»ä»åº“ä¹‹é—´çš„ç½‘ç»œæ–­å¼€æ—¶é—´è¾ƒé•¿ï¼Œå¯ä»¥è€ƒè™‘è¿›è¡Œæ‰‹åŠ¨é‡æ–°åŒæ­¥ï¼š</p><ul><li>åœ¨ä»åº“ä¸Šï¼Œä½¿ç”¨<code>SLAVEOF NO ONE</code>å‘½ä»¤è§£é™¤ä»åº“çŠ¶æ€ã€‚</li><li>åœ¨ä»åº“ä¸Šï¼Œåˆ é™¤æŒä¹…åŒ–æ–‡ä»¶ï¼ˆRDBæ–‡ä»¶æˆ–AOFæ–‡ä»¶ï¼‰ã€‚</li><li>åœ¨ä»åº“ä¸Šï¼Œæ‰§è¡Œ<code>SLAVEOF master_ip master_port</code>å‘½ä»¤ï¼Œå°†å…¶é‡æ–°è®¾ç½®ä¸ºä¸»åº“çš„ä»åº“ã€‚</li><li>åœ¨ä¸»åº“ä¸Šï¼Œæ‰§è¡Œ<code>SLAVEOF NO ONE</code>å‘½ä»¤è§£é™¤ä¸»åº“çŠ¶æ€ã€‚</li><li>åœ¨ä¸»åº“ä¸Šï¼Œæ‰§è¡Œ<code>SLAVEOF slave_ip slave_port</code>å‘½ä»¤ï¼Œå°†å…¶é‡æ–°è®¾ç½®ä¸ºä»åº“çš„ä¸»åº“ã€‚</li></ul></li><li><p><strong>æ‰‹åŠ¨å¤åˆ¶æ•°æ®ï¼š</strong> å¦‚æœç½‘ç»œæ–­å¼€æ—¶é—´è¾ƒé•¿ä¸”é‡æ–°åŒæ­¥ä¸å¯è¡Œï¼Œä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨å¤åˆ¶æ•°æ®ã€‚åœ¨ä¸»åº“ä¸Šå¯¼å‡ºæ•°æ®ï¼Œå¹¶åœ¨ä»åº“ä¸Šå¯¼å…¥æ•°æ®ã€‚</p></li><li><p><strong>å¤‡ä»½å’Œæ¢å¤ï¼š</strong> å¦‚æœç½‘ç»œé—®é¢˜æ— æ³•è§£å†³ï¼Œä½ å¯èƒ½éœ€è¦åœ¨ç½‘ç»œæ¢å¤åè€ƒè™‘ä»ä¸»åº“é‡æ–°å¤‡ä»½æ•°æ®ï¼Œç„¶ååœ¨ä»åº“ä¸Šè¿›è¡Œæ•°æ®æ¢å¤ã€‚</p></li></ol><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>æ–‡ç« ä¸­ä»‹ç»äº†Redisä¸»ä»åº“æ¶æ„ä»¥åŠå¦‚ä½•é…ç½®ã€ç»´æŠ¤å’Œè§£å†³ä¸»ä»åº“ç½‘ç»œæ–­å¼€çš„é—®é¢˜ã€‚ä»¥ä¸‹æ˜¯æ–‡ç« ä¸­æ¶‰åŠåˆ°çš„ä¸»è¦å†…å®¹ï¼š</p><ol><li><p><strong>Redisä¸»ä»åº“æ¶æ„åŠå…¶ä¿è¯çš„é«˜å¯é æ€§ï¼š</strong></p><ul><li>Redisä¸»ä»åº“çš„ç›®çš„æ˜¯å®ç°é«˜å¯é æ€§ï¼Œé€šè¿‡æ•°æ®æŒä¹…åŒ–ã€ä¸»ä»å¤åˆ¶ã€Sentinelå“¨å…µå’ŒClusteré›†ç¾¤ç­‰æ–¹å¼æ¥ä¿éšœæ•°æ®çš„å®‰å…¨æ€§å’Œå¯ç”¨æ€§ã€‚</li></ul></li><li><p><strong>å¦‚ä½•ä¿è¯å‰¯æœ¬æ•°æ®ä¸€è‡´ï¼š</strong></p><ul><li>Redisé€šè¿‡å…¨é‡å¤åˆ¶å’Œéƒ¨åˆ†å¤åˆ¶ï¼ˆå¢é‡åŒæ­¥ï¼‰æ¥ä¿è¯ä¸»ä»åº“ä¹‹é—´çš„æ•°æ®ä¸€è‡´æ€§ã€‚å¤åˆ¶åç§»é‡å’Œå¤åˆ¶ç§¯å‹ç¼“å†²åŒºç­‰æœºåˆ¶ç”¨äºè®°å½•å’Œä¼ è¾“æ•°æ®ã€‚</li></ul></li><li><p><strong>ä¸»ä»åº“ç¬¬ä¸€æ¬¡åŒæ­¥çš„è¿‡ç¨‹ï¼š</strong></p><ul><li>ä¸»ä»åº“ä¹‹é—´çš„ç¬¬ä¸€æ¬¡åŒæ­¥æ¶‰åŠä¸»æœåŠ¡å™¨åˆ›å»ºRDBå¿«ç…§ï¼Œå‘é€ç»™ä»æœåŠ¡å™¨ï¼Œä»¥åŠè®°å½•æœŸé—´çš„å†™æ“ä½œè¿›è¡Œå‘½ä»¤ä¼ æ’­ã€‚</li></ul></li><li><p><strong>PSYNCå‘½ä»¤å’Œå¢é‡åŒæ­¥ï¼š</strong></p><ul><li>PSYNCå‘½ä»¤ç”¨äºä¸»ä»åº“ç½‘ç»œæ–­å¼€åçš„å¢é‡åŒæ­¥ã€‚å®Œå…¨åŒæ­¥ç”¨äºåˆæ¬¡è¿æ¥ï¼Œéƒ¨åˆ†åŒæ­¥ç”¨äºå¢é‡åŒæ­¥ï¼Œä»è€Œå‡å°‘æ•°æ®ä¼ è¾“é‡ã€‚</li></ul></li><li><p><strong>ä¸»ä»ä»æ¶æ„åŠå…¶ä¼˜åŠ¿ï¼š</strong></p><ul><li>ä¸»ä»ä»æ¶æ„æ˜¯åœ¨ä¸»ä»æ¶æ„åŸºç¡€ä¸Šçš„æ‰©å±•ï¼Œé€šè¿‡çº§è”çš„æ–¹å¼å‡è½»ä¸»æœåŠ¡å™¨çš„å¤åˆ¶å‹åŠ›ï¼Œå®ç°æ›´é«˜çš„å¯ç”¨æ€§å’Œè´Ÿè½½å‡è¡¡ã€‚</li></ul></li><li><p><strong>é…ç½®ä¸»ä»ä»æ¶æ„çš„æ­¥éª¤ï¼š</strong></p><ul><li>å®‰è£…å’Œé…ç½®ä¸»æœåŠ¡å™¨ï¼Œä»æœåŠ¡å™¨1å’Œä»æœåŠ¡å™¨2ã€‚</li><li>é‡å¯ä¸»æœåŠ¡å™¨ï¼ŒæŸ¥çœ‹ä¸»æœåŠ¡å™¨ä¿¡æ¯ã€‚</li><li>è¿›è¡Œæµ‹è¯•ï¼ŒéªŒè¯ä¸»ä»åº“ä¹‹é—´æ˜¯å¦åŒæ­¥ã€‚</li></ul></li><li><p><strong>è§£å†³ä¸»ä»åº“é—´ç½‘ç»œæ–­å¼€é—®é¢˜ï¼š</strong></p><ul><li>æ£€æŸ¥ç½‘ç»œè¿æ¥é—®é¢˜ï¼Œç¡®ä¿ä¸»ä»åº“ä¹‹é—´å¯ä»¥äº’ç›¸è®¿é—®ã€‚</li><li>é‡æ–°è¿æ¥ç½‘ç»œï¼Œæ¢å¤é€šä¿¡ã€‚</li><li>æ£€æŸ¥ä¸»ä»çŠ¶æ€ï¼Œç¡®ä¿åŒæ­¥ã€‚</li><li>æ‰‹åŠ¨é‡æ–°åŒæ­¥ï¼Œå°è¯•æ¢å¤æ•°æ®ä¸€è‡´æ€§ã€‚</li><li>æ‰‹åŠ¨å¤åˆ¶æ•°æ®æˆ–å¤‡ä»½æ¢å¤æ•°æ®ã€‚ï¿½ï¿½æˆ–å¤‡ä»½æ¢å¤æ•°æ®ã€‚</li></ul></li></ol></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
            <tag> ä¸»ä»åŒæ­¥ </tag>
            
            <tag> æ•°æ®æŒä¹…åŒ– </tag>
            
            <tag> ä¸»ä»å¤åˆ¶ </tag>
            
            <tag> sentinelå“¨å…µ </tag>
            
            <tag> clusteré›†ç¾¤ </tag>
            
            <tag> è¯»å†™åˆ†ç¦» </tag>
            
            <tag> psyncå‘½ä»¤ </tag>
            
            <tag> å¢é‡åŒæ­¥ </tag>
            
            <tag> ä¸»ä»ä»æ¶æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€é”®å…è´¹éƒ¨ç½²è‡ªå·±çš„GPTç½‘ç«™ï¼ˆæ— éœ€æœåŠ¡å™¨ï¼‰</title>
      <link href="/43450002.html"/>
      <url>/43450002.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="é¦–å‘åšå®¢åœ°å€"><a href="#é¦–å‘åšå®¢åœ°å€" class="headerlink" title="é¦–å‘åšå®¢åœ°å€"></a>é¦–å‘åšå®¢åœ°å€</h1><p><a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><h1 id="å…ˆçœ‹çœ‹æ•ˆæœ"><a href="#å…ˆçœ‹çœ‹æ•ˆæœ" class="headerlink" title="å…ˆçœ‹çœ‹æ•ˆæœ"></a>å…ˆçœ‹çœ‹æ•ˆæœ</h1><p><a href="https://chat-gpt-next-web2-xi-three.vercel.app/">https://chat-gpt-next-web2-xi-three.vercel.app</a></p><p>ä¸ºå•¥æ¨èè¿™ä¸ªå‘¢ï¼Œå…¶å®å¸‚é¢ä¸Šå·²ç»æœ‰å¾ˆå¤šäº†ï¼Œè¿™ä¸ªä¸»è¦æ˜¯UIè›®æ¼‚äº®çš„ï¼Œå˜¿å˜¿ï¼<br>ä½ è¦æ˜¯ç®€å•æƒ³å¼„çš„è¯ï¼ŒCSDNå°±èƒ½å…è´¹æ­å»ºä¸€ä¸ªï¼Œè¿™ä¸ªå°±è‡ªè¡Œç™¾åº¦å§ï¼Œè¿˜æ˜¯å¾ˆç®€å•çš„ã€‚</p><h2 id="è‡ªå®šä¹‰è§’è‰²"><a href="#è‡ªå®šä¹‰è§’è‰²" class="headerlink" title="è‡ªå®šä¹‰è§’è‰²"></a>è‡ªå®šä¹‰è§’è‰²</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/20230815144403.png"></p><h2 id="è¯¦ç»†çš„é…ç½®"><a href="#è¯¦ç»†çš„é…ç½®" class="headerlink" title="è¯¦ç»†çš„é…ç½®"></a>è¯¦ç»†çš„é…ç½®</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/20230815144647.png"><br><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/20230815144706.png"><br><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/20230815144724.png"></p><h1 id="Forké¡¹ç›®"><a href="#Forké¡¹ç›®" class="headerlink" title="Forké¡¹ç›®"></a>Forké¡¹ç›®</h1><p><a href="https://github.com/zysicyj/ChatGPT-Next-Web2">https://github.com/zysicyj/ChatGPT-Next-Web2</a></p><h1 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h1><p>æ‰“å¼€é“¾æ¥ï¼š<br><a href="https://vercel.com/new/clone?repository-url=https://github.com/Yidadaa/ChatGPT-Next-Web&env=OPENAI_API_KEY&env=CODE&project-name=chatgpt-next-web&repository-name=ChatGPT-Next-Web">https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2FYidadaa%2FChatGPT-Next-Web&amp;env=OPENAI_API_KEY&amp;env=CODE&amp;project-name=chatgpt-next-web&amp;repository-name=ChatGPT-Next-Web</a></p><p>æ³¨å†Œåï¼Œå¡«å†™è¿™ä¸ª<br><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/20230815145222.png"></p><p>ç‚¹å‡»éƒ¨ç½²å³å¯22.png)</p><p>ç‚¹å‡»éƒ¨ç½²å³å¯</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä¸€é”®éƒ¨ç½² </tag>
            
            <tag> gptç½‘ç«™ </tag>
            
            <tag> æ— éœ€æœåŠ¡å™¨ </tag>
            
            <tag> uiæ¼‚äº® </tag>
            
            <tag> è‡ªå®šä¹‰è§’è‰² </tag>
            
            <tag> é…ç½®è¯¦ç»† </tag>
            
            <tag> forké¡¹ç›® </tag>
            
            <tag> éƒ¨ç½² </tag>
            
            <tag> æ³¨å†Œ </tag>
            
            <tag> å¡«å†™ä¿¡æ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³å›½å†…IDEA AIæ— æ³•è¿æ¥é—®é¢˜</title>
      <link href="/5d77a2ac.html"/>
      <url>/5d77a2ac.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="ä»€ä¹ˆæ˜¯Clashçš„TUNæ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯Clashçš„TUNæ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯Clashçš„TUNæ¨¡å¼"></a>ä»€ä¹ˆæ˜¯Clashçš„TUNæ¨¡å¼</h1><p>Clashçš„TUNæ¨¡å¼æ˜¯ä¸€ç§ç½‘ç»œä»£ç†æ¨¡å¼ï¼Œå®ƒå…è®¸å°†ç½‘ç»œæµé‡é€šè¿‡è™šæ‹Ÿç½‘ç»œæ¥å£è¿›è¡Œè½¬å‘å’Œå¤„ç†ã€‚TUNï¼ˆå…¨ç§°ä¸ºâ€network TUNnelâ€ï¼‰æ˜¯ä¸€ç§åœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­åˆ›å»ºè™šæ‹Ÿç½‘ç»œæ¥å£çš„æŠ€æœ¯ã€‚</p><p>ä½¿ç”¨Clashçš„TUNæ¨¡å¼ï¼Œä½ å¯ä»¥é…ç½®Clashä½œä¸ºä¸€ä¸ªVPNå®¢æˆ·ç«¯ï¼Œå°†æ‰€æœ‰çš„ç½‘ç»œæµé‡é€šè¿‡TUNæ¥å£è¿›è¡Œè½¬å‘ã€‚è¿™æ ·ï¼Œä½ å¯ä»¥å®ç°åœ¨åº”ç”¨å±‚é¢ä¸Šå¯¹ç½‘ç»œæµé‡è¿›è¡Œä»£ç†å’Œè¿‡æ»¤ï¼Œä»è€Œå®ç°ç½‘ç»œè®¿é—®çš„è‡ªç”±å’Œå®‰å…¨ã€‚</p><p>TUNæ¨¡å¼çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p><ol><li>Clashä¼šåœ¨æ“ä½œç³»ç»Ÿå†…æ ¸ä¸­åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç½‘ç»œæ¥å£ï¼Œæ¯”å¦‚tun0ã€‚</li><li>ä½ å¯ä»¥å°†tun0æ¥å£é…ç½®ä¸ºç³»ç»Ÿçš„é»˜è®¤ç½‘å…³ï¼Œä½¿æ‰€æœ‰çš„ç½‘ç»œæµé‡éƒ½é€šè¿‡è¯¥æ¥å£å‘é€ã€‚</li><li>Clashä¼šç›‘å¬tun0æ¥å£ä¸Šçš„ç½‘ç»œæµé‡ï¼Œå¹¶æ ¹æ®ä½ çš„é…ç½®å¯¹æµé‡è¿›è¡Œå¤„ç†ï¼Œæ¯”å¦‚æ‰§è¡Œä»£ç†ã€è¿‡æ»¤æˆ–å…¶ä»–æ“ä½œã€‚</li><li>å¤„ç†åçš„æµé‡ä¼šè¢«å‘é€åˆ°ç›®æ ‡æœåŠ¡å™¨æˆ–è€…ä»£ç†æœåŠ¡å™¨ä¸Šï¼Œç„¶åè¿”å›å“åº”ç»™åº”ç”¨ç¨‹åºã€‚</li></ol><p>æ€»ç»“èµ·æ¥ï¼ŒClashçš„TUNæ¨¡å¼æä¾›äº†ä¸€ç§åœ¨åº”ç”¨å±‚é¢å¯¹ç½‘ç»œæµé‡è¿›è¡Œæ§åˆ¶å’Œå¤„ç†çš„æ–¹å¼ï¼Œä½¿ä½ èƒ½å¤Ÿè‡ªç”±åœ°é…ç½®ã€ä»£ç†å’Œè¿‡æ»¤ç½‘ç»œè®¿é—®ã€‚è¿™å¯¹äºå®ç°ä¸ªäººéšç§ä¿æŠ¤å’Œè®¿é—®å—é™å†…å®¹éå¸¸æœ‰ç”¨ã€‚</p><p>è¿™é‡Œå‘¢ï¼Œæˆ‘ä»¬æ‰“å¼€Clashçš„TUNæ¨¡å¼å³å¯</p><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://docs.cfw.lbyczf.com/contents/tun.html">https://docs.cfw.lbyczf.com/contents/tun.html</a></p><h1 id="ä¸‹é¢ç®€å•è¯´è¯´æ€ä¹ˆæ“ä½œï¼Œæ€»å…±å‘¢å°±ä¸¤æ­¥"><a href="#ä¸‹é¢ç®€å•è¯´è¯´æ€ä¹ˆæ“ä½œï¼Œæ€»å…±å‘¢å°±ä¸¤æ­¥" class="headerlink" title="ä¸‹é¢ç®€å•è¯´è¯´æ€ä¹ˆæ“ä½œï¼Œæ€»å…±å‘¢å°±ä¸¤æ­¥"></a>ä¸‹é¢ç®€å•è¯´è¯´æ€ä¹ˆæ“ä½œï¼Œæ€»å…±å‘¢å°±ä¸¤æ­¥</h1><h2 id="ç¬¬ä¸€æ­¥-ç‚¹å‡»è¯¥å›¾æ ‡ç­‰å¾…å˜ç»¿"><a href="#ç¬¬ä¸€æ­¥-ç‚¹å‡»è¯¥å›¾æ ‡ç­‰å¾…å˜ç»¿" class="headerlink" title="ç¬¬ä¸€æ­¥,ç‚¹å‡»è¯¥å›¾æ ‡ç­‰å¾…å˜ç»¿"></a>ç¬¬ä¸€æ­¥,ç‚¹å‡»è¯¥å›¾æ ‡ç­‰å¾…å˜ç»¿</h2><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-16/5716146543700.png"><br><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-16/5797233508100.png"></p><h2 id="å‹¾é€‰TUNæ¨¡å¼å³å¯"><a href="#å‹¾é€‰TUNæ¨¡å¼å³å¯" class="headerlink" title="å‹¾é€‰TUNæ¨¡å¼å³å¯"></a>å‹¾é€‰TUNæ¨¡å¼å³å¯</h2><p><img src="http://blog-1253652709.cos.ap-guangzhou.myqcloud.com/pasteimageintomarkdown/2023-08-16/5827036314100.png">23-08-16&#x2F;5827036314100.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> BUG </category>
          
      </categories>
      
      
        <tags>
            
            <tag> clash </tag>
            
            <tag> tunæ¨¡å¼ </tag>
            
            <tag> ç½‘ç»œä»£ç† </tag>
            
            <tag> åº”ç”¨å±‚é¢ </tag>
            
            <tag> vpnå®¢æˆ·ç«¯ </tag>
            
            <tag> ç½‘ç»œæµé‡ </tag>
            
            <tag> è‡ªç”±å’Œå®‰å…¨ </tag>
            
            <tag> é…ç½® </tag>
            
            <tag> ä»£ç†æœåŠ¡å™¨ </tag>
            
            <tag> éšç§ä¿æŠ¤ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è„šæœ¬ä¸€é”®ç”Ÿæˆé€šç”¨æ¥å£ï¼Œä¸€åˆ†é’Ÿå®ç°å¢åˆ æ”¹æŸ¥</title>
      <link href="/8bb51d72.html"/>
      <url>/8bb51d72.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><p>ç›´æ¥ä½¿ç”¨æ— éœ€çœ‹æ­¤é…ç½®</p><p>å¿«é€Ÿç”Ÿæˆé€šç”¨æ¥å£ä¸šåŠ¡é…ç½® ï¼š <a href="https://blog.zysicyj.top/ba6838a7">https://blog.zysicyj.top/ba6838a7</a></p><h2 id="ä¸€ã€æ’ä»¶å®‰è£…"><a href="#ä¸€ã€æ’ä»¶å®‰è£…" class="headerlink" title="ä¸€ã€æ’ä»¶å®‰è£…"></a>ä¸€ã€æ’ä»¶å®‰è£…</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142150759.png"></p><h2 id="äºŒã€è„šæœ¬"><a href="#äºŒã€è„šæœ¬" class="headerlink" title="äºŒã€è„šæœ¬"></a>äºŒã€è„šæœ¬</h2><p>å…³æ³¨ç»¿è‰²èŠå¤©è½¯ä»¶ã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘å›å¤ï¼š1013 ä¸‹è½½</p><h2 id="ä¸‰ã€ä½¿ç”¨"><a href="#ä¸‰ã€ä½¿ç”¨" class="headerlink" title="ä¸‰ã€ä½¿ç”¨"></a>ä¸‰ã€ä½¿ç”¨</h2><h3 id="æ‹·è´åˆ°æ‰©å±•ç›®å½•ä¸‹"><a href="#æ‹·è´åˆ°æ‰©å±•ç›®å½•ä¸‹" class="headerlink" title="æ‹·è´åˆ°æ‰©å±•ç›®å½•ä¸‹"></a>æ‹·è´åˆ°æ‰©å±•ç›®å½•ä¸‹</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142151774.png"></p><h3 id="ä¿®æ”¹mybatisCodehelper-vm"><a href="#ä¿®æ”¹mybatisCodehelper-vm" class="headerlink" title="ä¿®æ”¹mybatisCodehelper.vm"></a>ä¿®æ”¹mybatisCodehelper.vm</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142151263.png"></p><h3 id="ä¿®æ”¹init-vm"><a href="#ä¿®æ”¹init-vm" class="headerlink" title="ä¿®æ”¹init.vm"></a>ä¿®æ”¹init.vm</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142151447.png"></p><h3 id="å³é”®ä½¿ç”¨æ’ä»¶ç”Ÿæˆ"><a href="#å³é”®ä½¿ç”¨æ’ä»¶ç”Ÿæˆ" class="headerlink" title="å³é”®ä½¿ç”¨æ’ä»¶ç”Ÿæˆ"></a>å³é”®ä½¿ç”¨æ’ä»¶ç”Ÿæˆ</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142151908.png"></p><h3 id="è¿™æ ·é…ç½®å¹¶ç¡®å®š"><a href="#è¿™æ ·é…ç½®å¹¶ç¡®å®š" class="headerlink" title="è¿™æ ·é…ç½®å¹¶ç¡®å®š"></a>è¿™æ ·é…ç½®å¹¶ç¡®å®š</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142151286.png">&#x2F;blog&#x2F;202308142151286.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> springboot </tag>
            
            <tag> é€šç”¨æ¥å£ </tag>
            
            <tag> è„šæœ¬ </tag>
            
            <tag> æ’ä»¶å®‰è£… </tag>
            
            <tag> æ‰©å±•ç›®å½• </tag>
            
            <tag> mybatiscodehelper.vm </tag>
            
            <tag> init.vm </tag>
            
            <tag> å³é”®ä½¿ç”¨æ’ä»¶ç”Ÿæˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¿«é€Ÿç”Ÿæˆé€šç”¨æ¥å£ä¸šåŠ¡é…ç½®</title>
      <link href="/ba6838a7.html"/>
      <url>/ba6838a7.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h2 id="è¿™ä¸ªæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"><a href="#è¿™ä¸ªæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ" class="headerlink" title="è¿™ä¸ªæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ"></a>è¿™ä¸ªæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿ</h2><p>ç®€å•ä»‹ç»ä¸‹ï¼š</p><p>ä½œç”¨ï¼šé€šè¿‡æ’ä»¶ä¸€é”®ç”ŸæˆæŸä¸ªè¡¨å¯¹åº”çš„å¢åˆ æ”¹æŸ¥ç­‰åŸºç¡€æˆ–è€…è¯´é€šç”¨æ¥å£ï¼Œè¿™é‡Œé¢çš„ä»£ç æ˜¯åŸºç¡€ç‰ˆçš„ï¼Œåç»­æ”¹è‰¯åï¼Œå¾ˆå¤šä¸šåŠ¡çš„é€šç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚æµç¨‹çš„å¯åŠ¨ï¼Œè‡ªåŠ¨ä¸‹ä¸€æ­¥ï¼Œé€šç”¨å¯¼å‡ºï¼Œé€šç”¨å¯¼å…¥ç­‰ç­‰ã€‚</p><p>åŸç†ï¼šæ ¸å¿ƒå°±æ˜¯<code>BasicControllerPostProcessor </code>ï¼Œé€šè¿‡åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œå®Œæˆé€»è¾‘å®ç°ã€‚è¿™é‡Œå‘¢ç»è¿‡å®è·µå‘¢åç»­ä¹Ÿæœ‰ä¸å°‘ä¼˜åŒ–çš„ï¼Œåç»­æˆ‘æ€»ç»“åå‘ä¸€ä¸ªæ–°ç‰ˆçš„</p><h2 id="ä¸€ã€æ ¸å¿ƒå¤„ç†ç±»"><a href="#ä¸€ã€æ ¸å¿ƒå¤„ç†ç±»" class="headerlink" title="ä¸€ã€æ ¸å¿ƒå¤„ç†ç±»"></a>ä¸€ã€æ ¸å¿ƒå¤„ç†ç±»</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.handler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.collection.ListUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.date.DateUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.date.TimeInterval;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.CommonAnnotationBeanPostProcessor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.Ordered;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.annotation.Order;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŠ¨æ€åŠ è½½baseMapperï¼ŒbaseDaoï¼ŒbaseService</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:njpkhuan@gmail.com&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2021/3/2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Order(Ordered.HIGHEST_PRECEDENCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BasicControllerPostProcessor</span> <span class="keyword">extends</span> <span class="title class_">CommonAnnotationBeanPostProcessor</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> -<span class="number">945664767382485314L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;NullableProblems&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">postProcessBeforeInstantiation</span><span class="params">(Class&lt;?&gt; beanClass, String beanName)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">packageName</span> <span class="operator">=</span> beanClass.getPackage().getName();</span><br><span class="line">        log.trace(<span class="string">&quot;beanName---&#123;&#125;,packageName:&#123;&#125;&quot;</span>, beanName, packageName);</span><br><span class="line">        List&lt;String&gt; per = ListUtil.of(<span class="string">&quot;com.nari.supervision.daily&quot;</span>);</span><br><span class="line">        List&lt;String&gt; tail = ListUtil.of(<span class="string">&quot;outbound&quot;</span>,<span class="string">&quot;personal&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (per.stream().anyMatch(packageName::contains)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (tail.stream().map(v -&gt; v + <span class="string">&quot;.controller&quot;</span>).anyMatch(packageName::contains)) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    updateResourceName(beanClass, beanName, <span class="string">&quot;basicService&quot;</span>, <span class="string">&quot;Controller&quot;</span>, <span class="string">&quot;Service&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tail.stream().map(v -&gt; v + <span class="string">&quot;.service&quot;</span>).anyMatch(packageName::contains)) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    updateResourceName(beanClass, beanName, <span class="string">&quot;basicMapper&quot;</span>, <span class="string">&quot;Service&quot;</span>, <span class="string">&quot;TransformImpl&quot;</span>);</span><br><span class="line">                    updateResourceName(beanClass, beanName, <span class="string">&quot;basicDao&quot;</span>, <span class="string">&quot;Service&quot;</span>, <span class="string">&quot;Mapper&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (tail.stream().map(v -&gt; v + <span class="string">&quot;serviceImpl&quot;</span>).anyMatch(packageName::contains)) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    updateResourceName(beanClass, beanName, <span class="string">&quot;basicMapper&quot;</span>, <span class="string">&quot;Service&quot;</span>, <span class="string">&quot;TransformImpl&quot;</span>);</span><br><span class="line">                    updateResourceName(beanClass, beanName, <span class="string">&quot;basicDao&quot;</span>, <span class="string">&quot;Service&quot;</span>, <span class="string">&quot;Mapper&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">updateResourceName</span><span class="params">(Class&lt;?&gt; beanClass, String beanName, String destField, String searchString, String replaceString)</span></span><br><span class="line">            <span class="keyword">throws</span> NoSuchFieldException, IllegalAccessException &#123;</span><br><span class="line">        <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> beanClass.getSuperclass().getDeclaredField(destField);</span><br><span class="line">        <span class="type">Resource</span> <span class="variable">basicMapper</span> <span class="operator">=</span> field.getAnnotation(Resource.class);</span><br><span class="line">        <span class="type">InvocationHandler</span> <span class="variable">invocationHandler</span> <span class="operator">=</span> Proxy.getInvocationHandler(basicMapper);</span><br><span class="line">        <span class="type">Field</span> <span class="variable">memberValues</span> <span class="operator">=</span> invocationHandler.getClass().getDeclaredField(<span class="string">&quot;memberValues&quot;</span>);</span><br><span class="line">        memberValues.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">//noinspection unchecked</span></span><br><span class="line">        Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) memberValues.get(invocationHandler);</span><br><span class="line">        map.put(<span class="string">&quot;name&quot;</span>, StringUtils.replace(beanName, searchString, replaceString));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="äºŒã€åŸºç¡€ç±»"><a href="#äºŒã€åŸºç¡€ç±»" class="headerlink" title="äºŒã€åŸºç¡€ç±»"></a>äºŒã€åŸºç¡€ç±»</h2><h3 id="BasicController"><a href="#BasicController" class="headerlink" title="BasicController"></a>BasicController</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.basic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nari.core.annotation.OperationLog;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.groups.basic.InsertGroup;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.groups.basic.UpdateGroup;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.groups.query.PageQueryGroup;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.ApiResult;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.BaseParam;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.PageResult;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiOperation;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiSort;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.validation.annotation.Validated;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.validation.Valid;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŸºç¡€æ¥å£ç®¡ç†</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:njpkhuan@gmail.com&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Valid</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BasicController</span>&lt;T <span class="keyword">extends</span> <span class="title class_">BasicModel</span>, Q <span class="keyword">extends</span> <span class="title class_">BaseParam</span>, V, D, M <span class="keyword">extends</span> <span class="title class_">BasicMapper</span>&lt;T, Q, D, V&gt;&gt; <span class="keyword">extends</span> <span class="title class_">com</span>.nari.core.web.BaseController &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> BasicService&lt;T, Q, V, D, M&gt; basicService;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ </span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> query &#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;1.1 æ·»åŠ &quot;)</span></span><br><span class="line">    <span class="meta">@OperationLog(value = &quot;æ·»åŠ &quot;)</span></span><br><span class="line">    <span class="meta">@Validated(value = InsertGroup.class)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult <span class="title function_">insert</span><span class="params">(<span class="meta">@RequestBody</span> Q query)</span> &#123;</span><br><span class="line">        basicService.insert(query);</span><br><span class="line">        <span class="keyword">return</span> success(<span class="string">&quot;æ·»åŠ æˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®idåˆ é™¤</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id ä¸»é”®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;1.2 æ ¹æ®idåˆ é™¤&quot;)</span></span><br><span class="line">    <span class="meta">@OperationLog(value = &quot;æ ¹æ®idåˆ é™¤&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult <span class="title function_">del</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String id)</span> &#123;</span><br><span class="line">        basicService.del(id);</span><br><span class="line">        <span class="keyword">return</span> success(<span class="string">&quot;åˆ é™¤æˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®idåˆ é™¤-è½¯åˆ é™¤ï¼Œå®é™…ä¿®æ”¹æ ‡è¯†ç¬¦</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id ä¸»é”®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;/weak&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;1.3 æ ¹æ®idåˆ é™¤-è½¯åˆ é™¤ï¼Œå®é™…ä¿®æ”¹æ ‡è¯†ç¬¦&quot;)</span></span><br><span class="line">    <span class="meta">@OperationLog(value = &quot;æ ¹æ®idåˆ é™¤-è½¯åˆ é™¤ï¼Œå®é™…ä¿®æ”¹æ ‡è¯†ç¬¦&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult <span class="title function_">delWeak</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String id)</span> &#123;</span><br><span class="line">        basicService.delWeak(id);</span><br><span class="line">        <span class="keyword">return</span> success(<span class="string">&quot;åˆ é™¤æˆåŠŸï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®idæ›´æ–°ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> query &#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;update&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;1.4 æ ¹æ®idæ›´æ–°ä¿¡æ¯&quot;)</span></span><br><span class="line">    <span class="meta">@OperationLog(value = &quot;æ ¹æ®idæ›´æ–°ä¿¡æ¯&quot;)</span></span><br><span class="line">    <span class="meta">@Validated(value = UpdateGroup.class)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult&lt;V&gt; <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> Q query)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(basicService.update(query));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®idæ›´æ–°ä¿¡æ¯-æ‰¹é‡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> query &#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;updateBatch&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;1.5 æ ¹æ®idæ›´æ–°ä¿¡æ¯-æ‰¹é‡&quot;)</span></span><br><span class="line">    <span class="meta">@OperationLog(value = &quot;æ ¹æ®idæ›´æ–°ä¿¡æ¯-æ‰¹é‡&quot;)</span></span><br><span class="line">    <span class="meta">@Validated(value = UpdateGroup.class)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult <span class="title function_">updateBatch</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;Q&gt; query)</span> &#123;</span><br><span class="line">        basicService.updateBatch(query);</span><br><span class="line">        <span class="keyword">return</span> success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å•ä¸ªæ•°æ®</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id ä¸»é”®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;1.6 æŸ¥è¯¢å•ä¸ªæ•°æ®&quot;)</span></span><br><span class="line">    <span class="meta">@OperationLog(value = &quot;æŸ¥è¯¢å•ä¸ªæ•°æ®&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult&lt;V&gt; <span class="title function_">select</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String id)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(basicService.select(id));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†é¡µ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> query &#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;page&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;1.7 åˆ†é¡µ&quot;)</span></span><br><span class="line">    <span class="meta">@OperationLog(value = &quot;åˆ†é¡µ&quot;)</span></span><br><span class="line">    <span class="meta">@Validated(value = PageQueryGroup.class)</span></span><br><span class="line">    <span class="keyword">public</span> ApiResult&lt;PageResult&lt;V&gt;&gt; <span class="title function_">listUser</span><span class="params">(Q query)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(basicService.page(query));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="BasicDao"><a href="#BasicDao" class="headerlink" title="BasicDao"></a>BasicDao</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.basic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.BaseParam;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.PageParam;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Param;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŸºç¡€æ¥å£</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:njpkhuan@gmail.com&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BasicDao</span>&lt;T <span class="keyword">extends</span> <span class="title class_">BasicModel</span>, D, Q <span class="keyword">extends</span> <span class="title class_">BaseParam</span>&gt; <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;T&gt; &#123;</span><br><span class="line">    List&lt;D&gt; <span class="title function_">selectPageRel</span><span class="params">(<span class="meta">@Param(&quot;page&quot;)</span> PageParam&lt;D, Q&gt; page, <span class="meta">@Param(&quot;param&quot;)</span> Q param)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="BasicEnum"><a href="#BasicEnum" class="headerlink" title="BasicEnum"></a>BasicEnum</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.basic;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŸºç¡€æšä¸¾</span></span><br><span class="line"><span class="comment"> * ä¸»è¦ç”¨æ¥é…åˆapijsonå®ç°æšä¸¾å±•ç¤º</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:17602556550@189.cn&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2023/5/25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BasicEnum</span> &#123;</span><br><span class="line">    String <span class="title function_">getName</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    Integer <span class="title function_">getValue</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="BasicMapper"><a href="#BasicMapper" class="headerlink" title="BasicMapper"></a>BasicMapper</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.basic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.mapstruct.MappingTarget;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŸºç¡€è½¬æ¢</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:njpkhuan@gmail.com&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BasicMapper</span>&lt;T, Q, D, V&gt; &#123;</span><br><span class="line">    T <span class="title function_">query2do</span><span class="params">(Q query)</span>;</span><br><span class="line"></span><br><span class="line">    V <span class="title function_">dto2View</span><span class="params">(D dto)</span>;</span><br><span class="line"></span><br><span class="line">    D <span class="title function_">do2dto</span><span class="params">(T role)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Q query, <span class="meta">@MappingTarget</span> T t)</span>;</span><br><span class="line"></span><br><span class="line">    List&lt;V&gt; <span class="title function_">dto2ViewPage</span><span class="params">(List&lt;D&gt; dto)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="BasicModel"><a href="#BasicModel" class="headerlink" title="BasicModel"></a>BasicModel</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.basic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModelProperty;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šç”¨æ¨¡å‹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:17602556550@189.cn&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2023/5/26</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BasicModel</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸»é”®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤æ ‡è¯†</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ApiModelProperty(value = &quot;åˆ é™¤æ ‡è¯†&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String deleted;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="BasicService"><a href="#BasicService" class="headerlink" title="BasicService"></a>BasicService</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.basic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.util.IdUtil;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.BaseParam;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.PageParam;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.PageResult;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.validation.Valid;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åŸºç¡€æœåŠ¡</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:njpkhuan@gmail.com&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BasicService</span>&lt;T <span class="keyword">extends</span> <span class="title class_">BasicModel</span>, Q <span class="keyword">extends</span> <span class="title class_">BaseParam</span>, V, D, M <span class="keyword">extends</span> <span class="title class_">BasicMapper</span>&lt;T, Q, D, V&gt;&gt; &#123;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> BasicDao&lt;T, D, Q&gt; basicDao;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> BasicMapper&lt;T, Q, D, V&gt; basicMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ </span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> query &#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:njpkhuan@gmail.com&quot; &gt;æœ±æ°¸èƒœ&lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(<span class="meta">@Valid</span> Q query)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> basicMapper.query2do(query);</span><br><span class="line">        t.setId(IdUtil.simpleUUID());</span><br><span class="line">        basicDao.insert(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id &#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:njpkhuan@gmail.com&quot; &gt;æœ±æ°¸èƒœ&lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">del</span><span class="params">(<span class="meta">@NotNull</span> String id)</span> &#123;</span><br><span class="line">        basicDao.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®ç”¨æˆ·idæ›´æ–°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> query @&#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:njpkhuan@gmail.com&quot; &gt;æœ±æ°¸èƒœ&lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> V <span class="title function_">update</span><span class="params">(<span class="meta">@Valid</span> Q query)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">data</span> <span class="operator">=</span> basicMapper.query2do(query);</span><br><span class="line">        basicDao.updateById(data);</span><br><span class="line">        <span class="type">D</span> <span class="variable">d</span> <span class="operator">=</span> basicMapper.do2dto(data);</span><br><span class="line">        <span class="keyword">return</span> basicMapper.dto2View(d);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id ä¸»é”®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:njpkhuan@gmail.com&quot; &gt;æœ±æ°¸èƒœ&lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2021/3/1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> V <span class="title function_">select</span><span class="params">(<span class="meta">@NotNull</span> String id)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">data</span> <span class="operator">=</span> basicDao.selectById(id);</span><br><span class="line">        <span class="type">D</span> <span class="variable">d</span> <span class="operator">=</span> basicMapper.do2dto(data);</span><br><span class="line">        <span class="keyword">return</span> basicMapper.dto2View(d);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æŸ¥è¯¢å¤šæ¡è®°å½•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> query &#123;<span class="doctag">@link</span> Q&#125;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:njpkhuan@gmail.com&quot; &gt;æœ±æ°¸èƒœ&lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2021/2/23</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.0.0</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> PageResult&lt;V&gt; <span class="title function_">page</span><span class="params">(<span class="meta">@Valid</span> Q query)</span> &#123;</span><br><span class="line">        PageParam&lt;D, Q&gt; page = <span class="keyword">new</span> <span class="title class_">PageParam</span>&lt;&gt;(query);</span><br><span class="line">        page.setDefaultOrder(<span class="string">&quot;create_time desc&quot;</span>);</span><br><span class="line">        List&lt;D&gt; list = basicDao.selectPageRel(page, query);</span><br><span class="line"></span><br><span class="line">        List&lt;V&gt; vList = basicMapper.dto2ViewPage(list);</span><br><span class="line">        log.trace(<span class="string">&quot;&#123;&#125;&quot;</span>, list);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PageResult</span>&lt;&gt;(vList, page.getTotal());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è½¯åˆ é™¤</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href=&quot;mailto:17602556550@189.cn&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2023/5/26</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delWeak</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="type">T</span> <span class="variable">t</span> <span class="operator">=</span> basicDao.selectById(id);</span><br><span class="line">        t.setDeleted(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        basicDao.updateById(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰¹é‡æ›´æ–°</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href=&quot;mailto:17602556550@189.cn&quot;&gt;æœ±æ°¸èƒœ&lt;/a&gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2023/6/6</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateBatch</span><span class="params">(List&lt;Q&gt; query)</span> &#123;</span><br><span class="line">        query.forEach(<span class="built_in">this</span>::update);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="GenericSuperclassUtil"><a href="#GenericSuperclassUtil" class="headerlink" title="GenericSuperclassUtil"></a>GenericSuperclassUtil</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.core.basic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.ParameterizedType;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Type;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenericSuperclassUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * è·å–æ³›å‹ç±»Classå¯¹è±¡ï¼Œä¸æ˜¯æ³›å‹ç±»åˆ™è¿”å›null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Class&lt;?&gt; getActualTypeArgument(Class&lt;?&gt; clazz) &#123;</span><br><span class="line">        Class&lt;?&gt; entitiClass = <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericSuperclass</span> <span class="operator">=</span> clazz.getGenericSuperclass();</span><br><span class="line">        <span class="keyword">if</span> (genericSuperclass <span class="keyword">instanceof</span> ParameterizedType) &#123;</span><br><span class="line">            Type[] actualTypeArguments = ((ParameterizedType) genericSuperclass)</span><br><span class="line">                    .getActualTypeArguments();</span><br><span class="line">            <span class="keyword">if</span> (actualTypeArguments != <span class="literal">null</span> &amp;&amp; actualTypeArguments.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                entitiClass = (Class&lt;?&gt;) actualTypeArguments[<span class="number">0</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> entitiClass;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * è·å–æ³›å‹ç±»Classå¯¹è±¡ï¼Œä¸æ˜¯æ³›å‹ç±»åˆ™è¿”å›null</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> Class&lt;?&gt; getActualTypeArgument(Class&lt;?&gt; clazz, Integer pos) &#123;</span><br><span class="line">        Class&lt;?&gt; entitiClass = <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Type</span> <span class="variable">genericSuperclass</span> <span class="operator">=</span> clazz.getGenericSuperclass();</span><br><span class="line">        <span class="keyword">if</span> (genericSuperclass <span class="keyword">instanceof</span> ParameterizedType) &#123;</span><br><span class="line">            Type[] actualTypeArguments = ((ParameterizedType) genericSuperclass)</span><br><span class="line">                    .getActualTypeArguments();</span><br><span class="line">            <span class="keyword">if</span> (actualTypeArguments != <span class="literal">null</span> &amp;&amp; actualTypeArguments.length &gt; pos) &#123;</span><br><span class="line">                entitiClass = (Class&lt;?&gt;) actualTypeArguments[pos];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> entitiClass;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€POM"><a href="#ä¸‰ã€POM" class="headerlink" title="ä¸‰ã€POM"></a>ä¸‰ã€POM</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">org.mapstruct.version</span>&gt;</span>1.5.5.Final<span class="tag">&lt;/<span class="name">org.mapstruct.version</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mapstruct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapstruct<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;org.mapstruct.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">annotationProcessorPaths</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;lombok.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok-mapstruct-binding<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">path</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mapstruct<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mapstruct-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;org.mapstruct.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">annotationProcessorPaths</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">```<span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç† </tag>
            
            <tag> java </tag>
            
            <tag> springboot </tag>
            
            <tag> åŠ¨æ€åŠ è½½ </tag>
            
            <tag> åŸºç¡€ç±» </tag>
            
            <tag> åŸºç¡€æ¥å£ </tag>
            
            <tag> åŸºç¡€æšä¸¾ </tag>
            
            <tag> åŸºç¡€è½¬æ¢ </tag>
            
            <tag> åŸºç¡€æ¨¡å‹ </tag>
            
            <tag> åŸºç¡€æœåŠ¡ </tag>
            
            <tag> pom </tag>
            
            <tag> mapstruct </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€å¼€å‘è§„èŒƒç³»åˆ—ã€‘ï¼ˆä¸€ï¼‰ï¼šMysqlç¯‡</title>
      <link href="/e1aecfe9.html"/>
      <url>/e1aecfe9.html</url>
      
        <content type="html"><![CDATA[<h1 id="MySQL-ç¼–ç è§„èŒƒï¼šä¿éšœä»£ç è´¨é‡çš„å…³é”®"><a href="#MySQL-ç¼–ç è§„èŒƒï¼šä¿éšœä»£ç è´¨é‡çš„å…³é”®" class="headerlink" title="MySQL ç¼–ç è§„èŒƒï¼šä¿éšœä»£ç è´¨é‡çš„å…³é”®"></a>MySQL ç¼–ç è§„èŒƒï¼šä¿éšœä»£ç è´¨é‡çš„å…³é”®</h1><h2 id="1-æµç¨‹"><a href="#1-æµç¨‹" class="headerlink" title="1. æµç¨‹"></a>1. æµç¨‹</h2><p>æ•°æ®åº“è¡¨ç»“æ„çš„ä¿®æ”¹éœ€è¦ç›¸å…³äººå‘˜å’ŒLeaderä¸€èµ·è¯„å®¡ï¼Œä¿è¯ç¬¦åˆæ¶‰åŠè§„èŒƒã€‚</p><p>ä¸å…è®¸ä½¿ç”¨rootè´¦å·ï¼Œæ‰€æœ‰å¼€å‘å’Œæµ‹è¯•åº”å½“åˆ†é…æŒ‡å®šè´¦å·ï¼Œå¹¶æˆäºˆæœ€å°æ•°æ®åº“æƒé™</p><h2 id="2-æ•°æ®åº“ä¸è¡¨è§„èŒƒ"><a href="#2-æ•°æ®åº“ä¸è¡¨è§„èŒƒ" class="headerlink" title="2. æ•°æ®åº“ä¸è¡¨è§„èŒƒ"></a>2. æ•°æ®åº“ä¸è¡¨è§„èŒƒ</h2><h3 id="è¡¨å‘½åè§„èŒƒ"><a href="#è¡¨å‘½åè§„èŒƒ" class="headerlink" title="è¡¨å‘½åè§„èŒƒ"></a>è¡¨å‘½åè§„èŒƒ</h3><ol><li>å¸¸è§„è¡¨è¡¨åä»¥ t_å¼€å¤´ï¼Œt ä»£è¡¨ table çš„æ„æ€ï¼Œå‘½åè§„åˆ™å³ <strong>t + æ¨¡å—ï¼ˆåŒ…å«æ¨¡å—å«ä¹‰çš„ç®€å†™ï¼‰+ è¡¨ï¼ˆåŒ…å«è¡¨å«ä¹‰çš„ç®€å†™ï¼‰</strong>ï¼Œæ¯”å¦‚ç”¨æˆ·æ¨¡å—çš„æ•™è‚²ä¿¡æ¯è¡¨ï¼št_user_eduinfoã€‚</li><li>ä¸´æ—¶è¡¨ï¼ˆRDã€QA æˆ– DBA åŒå­¦ç”¨äºæ•°æ®ä¸´æ—¶å¤„ç†çš„è¡¨ï¼‰ï¼Œå‘½åè§„åˆ™ï¼š<strong>temp å‰ç¼€+æ¨¡å—+è¡¨+æ—¥æœŸåç¼€</strong>ï¼štemp_user_eduinfo_20210719</li><li>å¤‡ä»½è¡¨ï¼ˆç”¨äºä¿å­˜å’Œå½’æ¡£å†å²æ•°æ®æˆ–è€…ä½œä¸ºç¾å¤‡æ¢å¤çš„æ•°æ®ï¼‰å‘½åè§„åˆ™ï¼Œ<strong>bak å‰ç¼€+æ¨¡å—+è¡¨+æ—¥æœŸåç¼€</strong>ï¼šbak_user_eduinfo_20210719</li><li>åŒºåˆ†ä½: iz_* [String(1)] 1è¡¨ç¤ºæ˜¯ 0è¡¨ç¤ºå¦ï¼Œï¼ˆç¦ç”¨ is_,ä»£ç ç”Ÿæˆå®ä½“æœ‰é—®é¢˜ )</li><li>çŠ¶æ€ä½: *_status [String(1-2)] çŠ¶æ€å­—æ®µå¿…é¡»åŠ æ³¨é‡Šè¯´æ˜æ¯ä¸ªå€¼ä»£è¡¨å«ä¹‰</li><li>åŒä¸€ä¸ªæ¨¡å—çš„è¡¨å°½å¯èƒ½ä½¿ç”¨ç›¸åŒçš„å‰ç¼€ï¼Œè¡¨åç§°å°½å¯èƒ½è¡¨è¾¾å«ä¹‰</li><li>å¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ _ åˆ†éš”</li><li>å¸¸è§„è¡¨è¡¨åå°½é‡ä¸è¶…è¿‡ 30 ä¸ªå­—ç¬¦ï¼Œtemp è¡¨å’Œ bak è¡¨è§†æƒ…å†µè€Œå®šï¼Œä¹Ÿå°½é‡ç®€çŸ­ä¸ºå®œï¼Œå‘½ååº”ä½¿ç”¨å°å†™</li></ol><h3 id="æ•°æ®åº“å¯¹è±¡è®¾è®¡è§„èŒƒ"><a href="#æ•°æ®åº“å¯¹è±¡è®¾è®¡è§„èŒƒ" class="headerlink" title="æ•°æ®åº“å¯¹è±¡è®¾è®¡è§„èŒƒ"></a>æ•°æ®åº“å¯¹è±¡è®¾è®¡è§„èŒƒ</h3><ol><li>å­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨<code>utf8mb4</code>,æ’åº<code>utf8mb4_general_ci</code></li><li>ä¸å…è®¸ä½¿ç”¨è§†å›¾ã€å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨</li><li>æ•°æ®åº“å¼•æ“ç»Ÿä¸€<code>innodb</code></li><li>æ¨¡å—åˆ’åˆ†å’Œä»£ç ä¸­ä¸šåŠ¡æ¨¡å—ä¸€è‡´</li></ol><h3 id="è¡¨è®¾è®¡è§„èŒƒ"><a href="#è¡¨è®¾è®¡è§„èŒƒ" class="headerlink" title="è¡¨è®¾è®¡è§„èŒƒ"></a>è¡¨è®¾è®¡è§„èŒƒ</h3><ol><li>ä¸è¦ä½¿ç”¨å¤–é”®</li><li>è¡¨å¿…é¡»æœ‰ä¸»é”®ï¼Œè®¾ç½®ä¸ºvarchar(64)ï¼Œå”¯ä¸€</li><li>è¡¨å¿…é¡»æœ‰create_time(timestamp)å­—æ®µ</li><li>è¡¨å¿…é¡»æœ‰update_time(timestamp)å­—æ®µ</li><li>ç¦æ­¢ä½¿ç”¨å¤æ‚ç±»å‹ï¼Œjsonä½¿ç”¨è¦çœ‹æƒ…å†µ</li><li><strong>éœ€è¦jsonè¿æ¥çš„å­—æ®µï¼Œç±»å‹å¿…é¡»ä¸€è‡´ï¼Œé˜²æ­¢éšå¼è½¬æ¢</strong></li><li>ä¸¥ç¦ä½¿ç”¨åˆ†åŒºè¡¨</li><li>å•è¡¨å­—æ®µæ•°ä¸è¦å¤ªå¤šï¼Œå»ºè®®æœ€å¤šä¸è¦å¤§äº50ä¸ªã€‚è¿‡åº¦çš„å®½è¡¨å¯¹æ€§èƒ½ä¹Ÿæ˜¯å¾ˆå¤§çš„å½±å“ã€‚</li><li>MySQLåœ¨å¤„ç†å¤§è¡¨æ—¶ï¼Œæ€§èƒ½å°±å¼€å§‹æ˜æ˜¾é™ä½ï¼Œæ‰€ä»¥å»ºè®®å•è¡¨ç‰©ç†å¤§å°é™åˆ¶åœ¨16GBï¼Œè¡¨ä¸­æ•°æ®è¡Œæ•°æ§åˆ¶åœ¨2000Wå†…ã€‚^[ä¸šå†…çš„è§„åˆ™æ˜¯è¶…è¿‡2000Wæ€§èƒ½å¼€å§‹æ˜æ˜¾é™ä½ã€‚ä½†æ˜¯è¿™ä¸ªå€¼æ˜¯çµæ´»çš„ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œæµ‹è¯•æ¥åˆ¤æ–­ï¼Œæ¯”å¦‚é˜¿é‡Œçš„æ ‡å‡†å°±æ˜¯500Wï¼Œç™¾åº¦çš„ç¡®æ˜¯2000Wã€‚å®é™…ä¸Šæ˜¯å¦å®½è¡¨ï¼Œå•è¡Œæ•°æ®æ‰€å ç”¨çš„ç©ºé—´éƒ½æœ‰èµ·åˆ°ä½œç”¨çš„ã€‚</li><li>è¡¨å­—æ®µæ³¨é‡Šï¼Œæ¯ä¸ªå­—æ®µå¿…é¡»è®¾ç½®æ³¨é‡Šè¯´æ˜;</li><li>è¡¨å­—æ®µæ³¨é‡Šï¼ŒçŠ¶æ€ç±»å‹çš„å­—æ®µå¿…é¡»è¯´æ˜å–å€¼è§„åˆ™ï¼ˆæ¯”å¦‚æ€§åˆ«sexå–å€¼è§„åˆ™ï¼‰</li></ol><h2 id="3-å­—æ®µè§„èŒƒ"><a href="#3-å­—æ®µè§„èŒƒ" class="headerlink" title="3. å­—æ®µè§„èŒƒ"></a>3. å­—æ®µè§„èŒƒ</h2><h4 id="å­—æ®µå‘½åè§„èŒƒ"><a href="#å­—æ®µå‘½åè§„èŒƒ" class="headerlink" title="å­—æ®µå‘½åè§„èŒƒ"></a>å­—æ®µå‘½åè§„èŒƒ</h4><ol><li>å­—æ®µå‘½åéœ€è¦è¡¨ç¤ºå…¶å®é™…å«ä¹‰çš„è‹±æ–‡å•è¯æˆ–ç®€å†™ï¼Œ<strong>å•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿ _ è¿›è¡Œè¿æ¥</strong>ï¼Œå¦‚ service_ipã€service_portã€‚</li><li><strong>å„è¡¨ä¹‹é—´ç›¸åŒæ„ä¹‰çš„å­—æ®µå¿…é¡»åŒå</strong>ï¼Œæ¯”å¦‚ a è¡¨å’Œ b è¡¨éƒ½æœ‰åˆ›å»ºæ—¶é—´ï¼Œåº”è¯¥ç»Ÿä¸€ä¸º create_timeï¼Œä¸ä¸€è‡´ä¼šå¾ˆæ··ä¹±ã€‚</li><li>å¤šä¸ªå•è¯ä»¥ä¸‹åˆ’çº¿ _ åˆ†éš”</li><li>å­—æ®µåå°½é‡ä¸è¶…è¿‡ 30 ä¸ªå­—ç¬¦ï¼Œ<strong>å‘½ååº”è¯¥ä½¿ç”¨å°å†™</strong></li></ol><h4 id="å­—æ®µè®¾è®¡è§„èŒƒ"><a href="#å­—æ®µè®¾è®¡è§„èŒƒ" class="headerlink" title="å­—æ®µè®¾è®¡è§„èŒƒ"></a>å­—æ®µè®¾è®¡è§„èŒƒ</h4><ol><li><strong>å¯¹äºç²¾ç¡®æµ®ç‚¹å‹æ•°æ®å­˜å‚¨ï¼Œéœ€è¦ä½¿ç”¨DECIMAL</strong>ï¼Œä¸¥ç¦ä½¿ç”¨FLOATå’ŒDOUBLE</li><li>ç¦æ­¢ä½¿ç”¨TEXTã€BLOGå­—æ®µï¼Œç‰¹æ®Šæƒ…å†µé™¤å¤–</li><li><strong>å­—æ®µä½¿ç”¨NOT NULLå±æ€§</strong>ï¼Œå¯ç”¨é»˜è®¤å€¼ä»£æ›¿NULL</li><li>åŒºåˆ†ã€çŠ¶æ€ã€ç±»å‹å­—æ®µï¼Œå°½é‡ç”¨Stringç±»å‹ï¼Œé¿å…æ•°å­—ç±»å‹çš„ä¸€äº›é—®é¢˜</li><li>å­—æ®µé»˜è®¤å€¼ï¼ˆå­—æ®µå°½é‡ä¸è®¾ç½®é»˜è®¤å€¼ï¼Œé‡‡ç”¨ç¼–ç æ–¹å¼åŠ é»˜è®¤å€¼ï¼‰</li><li>é€»è¾‘åˆ é™¤å­—æ®µï¼Œdel_flag [int(1)]ï¼Œ1è¡¨ç¤ºåˆ é™¤ 0è¡¨ç¤ºæœªåˆ é™¤ ï¼Œå¯é€‰æ‹©åŠ </li><li>ä¹è§‚é”å­—æ®µï¼Œ update_count[Integer]ï¼Œå¯é€‰æ‹©åŠ </li></ol><h2 id="4-ç´¢å¼•è§„èŒƒ"><a href="#4-ç´¢å¼•è§„èŒƒ" class="headerlink" title="4. ç´¢å¼•è§„èŒƒ"></a>4. ç´¢å¼•è§„èŒƒ</h2><h4 id="ç´¢å¼•å‘½åè§„èŒƒ"><a href="#ç´¢å¼•å‘½åè§„èŒƒ" class="headerlink" title="ç´¢å¼•å‘½åè§„èŒƒ"></a>ç´¢å¼•å‘½åè§„èŒƒ</h4><ol><li>å”¯ä¸€ç´¢å¼•ä½¿ç”¨<strong>uni + å­—æ®µå</strong> æ¥å‘½åï¼šcreate unique index uni_uid on t_user_basic(uid) ã€‚</li><li>éå”¯ä¸€ç´¢å¼•ä½¿ç”¨<strong>idx + å­—æ®µå</strong> æ¥å‘½åï¼šcreate index idx_uname_mobile on t_user_basic(uname,mobile) ã€‚</li><li>å¤šä¸ªå•è¯ä»¥<strong>ä¸‹åˆ’çº¿ _ åˆ†éš”</strong>ã€‚</li><li>ç´¢å¼•åå°½é‡ä¸è¶…è¿‡50ä¸ªå­—ç¬¦ï¼Œå‘½ååº”è¯¥ä½¿ç”¨å°å†™ï¼Œç»„åˆç´¢å¼•çš„å­—æ®µä¸å®œå¤ªå¤šï¼Œä¸ç„¶ä¹Ÿä¸åˆ©äºæŸ¥è¯¢æ•ˆç‡çš„æå‡ã€‚</li><li>å¤šå•è¯ç»„æˆçš„åˆ—åï¼Œå–å°½å¯èƒ½ä»£è¡¨æ„ä¹‰çš„ç¼©å†™ï¼Œå¦‚ test_contactè¡¨member_idå’Œfriend_idä¸Šçš„ç»„åˆç´¢å¼•ï¼šidx_mid_fidã€‚</li><li><strong>ç†è§£ç»„åˆç´¢å¼•æœ€å·¦å‰ç¼€åŸåˆ™ï¼Œé¿å…é‡å¤å»ºè®¾ç´¢å¼•</strong>ï¼Œå¦‚æœå»ºç«‹äº†(a,b,c)ï¼Œç›¸å½“äºå»ºç«‹äº†(a), (a,b), (a,b,c)ã€‚</li></ol><h4 id="ç´¢å¼•è®¾è®¡è§„èŒƒ"><a href="#ç´¢å¼•è®¾è®¡è§„èŒƒ" class="headerlink" title="ç´¢å¼•è®¾è®¡è§„èŒƒ"></a>ç´¢å¼•è®¾è®¡è§„èŒƒ</h4><ol><li>ç´¢å¼•å¿…é¡»åˆ›å»ºåœ¨ç´¢å¼•é€‰æ‹©æ€§ï¼ˆåŒºåˆ†åº¦ï¼‰è¾ƒé«˜çš„åˆ—ä¸Šï¼Œé€‰æ‹©æ€§çš„è®¡ç®—æ–¹å¼ä¸º:  selecttivity &#x3D; count(distinct c_name)&#x2F;count(*) ; å¦‚æœåŒºåˆ†åº¦ç»“æœå°äº0.2ï¼Œåˆ™ä¸å»ºè®®åœ¨æ­¤åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œå¦åˆ™å¤§æ¦‚ç‡ä¼šæ‹–æ…¢SQLæ‰§è¡Œ</li><li>å•å¼ è¡¨çš„ç´¢å¼•æ•°é‡ç†è®ºä¸Šåº”<strong>æ§åˆ¶åœ¨5ä¸ªä»¥å†…</strong>ã€‚ç»å¸¸æœ‰å¤§æ‰¹é‡æ’å…¥ã€æ›´æ–°æ“ä½œè¡¨ï¼Œåº”å°½é‡å°‘å»ºç´¢å¼•ï¼Œç´¢å¼•å»ºç«‹çš„åŸåˆ™ç†è®ºä¸Šæ˜¯<strong>å¤šè¯»å°‘å†™çš„åœºæ™¯</strong>ã€‚</li><li><strong>ORDER BYï¼ŒGROUP BYï¼ŒDISTINCTçš„å­—æ®µéœ€è¦æ·»åŠ åœ¨ç´¢å¼•çš„åé¢ï¼Œå½¢æˆè¦†ç›–ç´¢å¼•</strong></li><li>è”åˆç´¢å¼•æ³¨æ„<strong>æœ€å·¦åŒ¹é…åŸåˆ™</strong>ï¼šå¿…é¡»æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºåŒ¹é…ï¼ŒMySQLä¼šä¸€ç›´å‘å³åŒ¹é…ç´¢å¼•ç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢(&gt;ã€&lt;ã€betweenã€like)ç„¶ååœæ­¢åŒ¹é…ã€‚å¦‚ï¼šdepno&#x3D;1 and empname&gt;â€™â€™ and job&#x3D;1 å¦‚æœå»ºç«‹(depno,empname,job)é¡ºåºçš„ç´¢å¼•ï¼Œjobæ˜¯ç”¨ä¸åˆ°ç´¢å¼•çš„ã€‚</li><li>åº”éœ€è€Œå–ç­–ç•¥ï¼ŒæŸ¥è¯¢è®°å½•çš„æ—¶å€™ï¼Œ<strong>ä¸è¦ä¸€ä¸Šæ¥å°±ä½¿ç”¨</strong>*ï¼Œåªå–éœ€è¦çš„æ•°æ®ï¼Œå¯èƒ½çš„è¯å°½é‡åªåˆ©ç”¨ç´¢å¼•è¦†ç›–ï¼Œå¯ä»¥å‡å°‘å›è¡¨æ“ä½œï¼Œæå‡æ•ˆç‡ã€‚</li><li>é¿å…ç´¢å¼•å¤±æ•ˆçš„åŸåˆ™ï¼š<strong>ç¦æ­¢å¯¹ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°ã€è¿ç®—ç¬¦æ“ä½œï¼Œä¼šä½¿ç´¢å¼•å¤±æ•ˆ</strong>ã€‚</li><li><strong>é¿å…éå¿…è¦çš„ç±»å‹è½¬æ¢</strong>ï¼Œå­—ç¬¦ä¸²å­—æ®µä½¿ç”¨æ•°å€¼è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ä¼šå¯¼è‡´ç´¢å¼•æ— æ•ˆã€‚</li><li><strong>æ¨¡ç³ŠæŸ¥è¯¢â€™%value%â€™ä¼šä½¿ç´¢å¼•æ— æ•ˆ</strong>ï¼Œå˜ä¸ºå…¨è¡¨æ‰«æï¼Œå› ä¸ºæ— æ³•åˆ¤æ–­æ‰«æçš„åŒºé—´ï¼Œ<strong>ä½†æ˜¯â€™value%â€™æ˜¯å¯ä»¥æœ‰æ•ˆåˆ©ç”¨ç´¢å¼•</strong>ã€‚</li><li><strong>ç´¢å¼•è¦†ç›–æ’åºå­—æ®µ</strong>ï¼Œè¿™æ ·å¯ä»¥å‡å°‘æ’åºæ­¥éª¤ï¼Œæå‡æŸ¥è¯¢æ•ˆç‡</li><li><strong>å°½é‡çš„æ‰©å±•ç´¢å¼•ï¼Œéå¿…è¦ä¸æ–°å»ºç´¢å¼•</strong>ã€‚æ¯”å¦‚è¡¨ä¸­å·²ç»æœ‰açš„ç´¢å¼•ï¼Œç°åœ¨è¦åŠ (a,b)çš„ç´¢å¼•ï¼Œé‚£ä¹ˆåªéœ€è¦ä¿®æ”¹åŸæ¥çš„ç´¢å¼•å³å¯ã€‚</li></ol><p>æ‰©å±•ä¸‹æœ€å·¦å‰ç¼€</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è¿™é‡Œåˆ›å»ºä¸€ä¸ªç´¢å¼•</span><br><span class="line"><span class="keyword">CREATE</span> INDEX idx_name <span class="keyword">ON</span> users (first_name, last_name);</span><br><span class="line"></span><br><span class="line"># åœ¨è¿™ä¸ªç´¢å¼•ä¸­ï¼Œfirst_name æ˜¯æœ€å·¦å‰ç¼€ã€‚ç°åœ¨ï¼Œå½“æ‚¨æ‰§è¡Œç±»ä¼¼ä»¥ä¸‹çš„æŸ¥è¯¢æ—¶ï¼Œç´¢å¼•å¯ä»¥è¢«æœ‰æ•ˆåœ°åˆ©ç”¨ï¼š</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> first_name <span class="operator">=</span> <span class="string">&#x27;John&#x27;</span> <span class="keyword">AND</span> last_name <span class="operator">=</span> <span class="string">&#x27;Doe&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="5-SQL-æŸ¥è¯¢ç¼–å†™è§„èŒƒ"><a href="#5-SQL-æŸ¥è¯¢ç¼–å†™è§„èŒƒ" class="headerlink" title="5. SQL æŸ¥è¯¢ç¼–å†™è§„èŒƒ"></a>5. SQL æŸ¥è¯¢ç¼–å†™è§„èŒƒ</h2><ol><li>ä¸å…è®¸ä½¿ç”¨<code>select *</code></li><li>æŸ¥è¯¢å¿…é¡»åŠ whereæ¡ä»¶ï¼Œé¿å…å…¨è¡¨æ‰«æ</li><li>å¦‚æœå¿…é¡»æœ‰TEXTå¯¹è±¡ï¼Œå¿…é¡»å•ç‹¬åŠ è¡¨å¹¶å…³è”</li><li>whereæ¡ä»¶ä¸­è¿‡æ»¤å­—æ®µä¸¥ç¦ä½¿ç”¨ä»»ä½•å‡½æ•°ï¼ŒåŒ…æ‹¬æ•°æ®ç±»å‹è½¬æ¢å‡½æ•°</li><li>åˆ†é¡µæŸ¥è¯¢å¿…é¡»å¸¦æ’åºæ¡ä»¶</li><li>ç”¨in&#x2F;unionæ›¿æ¢orï¼Œå¹¶æ³¨æ„inä¸ªæ•°å°äº300</li><li>å¦‚æ— å¿…è¦ä¸è¦ä½¿ç”¨%å‰ç¼€è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œé¿å…å…¨è¡¨æŸ¥è¯¢</li><li>é¿å…ä½¿ç”¨å­æŸ¥è¯¢ï¼Œè½¬ä¸ºjoinè¿æ¥</li></ol><p>å­æŸ¥è¯¢æ€§èƒ½å·®åŸå› </p><p><strong>ã€ŒÂ·ã€</strong>Â å­æŸ¥è¯¢çš„ç»“æœé›†æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œé€šå¸¸å­æŸ¥è¯¢çš„ç»“æœé›†ä¼šè¢«å­˜å‚¨åˆ°ä¸´æ—¶è¡¨ä¸­ï¼Œä¸è®ºæ˜¯å†…å­˜ä¸´æ—¶è¡¨è¿˜æ˜¯ç£ç›˜ä¸´æ—¶è¡¨éƒ½ä¸ä¼šå­˜åœ¨ç´¢å¼•ï¼Œæ‰€ä»¥æŸ¥è¯¢æ€§èƒ½ ä¼šå—åˆ°ä¸€å®šçš„å½±å“ï¼›</p><p><strong>ã€ŒÂ·ã€</strong>Â ç‰¹åˆ«æ˜¯å¯¹äºè¿”å›ç»“æœé›†æ¯”è¾ƒå¤§çš„å­æŸ¥è¯¢ï¼Œå…¶å¯¹æŸ¥è¯¢æ€§èƒ½çš„å½±å“ä¹Ÿå°±è¶Šå¤§ï¼›</p><p><strong>ã€ŒÂ·ã€</strong>Â ç”±äºå­æŸ¥è¯¢ä¼šäº§ç”Ÿå¤§é‡çš„ä¸´æ—¶è¡¨ä¹Ÿæ²¡æœ‰ç´¢å¼•ï¼Œæ‰€ä»¥ä¼šæ¶ˆè€—è¿‡å¤šçš„CPUå’ŒIOèµ„æºï¼Œäº§ç”Ÿå¤§é‡çš„æ…¢æŸ¥è¯¢ã€‚</p><h2 id="6-äº‹åŠ¡ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–"><a href="#6-äº‹åŠ¡ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="6. äº‹åŠ¡ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–"></a>6. äº‹åŠ¡ç®¡ç†å’Œæ€§èƒ½ä¼˜åŒ–</h2><ol><li>æ‰€æœ‰æ–¹æ³•æ¶‰åŠåˆ°æ›´æ–°ã€åˆ é™¤ã€æ·»åŠ æ“ä½œéœ€è¦ä½¿ç”¨<code>@Transactional</code>æ³¨è§£</li><li>æ•°æ®é‡å¤§çš„æƒ…å†µä¸‹ï¼Œ éœ€è¦åˆ†æ‰¹æ¬¡æ“ä½œ</li></ol><h2 id="7-å®‰å…¨æ€§è€ƒè™‘"><a href="#7-å®‰å…¨æ€§è€ƒè™‘" class="headerlink" title="7. å®‰å…¨æ€§è€ƒè™‘"></a>7. å®‰å…¨æ€§è€ƒè™‘</h2><ul><li>æ•°æ®åº“é…ç½®åº”å½“ä½¿ç”¨druidç­‰æ¡†æ¶å¯¹æ˜æ–‡è¿›è¡ŒåŠ å¯†</li><li>é¿å…æ‹¼æ¥SQL</li><li>é˜²æ­¢SQLæ³¨å…¥ï¿½ï¿½æ¥SQL</li><li>é˜²æ­¢SQLæ³¨å…¥</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> å¼€å‘è§„èŒƒ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> å¼€å‘è§„èŒƒ </tag>
            
            <tag> æ•°æ®åº“è¡¨ç»“æ„ </tag>
            
            <tag> è´¦å·æƒé™ </tag>
            
            <tag> è¡¨å‘½åè§„èŒƒ </tag>
            
            <tag> æ•°æ®åº“å¯¹è±¡è®¾è®¡ </tag>
            
            <tag> è¡¨è®¾è®¡è§„èŒƒ </tag>
            
            <tag> å­—æ®µå‘½åè§„èŒƒ </tag>
            
            <tag> å­—æ®µè®¾è®¡è§„èŒƒ </tag>
            
            <tag> ç´¢å¼•å‘½åè§„èŒƒ </tag>
            
            <tag> ç´¢å¼•è®¾è®¡è§„èŒƒ </tag>
            
            <tag> sqlæŸ¥è¯¢ç¼–å†™è§„èŒƒ </tag>
            
            <tag> äº‹åŠ¡ç®¡ç† </tag>
            
            <tag> æ€§èƒ½ä¼˜åŒ– </tag>
            
            <tag> å®‰å…¨æ€§è€ƒè™‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cmdéƒ¨ç½²HexoGithub443é—®é¢˜</title>
      <link href="/c46b5f05.html"/>
      <url>/c46b5f05.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy â€œlocalhost:7890â€</span><br></pre></td></tr></table></figure><p>é…ç½®ä¸‹ä»£ç†å³å¯&#96;<br>é…ç½®ä¸‹ä»£ç†å³å¯</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> BUG </category>
          
      </categories>
      
      
        <tags>
            
            <tag> bug </tag>
            
            <tag> hexo </tag>
            
            <tag> cmd </tag>
            
            <tag> github </tag>
            
            <tag> 443é—®é¢˜ </tag>
            
            <tag> git config </tag>
            
            <tag> http.proxy </tag>
            
            <tag> ä»£ç†é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisç³»åˆ—ï¼ˆäºŒï¼‰ï¼šæ·±å…¥è§£è¯»Redisçš„ä¸¤ç§æŒä¹…åŒ–æ–¹å¼</title>
      <link href="/52275545.html"/>
      <url>/52275545.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><blockquote><p>åšå®¢åœ°å€ï¼šblog.zysicyj.top</p></blockquote><h1 id="Redisä¸ºä»€ä¹ˆè¦å¼•å…¥æŒä¹…åŒ–æœºåˆ¶"><a href="#Redisä¸ºä»€ä¹ˆè¦å¼•å…¥æŒä¹…åŒ–æœºåˆ¶" class="headerlink" title="Redisä¸ºä»€ä¹ˆè¦å¼•å…¥æŒä¹…åŒ–æœºåˆ¶"></a>Redisä¸ºä»€ä¹ˆè¦å¼•å…¥æŒä¹…åŒ–æœºåˆ¶</h1><p>Rediså¼•å…¥æŒä¹…åŒ–æœºåˆ¶æ˜¯ä¸ºäº†è§£å†³å†…å­˜æ•°æ®åº“çš„æ•°æ®å®‰å…¨æ€§å’Œå¯é æ€§é—®é¢˜ã€‚è™½ç„¶å†…å­˜æ•°æ®åº“å…·æœ‰é«˜é€Ÿè¯»å†™çš„ä¼˜åŠ¿ï¼Œä½†ç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œä¸€æ—¦æœåŠ¡å™¨åœæ­¢æˆ–å´©æºƒï¼Œæ‰€æœ‰æ•°æ®å°†ä¼šä¸¢å¤±ã€‚æŒä¹…åŒ–æœºåˆ¶çš„å¼•å…¥æ—¨åœ¨å°†å†…å­˜ä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼Œä»è€Œåœ¨æœåŠ¡å™¨é‡å¯åèƒ½å¤Ÿæ¢å¤æ•°æ®ï¼Œæä¾›æ›´å¥½çš„æ•°æ®ä¿æŠ¤å’Œå¯é æ€§ã€‚</p><p>ä»¥ä¸‹æ˜¯æŒä¹…åŒ–æœºåˆ¶çš„å‡ ä¸ªä¸»è¦åŸå› ï¼š</p><p><strong>1. æ•°æ®å®‰å…¨å’Œå¯é æ€§ï¼š</strong><br>é€šè¿‡å°†æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸Šï¼Œå³ä½¿åœ¨æœåŠ¡å™¨å´©æºƒæˆ–å¼‚å¸¸åœæ­¢çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥ä¿è¯æ•°æ®ä¸ä¼šä¸¢å¤±ã€‚æŒä¹…åŒ–æœºåˆ¶å¯ä»¥é˜²æ­¢é‡è¦çš„æ•°æ®åœ¨çªå‘æƒ…å†µä¸‹é­å—æŸå¤±ã€‚</p><p><strong>2. æ•°æ®æ¢å¤ï¼š</strong><br>æŒä¹…åŒ–æœºåˆ¶å…è®¸åœ¨æœåŠ¡å™¨é‡å¯åå°†æ•°æ®é‡æ–°åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä»è€Œå®ç°æ•°æ®çš„æ¢å¤ã€‚è¿™å¯¹äºä¸šåŠ¡çš„è¿ç»­æ€§å’Œå¯ç”¨æ€§éå¸¸é‡è¦ã€‚</p><p><strong>3. æ•°æ®ç¾éš¾æ¢å¤ï¼š</strong><br>æŒä¹…åŒ–æœºåˆ¶å¯¹äºç¾éš¾æ¢å¤ä¹Ÿå¾ˆæœ‰å¸®åŠ©ã€‚åœ¨ä¸å¹¸å‘ç”Ÿç¡¬ä»¶æ•…éšœã€ç”µåŠ›ä¸­æ–­ç­‰æƒ…å†µä¸‹ï¼ŒæŒä¹…åŒ–æœºåˆ¶å¯ä»¥å¸®åŠ©æ¢å¤æ•°æ®ã€‚</p><p><strong>4. æ•°æ®è¿ç§»ï¼š</strong><br>æŒä¹…åŒ–æœºåˆ¶ä¹Ÿæœ‰åŠ©äºå°†æ•°æ®ä»ä¸€ä¸ªæœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨ã€‚ä½ å¯ä»¥é€šè¿‡å¤‡ä»½æŒä¹…åŒ–æ–‡ä»¶å¹¶åœ¨å¦ä¸€å°æœåŠ¡å™¨ä¸Šè¿›è¡Œæ¢å¤æ¥å®Œæˆæ•°æ®è¿ç§»ã€‚</p><p>è™½ç„¶æŒä¹…åŒ–æœºåˆ¶å¸¦æ¥äº†ç£ç›˜IOå’Œæ€§èƒ½å¼€é”€ï¼Œä½†å®ƒä¸ºRedisæä¾›äº†æ›´å¼ºå¤§çš„æ•°æ®ä¿æŠ¤èƒ½åŠ›ã€‚æ ¹æ®åº”ç”¨çš„éœ€æ±‚ï¼Œå¯ä»¥æ ¹æ®æ•°æ®çš„é‡è¦æ€§å’Œæ•°æ®ä¸¢å¤±çš„å®¹å¿åº¦æ¥é€‰æ‹©é€‚å½“çš„æŒä¹…åŒ–æ–¹å¼ï¼Œæˆ–è€…ç»“åˆä¸¤ç§æ–¹å¼ä»¥æä¾›æ›´é«˜çš„æ•°æ®ä¿æŠ¤çº§åˆ«ã€‚</p><h1 id="Redisæä¾›äº†å“ªäº›æŒä¹…åŒ–æœºåˆ¶"><a href="#Redisæä¾›äº†å“ªäº›æŒä¹…åŒ–æœºåˆ¶" class="headerlink" title="Redisæä¾›äº†å“ªäº›æŒä¹…åŒ–æœºåˆ¶"></a>Redisæä¾›äº†å“ªäº›æŒä¹…åŒ–æœºåˆ¶</h1><p>Redisæä¾›äº†ä¸¤ç§ä¸»è¦çš„æŒä¹…åŒ–æœºåˆ¶ï¼Œåˆ†åˆ«æ˜¯RDBå¿«ç…§ï¼ˆSnapshottingï¼‰å’ŒAOFæ—¥å¿—ï¼ˆAppend-Only Fileï¼‰ã€‚è¿™ä¸¤ç§æœºåˆ¶å¯ä»¥æ ¹æ®ä¸åŒçš„éœ€æ±‚å’Œåœºæ™¯æ¥é€‰æ‹©ä½¿ç”¨ã€‚</p><p><strong>1. RDBå¿«ç…§ï¼ˆSnapshottingï¼‰ï¼š</strong><br>RDBå¿«ç…§æ˜¯ä¸€ç§å…¨é‡æŒä¹…åŒ–æ–¹å¼ï¼Œå®ƒä¼šå‘¨æœŸæ€§åœ°å°†å†…å­˜ä¸­çš„æ•°æ®ä»¥äºŒè¿›åˆ¶æ ¼å¼ä¿å­˜åˆ°ç£ç›˜ä¸Šçš„RDBæ–‡ä»¶ã€‚RDBæ–‡ä»¶æ˜¯ä¸€ä¸ªç»è¿‡å‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒåŒ…å«äº†æ•°æ®åº“åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„æ•°æ®å¿«ç…§ã€‚RDBå¿«ç…§æœ‰åŠ©äºå®ç°ç´§å‡‘çš„æ•°æ®å­˜å‚¨ï¼Œé€‚åˆç”¨äºå¤‡ä»½å’Œæ¢å¤ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>RDBå¿«ç…§åœ¨æ¢å¤å¤§æ•°æ®é›†æ—¶é€Ÿåº¦è¾ƒå¿«ï¼Œå› ä¸ºå®ƒæ˜¯å…¨é‡çš„æ•°æ®å¿«ç…§ã€‚</li><li>ç”±äºRDBæ–‡ä»¶æ˜¯å‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®ƒåœ¨ç£ç›˜ä¸Šçš„å­˜å‚¨ç©ºé—´ç›¸å¯¹è¾ƒå°ã€‚</li><li>é€‚ç”¨äºæ•°æ®å¤‡ä»½å’Œç¾éš¾æ¢å¤ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>RDBå¿«ç…§æ˜¯å‘¨æœŸæ€§çš„å…¨é‡æŒä¹…åŒ–ï¼Œå¯èƒ½å¯¼è‡´æŸä¸ªæ—¶é—´ç‚¹ä¹‹åçš„æ•°æ®ä¸¢å¤±ã€‚</li><li>åœ¨ä¿å­˜å¿«ç…§æ—¶ï¼ŒRedisæœåŠ¡å™¨ä¼šé˜»å¡ï¼Œå¯èƒ½å¯¹ç³»ç»Ÿæ€§èƒ½é€ æˆå½±å“ã€‚</li></ul><p><strong>2. AOFæ—¥å¿—ï¼ˆAppend-Only Fileï¼‰ï¼š</strong><br>AOFæ—¥å¿—æ˜¯ä¸€ç§è¿½åŠ å¼æŒä¹…åŒ–æ–¹å¼ï¼Œå®ƒè®°å½•äº†æ¯ä¸ªå†™æ“ä½œå‘½ä»¤ï¼Œä»¥è¿½åŠ çš„æ–¹å¼å°†å‘½ä»¤å†™å…¥AOFæ–‡ä»¶ã€‚é€šè¿‡é‡æ–°æ‰§è¡ŒAOFæ–‡ä»¶ä¸­çš„å‘½ä»¤ï¼Œå¯ä»¥é‡å»ºå‡ºæ•°æ®åœ¨å†…å­˜ä¸­çš„çŠ¶æ€ã€‚AOFæ—¥å¿—æä¾›äº†æ›´ç²¾ç¡®çš„æŒä¹…åŒ–ï¼Œé€‚ç”¨äºéœ€è¦æ›´é«˜æ•°æ®å®‰å…¨æ€§å’Œå®æ—¶æ€§çš„åœºæ™¯ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>AOFæ—¥å¿—å¯ä»¥å®ç°æ›´ç²¾ç¡®çš„æ•°æ®æŒä¹…åŒ–ï¼Œæ¯ä¸ªå†™æ“ä½œéƒ½ä¼šè¢«è®°å½•ã€‚</li><li>åœ¨AOFæ–‡ä»¶ä¸­ï¼Œæ•°æ®å¯ä»¥æ›´å¥½åœ°æ¢å¤ï¼Œå› ä¸ºå®ƒä¿å­˜äº†æ‰€æœ‰çš„å†™æ“ä½œå†å²ã€‚</li><li>AOFæ—¥å¿—é€‚ç”¨äºéœ€è¦å®æ—¶æ¢å¤æ•°æ®çš„åœºæ™¯ï¼Œå¦‚ç§’çº§æ•°æ®æ¢å¤è¦æ±‚ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>AOFæ—¥å¿—ç›¸å¯¹äºRDBå¿«ç…§æ¥è¯´ï¼Œå¯èƒ½ä¼šå ç”¨æ›´å¤šçš„ç£ç›˜ç©ºé—´ï¼Œå› ä¸ºå®ƒæ˜¯è®°å½•æ¯ä¸ªå†™æ“ä½œçš„æ–‡æœ¬æ–‡ä»¶ã€‚</li><li>AOFæ—¥å¿—åœ¨æ¢å¤å¤§æ•°æ®é›†æ—¶å¯èƒ½ä¼šæ¯”RDBå¿«ç…§æ…¢ï¼Œå› ä¸ºéœ€è¦é€æ¡æ‰§è¡Œå†™æ“ä½œã€‚</li></ul><p>æ ¹æ®ä¸åŒçš„éœ€æ±‚ï¼Œå¯ä»¥é€‰æ‹©RDBå¿«ç…§ã€AOFæ—¥å¿—æˆ–ä¸¤è€…ç»“åˆä½¿ç”¨ã€‚ä½ å¯ä»¥æ ¹æ®æ•°æ®çš„é‡è¦æ€§ã€æ¢å¤é€Ÿåº¦è¦æ±‚ä»¥åŠç£ç›˜ç©ºé—´é™åˆ¶æ¥é€‰æ‹©åˆé€‚çš„æŒä¹…åŒ–æ–¹å¼ã€‚æœ‰æ—¶å€™ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŒæ—¶ä½¿ç”¨ä¸¤ç§æ–¹å¼æ¥æä¾›æ›´é«˜çš„æ•°æ®ä¿æŠ¤çº§åˆ«ã€‚</p><h1 id="AOFæ—¥å¿—æ˜¯å¦‚ä½•å®ç°çš„"><a href="#AOFæ—¥å¿—æ˜¯å¦‚ä½•å®ç°çš„" class="headerlink" title="AOFæ—¥å¿—æ˜¯å¦‚ä½•å®ç°çš„"></a>AOFæ—¥å¿—æ˜¯å¦‚ä½•å®ç°çš„</h1><p>é¦–å…ˆï¼Œå¤§å®¶è¦çŸ¥é“ï¼ŒAOFæ˜¯å†™åæ—¥å¿—ï¼Œâ€œå†™åâ€çš„æ„æ€æ˜¯Rediså…ˆæ‰§è¡Œå‘½ä»¤ï¼ŒæŠŠæ•°æ®å†™å…¥å†…å­˜ï¼Œç„¶åæ‰è®°å½•æ—¥å¿—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308131424275.png" alt="Redis AOFæ“ä½œè¿‡ç¨‹"></p><h2 id="AOF-ä¸ºä»€ä¹ˆè¦å…ˆæ‰§è¡Œå‘½ä»¤å†è®°æ—¥å¿—å‘¢"><a href="#AOF-ä¸ºä»€ä¹ˆè¦å…ˆæ‰§è¡Œå‘½ä»¤å†è®°æ—¥å¿—å‘¢" class="headerlink" title="AOF ä¸ºä»€ä¹ˆè¦å…ˆæ‰§è¡Œå‘½ä»¤å†è®°æ—¥å¿—å‘¢"></a>AOF ä¸ºä»€ä¹ˆè¦å…ˆæ‰§è¡Œå‘½ä»¤å†è®°æ—¥å¿—å‘¢</h2><p>AOFï¼ˆAppend-Only Fileï¼‰æŒä¹…åŒ–æœºåˆ¶ä¸­ï¼Œä¸ºä»€ä¹ˆè¦å…ˆæ‰§è¡Œå‘½ä»¤å†è®°å½•æ—¥å¿—ï¼Œè€Œä¸æ˜¯ç›¸åï¼Œè¿™æ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§å’ŒæŒä¹…æ€§ã€‚</p><p>AOFçš„è®¾è®¡ç›®æ ‡ä¹‹ä¸€æ˜¯ä¿è¯æ•°æ®çš„æŒä¹…æ€§ï¼Œå³åœ¨æœåŠ¡å™¨é‡å¯åèƒ½å¤Ÿæ¢å¤å‡ºä¸é‡å¯å‰ä¸€è‡´çš„æ•°æ®çŠ¶æ€ã€‚ä¸ºäº†å®ç°è¿™ä¸ªç›®æ ‡ï¼ŒAOFçš„æ“ä½œé¡ºåºéå¸¸é‡è¦ã€‚</p><p><strong>å…ˆæ‰§è¡Œå‘½ä»¤å†è®°å½•æ—¥å¿—çš„åŸå› ï¼š</strong></p><ol><li><p><strong>æ•°æ®ä¸€è‡´æ€§ï¼š</strong> å¦‚æœå…ˆè®°å½•æ—¥å¿—å†æ‰§è¡Œå‘½ä»¤ï¼Œå‡è®¾è®°å½•æ—¥å¿—æˆåŠŸè€Œæ‰§è¡Œå‘½ä»¤å¤±è´¥ï¼ˆä¾‹å¦‚æœåŠ¡å™¨å´©æºƒï¼‰ï¼Œé‚£ä¹ˆæ—¥å¿—ä¸­è®°å½•çš„æ“ä½œå®é™…ä¸Šæ²¡æœ‰è¢«åº”ç”¨ï¼Œä¼šå¯¼è‡´æ•°æ®åœ¨é‡å¯åä¸é¢„æœŸä¸ä¸€è‡´ã€‚</p></li><li><p><strong>å¯æ¢å¤æ€§ï¼š</strong> å…ˆæ‰§è¡Œå‘½ä»¤å†è®°å½•æ—¥å¿—å¯ä»¥ä¿è¯åœ¨æœåŠ¡å™¨é‡å¯åï¼Œå³ä½¿åœ¨å´©æºƒå‰æœªèƒ½å°†æ“ä½œè®°å½•åˆ°æ—¥å¿—ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡æ–°æ‰§è¡ŒAOFæ—¥å¿—ä¸­çš„å‘½ä»¤ï¼Œå°†æ•°æ®æ¢å¤åˆ°æ­£ç¡®çš„çŠ¶æ€ã€‚</p></li><li><p><strong>é¿å…æ—¥å¿—ä¸¢å¤±ï¼š</strong> å¦‚æœå…ˆè®°å½•æ—¥å¿—å†æ‰§è¡Œå‘½ä»¤ï¼Œå¦‚æœåœ¨è®°å½•æ—¥å¿—ä¹‹å‰å‘ç”Ÿäº†æœåŠ¡å™¨å´©æºƒï¼Œä¼šå¯¼è‡´æ“ä½œä¸¢å¤±ï¼Œè€Œè¿™äº›æ“ä½œå¯èƒ½å·²ç»å½±å“äº†æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p></li></ol><p>å½“ç„¶ï¼Œè¿™é‡Œé¢è¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„åŸå› ï¼Œ<strong>å®ƒæ˜¯åœ¨å‘½ä»¤æ‰§è¡Œåæ‰è®°å½•æ—¥å¿—ï¼Œæ‰€ä»¥ä¸ä¼šé˜»å¡å½“å‰çš„å†™æ“ä½œ</strong>ã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†ç¡®ä¿æ•°æ®çš„æŒä¹…æ€§å’Œä¸€è‡´æ€§ï¼ŒRedisé€‰æ‹©äº†å…ˆæ‰§è¡Œå‘½ä»¤å†è®°å½•æ—¥å¿—çš„æ–¹å¼ã€‚è¿™æ ·å¯ä»¥ä¿è¯åªæœ‰åœ¨æ“ä½œçœŸæ­£æˆåŠŸæ‰§è¡Œåï¼Œæ‰ä¼šå°†æ“ä½œè®°å½•åˆ°AOFæ—¥å¿—ä¸­ï¼Œä»è€Œåœ¨æœåŠ¡å™¨é‡å¯åèƒ½å¤Ÿå‡†ç¡®åœ°é‡æ”¾è¿™äº›æ“ä½œï¼Œä¿æŒæ•°æ®çš„æ­£ç¡®æ€§ã€‚</p><h2 id="AOFæ—¥å¿—é‡Œé¢è®°å½•äº†ä»€ä¹ˆå†…å®¹å‘¢"><a href="#AOFæ—¥å¿—é‡Œé¢è®°å½•äº†ä»€ä¹ˆå†…å®¹å‘¢" class="headerlink" title="AOFæ—¥å¿—é‡Œé¢è®°å½•äº†ä»€ä¹ˆå†…å®¹å‘¢"></a>AOFæ—¥å¿—é‡Œé¢è®°å½•äº†ä»€ä¹ˆå†…å®¹å‘¢</h2><p>AOFï¼ˆAppend-Only Fileï¼‰æ—¥å¿—è®°å½•äº†æ¯ä¸ªå†™æ“ä½œå‘½ä»¤ï¼Œä»¥è¿½åŠ çš„æ–¹å¼å°†å‘½ä»¤å†™å…¥AOFæ–‡ä»¶ã€‚è¿™äº›å†™æ“ä½œå‘½ä»¤è¢«ä»¥ä¸€ç§åè®®æ ¼å¼ï¼ˆé€šå¸¸æ˜¯RESPåè®®ï¼‰å†™å…¥AOFæ–‡ä»¶ï¼Œä»¥æ–‡æœ¬å½¢å¼ä¿å­˜ã€‚ä¸‹é¢æ˜¯AOFæ—¥å¿—ä¸­è®°å½•çš„å†…å®¹ç¤ºä¾‹ï¼š</p><p>å‡è®¾æ‰§è¡Œäº†ä»¥ä¸‹æ“ä½œï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SET key1 value1</span><br><span class="line">INCR key2</span><br><span class="line">LPUSH list1 item1</span><br></pre></td></tr></table></figure><p>å¯¹åº”çš„AOFæ—¥å¿—å†…å®¹å¯èƒ½æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*3\r\n$3\r\nSET\r\n$4\r\nkey1\r\n$6\r\nvalue1\r\n</span><br><span class="line">*2\r\n$4\r\nINCR\r\n$4\r\nkey2\r\n</span><br><span class="line">*3\r\n$5\r\nLPUSH\r\n$5\r\nlist1\r\n$5\r\nitem1\r\n</span><br></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ¯ä¸ªå†™æ“ä½œéƒ½ä»¥RESPåè®®æ ¼å¼è®°å½•åœ¨AOFæ–‡ä»¶ä¸­ï¼Œä»¥ä¸€ç³»åˆ—å­—èŠ‚æ•°ç»„æ¥è¡¨ç¤ºå‘½ä»¤å’Œå‚æ•°ã€‚æ¯ä¸ªå†™æ“ä½œçš„è®°å½•ç”±å¤šè¡Œç»„æˆï¼Œä»¥\r\nåˆ†éš”ã€‚</p><ul><li><code>*3</code>ï¼šè¡¨ç¤ºå‘½ä»¤å‚æ•°çš„ä¸ªæ•°ä¸º3ã€‚</li><li><code>$3\r\nSET\r\n</code>ï¼šè¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ä¸ºé•¿åº¦ä¸º3çš„å­—ç¬¦ä¸² â€œSETâ€ã€‚</li><li><code>$4\r\nkey1\r\n</code>ï¼šè¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°ä¸ºé•¿åº¦ä¸º4çš„å­—ç¬¦ä¸² â€œkey1â€ã€‚</li><li><code>$6\r\nvalue1\r\n</code>ï¼šè¡¨ç¤ºç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºé•¿åº¦ä¸º6çš„å­—ç¬¦ä¸² â€œvalue1â€ã€‚</li></ul><p>è¿™æ ·çš„è®°å½•æ–¹å¼å…è®¸åœ¨AOFæ–‡ä»¶ä¸­æŒ‰ç…§æ“ä½œçš„é¡ºåºé€æ¡é‡æ”¾å†™æ“ä½œå‘½ä»¤ï¼Œä»è€Œå®ç°æ•°æ®åœ¨æœåŠ¡å™¨é‡å¯åçš„æ¢å¤ã€‚ç”±äºAOFè®°å½•çš„æ˜¯å†™æ“ä½œå‘½ä»¤æœ¬èº«ï¼Œæ‰€ä»¥åœ¨æ‰§è¡ŒAOFæ–‡ä»¶ä¸­çš„å‘½ä»¤æ—¶ï¼Œå¯ä»¥å®Œå…¨è¿˜åŸæ•°æ®çš„çŠ¶æ€ã€‚</p><h2 id="AOFæ—¥å¿—æ½œåœ¨çš„é—®é¢˜"><a href="#AOFæ—¥å¿—æ½œåœ¨çš„é—®é¢˜" class="headerlink" title="AOFæ—¥å¿—æ½œåœ¨çš„é—®é¢˜"></a>AOFæ—¥å¿—æ½œåœ¨çš„é—®é¢˜</h2><p>AOFï¼ˆAppend-Only Fileï¼‰å†™æ—¥å¿—æ˜¯Redisçš„æŒä¹…åŒ–æœºåˆ¶ä¹‹ä¸€ï¼Œå®ƒè®°å½•äº†æ¯ä¸ªå†™æ“ä½œå‘½ä»¤ï¼Œä»¥è¿½åŠ çš„æ–¹å¼å°†å‘½ä»¤å†™å…¥AOFæ–‡ä»¶ã€‚å°½ç®¡AOFå…·æœ‰è®¸å¤šä¼˜ç‚¹ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›é£é™©å’Œæ½œåœ¨çš„é—®é¢˜ï¼Œéœ€è¦æ³¨æ„å’Œç®¡ç†ï¼š</p><p><strong>1. ç£ç›˜IOå¼€é”€ï¼š</strong><br>AOFæ—¥å¿—ä»¥è¿½åŠ å†™å…¥æ–¹å¼å·¥ä½œï¼Œæ¯æ¬¡å†™å…¥æ“ä½œéƒ½ä¼šç›´æ¥è¿½åŠ åˆ°AOFæ–‡ä»¶æœ«å°¾ã€‚è¿™æ„å‘³ç€é¢‘ç¹çš„å†™å…¥æ“ä½œå¯èƒ½ä¼šå¯¼è‡´ç£ç›˜IOå¼€é”€å¢åŠ ï¼Œå¯èƒ½ä¼šå½±å“ç³»ç»Ÿçš„æ€§èƒ½å’Œå“åº”æ—¶é—´ã€‚</p><p><strong>2. ç£ç›˜ç©ºé—´å ç”¨ï¼š</strong><br>AOFæ—¥å¿—è®°å½•çš„æ˜¯æ¯ä¸ªå†™æ“ä½œå‘½ä»¤æœ¬èº«ï¼Œç›¸æ¯”äºRDBå¿«ç…§ï¼ŒAOFæ–‡ä»¶å¯èƒ½ä¼šæ›´å¤§ã€‚å¦‚æœå†™å…¥æ“ä½œé¢‘ç¹ï¼ŒAOFæ–‡ä»¶å¯èƒ½ä¼šä¸æ–­å¢å¤§ï¼Œå ç”¨è¿‡å¤šçš„ç£ç›˜ç©ºé—´ã€‚</p><p><strong>3. æ•°æ®ä¸€è‡´æ€§ï¼š</strong><br>å°½ç®¡AOFçš„å…ˆæ‰§è¡Œå‘½ä»¤å†è®°å½•æ—¥å¿—çš„æœºåˆ¶ä¿è¯äº†æ•°æ®ä¸€è‡´æ€§ï¼Œä½†å¦‚æœåœ¨è®°å½•æ—¥å¿—å‰å‘ç”ŸæœåŠ¡å™¨å´©æºƒï¼Œå°šæœªè®°å½•çš„æ“ä½œå¯èƒ½ä¼šä¸¢å¤±ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚</p><p><strong>4. AOFæ–‡ä»¶æŸåï¼š</strong><br>ç”±äºAOFæ–‡ä»¶æ˜¯ä»¥æ–‡æœ¬æ ¼å¼è®°å½•çš„å‘½ä»¤ï¼Œå¦‚æœAOFæ–‡ä»¶åœ¨å†™å…¥æˆ–å­˜å‚¨è¿‡ç¨‹ä¸­å—åˆ°æŸåï¼Œå¯èƒ½å¯¼è‡´æ•°æ®æ¢å¤æ—¶å‡ºç°é—®é¢˜ï¼Œç”šè‡³æ— æ³•æ­£ç¡®æ¢å¤æ•°æ®ã€‚</p><p><strong>5. AOFé‡å†™è€—æ—¶ï¼š</strong><br>AOFé‡å†™æ˜¯ä¸ºäº†å‡å°AOFæ–‡ä»¶çš„å¤§å°ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªè€—æ—¶çš„æ“ä½œï¼Œå¯èƒ½ä¼šå¯¹ç³»ç»Ÿæ€§èƒ½äº§ç”Ÿå½±å“ï¼Œå°¤å…¶æ˜¯åœ¨å¤§æ•°æ®é›†çš„æƒ…å†µä¸‹ã€‚</p><p><strong>6. AOFé‡å†™å¯èƒ½å¼•å‘çš„é—®é¢˜ï¼š</strong><br>AOFé‡å†™è¿‡ç¨‹ä¸­å¯èƒ½ä¼šå› ä¸ºå„ç§åŸå› å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œä¾‹å¦‚ä¸­æ–­çš„é‡å†™è¿‡ç¨‹ã€æ–‡ä»¶ç³»ç»Ÿé—®é¢˜ç­‰ã€‚åœ¨æ‰§è¡ŒAOFé‡å†™æ—¶ï¼Œéœ€è¦è°¨æ…å¯¹å¾…ï¼Œç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ã€‚</p><p><strong>7. AOFæ–‡ä»¶åˆå¹¶ï¼š</strong><br>åœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œå¯èƒ½éœ€è¦å°†å¤šä¸ªAOFæ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªï¼Œè¿™æ ·çš„æ“ä½œéœ€è¦å°å¿ƒå¤„ç†ï¼Œä»¥é¿å…æ•°æ®ä¸¢å¤±æˆ–é”™è¯¯ã€‚</p><p><strong>8. ç¡¬ä»¶æ•…éšœï¼š</strong><br>è™½ç„¶AOFå¯ä»¥æä¾›æŒä¹…æ€§ä¿è¯ï¼Œä½†ç¡¬ä»¶æ•…éšœï¼ˆä¾‹å¦‚ç£ç›˜æ•…éšœï¼‰å¯èƒ½ä¼šå¯¼è‡´AOFæ–‡ä»¶ä¸¢å¤±æˆ–æŸåï¼Œéœ€è¦é€‚å½“çš„å¤‡ä»½å’Œæ¢å¤ç­–ç•¥ã€‚</p><p>ä¸ºäº†å‡è½»AOFå†™æ—¥å¿—å¸¦æ¥çš„é£é™©ï¼Œå¯ä»¥é‡‡å–ä¸€äº›æªæ–½ï¼Œå¦‚é€‰æ‹©é€‚å½“çš„AOFåŒæ­¥ç­–ç•¥ã€å®šæœŸå¤‡ä»½AOFæ–‡ä»¶ã€ç›‘æ§AOFæ–‡ä»¶çš„å¤§å°å’ŒçŠ¶æ€ã€å®šæœŸæ‰§è¡ŒAOFé‡å†™ã€å¤‡ä»½æ•°æ®ç­‰ã€‚è¿™äº›ç­–ç•¥å¯ä»¥å¸®åŠ©å‡å°‘æ½œåœ¨çš„é—®é¢˜ï¼Œå¹¶æé«˜ç³»ç»Ÿçš„å¯é æ€§ã€‚</p><h2 id="AOFæ—¥å¿—ä¸‰ç§å†™å›ç­–ç•¥"><a href="#AOFæ—¥å¿—ä¸‰ç§å†™å›ç­–ç•¥" class="headerlink" title="AOFæ—¥å¿—ä¸‰ç§å†™å›ç­–ç•¥"></a>AOFæ—¥å¿—ä¸‰ç§å†™å›ç­–ç•¥</h2><p>AOFï¼ˆAppend-Only Fileï¼‰æŒä¹…åŒ–æœºåˆ¶åœ¨Redisä¸­æœ‰ä¸‰ç§ä¸åŒçš„å†™å›ï¼ˆsyncï¼‰ç­–ç•¥ï¼Œç”¨äºæ§åˆ¶ä½•æ—¶å°†AOFç¼“å†²åŒºä¸­çš„å†™å…¥æ“ä½œåˆ·æ–°åˆ°ç£ç›˜ä¸Šçš„AOFæ–‡ä»¶ã€‚è¿™äº›ç­–ç•¥å†³å®šäº†AOFæ—¥å¿—çš„åŒæ­¥é¢‘ç‡ï¼Œå½±å“äº†æ•°æ®çš„æŒä¹…æ€§å’Œæ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯è¿™ä¸‰ç§å†™å›ç­–ç•¥ï¼š</p><p><strong>1. alwaysï¼ˆå§‹ç»ˆåŒæ­¥ï¼‰ï¼š</strong><br>åœ¨è¿™ä¸ªç­–ç•¥ä¸‹ï¼Œæ¯æ¬¡æ‰§è¡Œå†™å…¥æ“ä½œä¹‹åï¼ŒRediséƒ½ä¼šç«‹å³å°†å†™å…¥æ“ä½œåˆ·æ–°åˆ°ç£ç›˜ï¼Œç¡®ä¿å†™å…¥æ“ä½œå·²ç»æŒä¹…åŒ–ã€‚è™½ç„¶è¿™ç§æ–¹å¼èƒ½å¤Ÿæä¾›æœ€é«˜çš„æ•°æ®ä¿è¯ï¼Œä½†ä¹Ÿæ˜¯æ€§èƒ½å¼€é”€æœ€å¤§çš„ä¸€ç§æ–¹å¼ï¼Œå› ä¸ºæ¯æ¬¡å†™å…¥æ“ä½œéƒ½ä¼šå¼•èµ·ç£ç›˜IOã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>æœ€é«˜çš„æ•°æ®ä¿è¯ï¼Œå³ä½¿ç³»ç»Ÿå´©æºƒï¼Œä¹Ÿåªä¼šä¸¢å¤±ä¸Šä¸€ä¸ªå†™å…¥æ“ä½œã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>æ€§èƒ½å¼€é”€è¾ƒå¤§ï¼Œé¢‘ç¹çš„ç£ç›˜IOå¯èƒ½å½±å“ç³»ç»Ÿçš„æ€§èƒ½å’Œå“åº”æ—¶é—´ã€‚</li></ul><p><strong>2. everysecï¼ˆæ¯ç§’åŒæ­¥ï¼‰ï¼š</strong><br>åœ¨è¿™ä¸ªç­–ç•¥ä¸‹ï¼ŒRedisä¼šæ¯ç§’ä¸€æ¬¡å°†AOFç¼“å†²åŒºä¸­çš„å†™å…¥æ“ä½œæ‰¹é‡åˆ·æ–°åˆ°ç£ç›˜ä¸Šçš„AOFæ–‡ä»¶ã€‚è¿™æ ·å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¹³è¡¡æ•°æ®ä¿è¯å’Œæ€§èƒ½ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>è¾ƒé«˜çš„æ•°æ®ä¿è¯ï¼Œæ¯ç§’ä¸€æ¬¡çš„åŒæ­¥ä¿è¯äº†ä¸ä¼šä¸¢å¤±è¿‡å¤šçš„å†™å…¥æ“ä½œã€‚</li><li>æ€§èƒ½å¼€é”€ç›¸å¯¹è¾ƒä½ï¼Œå› ä¸ºæ˜¯æ¯ç§’ä¸€æ¬¡çš„æ‰¹é‡åˆ·æ–°ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>åœ¨ä¸€ç§’å†…çš„æ“ä½œå¯èƒ½ä¼šä¸¢å¤±ã€‚</li></ul><p><strong>3. noï¼ˆä¸åŒæ­¥ï¼‰ï¼š</strong><br>è¿™ä¸ªç­–ç•¥ä¸‹ï¼ŒRedisä¸ä¼šä¸»åŠ¨å°†AOFç¼“å†²åŒºä¸­çš„å†™å…¥æ“ä½œåˆ·æ–°åˆ°ç£ç›˜ï¼Œè€Œæ˜¯ç”±æ“ä½œç³»ç»Ÿæ¥å†³å®šä½•æ—¶å°†æ•°æ®å†™å…¥ç£ç›˜ã€‚è¿™æ˜¯æ€§èƒ½å¼€é”€æœ€å°çš„æ–¹å¼ï¼Œä½†æ•°æ®æŒä¹…æ€§ç›¸å¯¹è¾ƒä½ã€‚</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>æœ€å°çš„æ€§èƒ½å¼€é”€ï¼Œå‡ ä¹ä¸ä¼šå½±å“ç³»ç»Ÿçš„å“åº”æ—¶é—´ã€‚</li><li>æœ€é«˜çš„æ€§èƒ½è¡¨ç°ï¼Œå†™å…¥æ“ä½œä¸ä¼šå¯¼è‡´é¢‘ç¹çš„ç£ç›˜IOã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>æ•°æ®æŒä¹…æ€§è¾ƒä½ï¼Œå¦‚æœç³»ç»Ÿå´©æºƒï¼Œå¯èƒ½ä¼šä¸¢å¤±å¤šä¸ªå†™å…¥æ“ä½œã€‚</li></ul><p>é€‰æ‹©åˆé€‚çš„AOFå†™å›ç­–ç•¥å–å†³äºæ•°æ®çš„é‡è¦æ€§å’Œæ€§èƒ½éœ€æ±‚ã€‚å¦‚æœæ•°æ®å®‰å…¨æ€§æœ€ä¸ºé‡è¦ï¼Œå¯ä»¥é€‰æ‹©<code>always</code>ç­–ç•¥ã€‚å¦‚æœåœ¨æ•°æ®ä¸€è‡´æ€§å’Œæ€§èƒ½ä¹‹é—´éœ€è¦å¹³è¡¡ï¼Œå¯ä»¥é€‰æ‹©<code>everysec</code>ç­–ç•¥ã€‚å¦‚æœå¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜ï¼Œè€Œå¯ä»¥æ¥å—ä¸€å®šç¨‹åº¦çš„æ•°æ®ä¸¢å¤±ï¼Œå¯ä»¥é€‰æ‹©<code>no</code>ç­–ç•¥ã€‚æ ¹æ®å®é™…æƒ…å†µï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚æ¥é…ç½®AOFçš„å†™å›ç­–ç•¥ã€‚</p><p>è¿™é‡Œå‘¢ç»™å¤§å®¶æ€»ç»“ä¸€ä¸‹å„ç§é…ç½®çš„ä¼˜ç¼ºç‚¹<br><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308131434405.png"></p><h2 id="æ—¥å¿—æ–‡ä»¶å¤ªå¤§äº†æ€ä¹ˆåŠ"><a href="#æ—¥å¿—æ–‡ä»¶å¤ªå¤§äº†æ€ä¹ˆåŠ" class="headerlink" title="æ—¥å¿—æ–‡ä»¶å¤ªå¤§äº†æ€ä¹ˆåŠ"></a>æ—¥å¿—æ–‡ä»¶å¤ªå¤§äº†æ€ä¹ˆåŠ</h2><p>AOFï¼ˆAppend-Only Fileï¼‰é‡å†™æ˜¯ä¸ºäº†å‡å°AOFæ–‡ä»¶çš„å¤§å°ï¼Œé¿å…AOFæ–‡ä»¶ä¸æ–­å¢å¤§å¯¼è‡´çš„ç£ç›˜ç©ºé—´å ç”¨é—®é¢˜ã€‚AOFé‡å†™æ˜¯ä¸€ç§ä»¥å…¨é‡çš„æ–¹å¼ç”Ÿæˆæ–°çš„AOFæ–‡ä»¶ï¼Œå…¶ä¸­è®°å½•çš„æ˜¯ä¸€ä¸ªæ•°æ®é›†çš„å†™å…¥æ“ä½œï¼Œè¿™ä¸ªæ•°æ®é›†çš„å¤§å°é€šå¸¸æ¯”åŸå§‹AOFæ–‡ä»¶å°å¾ˆå¤šã€‚</p><p>AOFé‡å†™çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š</p><ol><li><p><strong>è§¦å‘é‡å†™ï¼š</strong><br>AOFé‡å†™å¯ä»¥æ‰‹åŠ¨è§¦å‘ï¼Œä¹Ÿå¯ä»¥æ ¹æ®é…ç½®è‡ªåŠ¨è§¦å‘ã€‚å½“æ»¡è¶³ä¸€å®šæ¡ä»¶ï¼ˆä¾‹å¦‚AOFæ–‡ä»¶å¤§å°è¶…è¿‡æŒ‡å®šç™¾åˆ†æ¯”æˆ–æœ€å°å¤§å°ï¼‰æ—¶ï¼ŒRedisä¼šå¯åŠ¨AOFé‡å†™è¿‡ç¨‹ã€‚</p></li><li><p><strong>åå°è¿›ç¨‹å¯åŠ¨ï¼š</strong><br>å½“AOFé‡å†™è§¦å‘æ—¶ï¼ŒRedisä¼šå¯åŠ¨ä¸€ä¸ªå­è¿›ç¨‹ï¼Œè¿™ä¸ªå­è¿›ç¨‹ä¼šè´Ÿè´£æ‰§è¡ŒAOFé‡å†™æ“ä½œã€‚</p></li><li><p><strong>åˆ›å»ºæ•°æ®é›†å¿«ç…§ï¼š</strong><br>åœ¨å­è¿›ç¨‹ä¸­ï¼ŒRedisä¼šåˆ›å»ºä¸€ä¸ªæ•°æ®é›†çš„å†…å­˜å¿«ç…§ï¼Œå³å†…å­˜ä¸­æ•°æ®åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„å¿«ç…§ã€‚</p></li><li><p><strong>éå†æ•°æ®é›†ï¼š</strong><br>å­è¿›ç¨‹å¼€å§‹éå†æ•°æ®é›†ä¸­çš„é”®ï¼Œå¹¶å°†å†™æ“ä½œè½¬æ¢æˆå‘½ä»¤åºåˆ—ã€‚</p></li><li><p><strong>ç”Ÿæˆæ–°AOFæ–‡ä»¶ï¼š</strong><br>å­è¿›ç¨‹ä¼šå°†éå†æœŸé—´ç”Ÿæˆçš„å‘½ä»¤åºåˆ—è¿½åŠ åˆ°æ–°çš„AOFæ–‡ä»¶ä¸­ï¼Œè¿™ä¸ªæ–°æ–‡ä»¶æ˜¯ç´§å‡‘çš„ï¼ŒåªåŒ…å«äº†æ•°æ®é›†åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„å†™å…¥æ“ä½œã€‚</p></li><li><p><strong>æ›¿æ¢åŸAOFæ–‡ä»¶ï¼š</strong><br>å½“æ–°çš„AOFæ–‡ä»¶ç”Ÿæˆå®Œæˆåï¼Œå­è¿›ç¨‹ä¼šå°†åŸå§‹çš„AOFæ–‡ä»¶æ›¿æ¢ä¸ºæ–°çš„AOFæ–‡ä»¶ã€‚è¿™ä¸€æ­¥é€šå¸¸å¾ˆå¿«ï¼Œå› ä¸ºæ–°çš„AOFæ–‡ä»¶ç›¸å¯¹è¾ƒå°ã€‚</p></li><li><p><strong>ä¸»çº¿ç¨‹ç»§ç»­æœåŠ¡ï¼š</strong><br>åœ¨AOFé‡å†™è¿‡ç¨‹ä¸­ï¼Œä¸»çº¿ç¨‹ä»ç„¶å¯ä»¥ç»§ç»­å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå“åº”è¯»å–æ“ä½œç­‰ï¼Œä¸ä¼šè¢«é˜»å¡ã€‚</p></li></ol><p>AOFé‡å†™çš„ä¼˜åŠ¿åœ¨äºå®ƒå¯ä»¥ç”Ÿæˆä¸€ä¸ªæ›´å°ã€æ›´ç´§å‡‘çš„AOFæ–‡ä»¶ï¼Œé¿å…äº†ä¸æ–­å¢å¤§çš„AOFæ–‡ä»¶æ‰€å¸¦æ¥çš„ç£ç›˜ç©ºé—´å’Œè¯»å†™å¼€é”€ã€‚æ­¤å¤–ï¼Œæ–°çš„AOFæ–‡ä»¶åªåŒ…å«äº†å†™å…¥æ“ä½œï¼Œæ²¡æœ‰ä¹‹å‰çš„è¯»æ“ä½œï¼Œå› æ­¤å®ƒåœ¨æ¢å¤æ•°æ®æ—¶ä¸éœ€è¦è€ƒè™‘ä¹‹å‰çš„è¯»æ“ä½œã€‚</p><p>AOFé‡å†™å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è§¦å‘ï¼š</p><ul><li>æ‰‹åŠ¨è§¦å‘ï¼šå¯ä»¥ä½¿ç”¨<code>BGREWRITEAOF</code>å‘½ä»¤æ‰‹åŠ¨è§¦å‘AOFé‡å†™ã€‚</li><li>è‡ªåŠ¨è§¦å‘ï¼šå¯ä»¥é€šè¿‡è®¾ç½®<code>auto-aof-rewrite-percentage</code>å’Œ<code>auto-aof-rewrite-min-size</code>æ¥è‡ªåŠ¨è§¦å‘AOFé‡å†™ã€‚å½“AOFæ–‡ä»¶å¤§å°è¾¾åˆ°æŒ‡å®šçš„ç™¾åˆ†æ¯”æˆ–æœ€å°å¤§å°æ—¶ï¼ŒRedisä¼šè‡ªåŠ¨å¯åŠ¨AOFé‡å†™ã€‚</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒAOFé‡å†™æ˜¯ä¸€ä¸ªèµ„æºå¯†é›†å‹æ“ä½œï¼Œå¯èƒ½ä¼šå½±å“ç³»ç»Ÿçš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§æ•°æ®é›†çš„æƒ…å†µä¸‹ã€‚å› æ­¤ï¼Œåœ¨è¿›è¡ŒAOFé‡å†™æ—¶ï¼Œåº”è¯¥è€ƒè™‘å…¶å¯¹ç³»ç»Ÿæ€§èƒ½çš„å½±å“ï¼Œå¹¶ç¡®ä¿ç³»ç»Ÿå…·å¤‡è¶³å¤Ÿçš„èµ„æºæ¥æ‰§è¡Œé‡å†™æ“ä½œã€‚<br>ä¸‹é¢ä¸¾ä¾‹è¯´æ˜ä¸€ä¸‹ï¼š<br><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308131436435.png" alt="AOFé‡å†™å‡å°‘æ–‡ä»¶å¤§å°"><br>è¿™é‡Œå¤§å®¶èƒ½çœ‹åˆ°ï¼Œç»è¿‡ä¼˜åŒ–åï¼ŒAOFæ—¥å¿—æ–‡ä»¶ä¼šç¼©å°å¾ˆå¤šï¼Œä½†æ˜¯ï¼Œè¦æŠŠæ•´ä¸ªæ•°æ®åº“çš„æœ€æ–°æ•°æ®çš„æ“ä½œæ—¥å¿—éƒ½å†™å›ç£ç›˜ï¼Œä»ç„¶æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„è¿‡ç¨‹ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±è¦ç»§ç»­å…³æ³¨å¦ä¸€ä¸ªé—®é¢˜äº†ã€‚</p><h2 id="é‡å†™ä¼šä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Ÿ"><a href="#é‡å†™ä¼šä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Ÿ" class="headerlink" title="é‡å†™ä¼šä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Ÿ"></a>é‡å†™ä¼šä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Ÿ</h2><p>AOFé‡å†™ä¸ä¼šé˜»å¡Redisçš„ä¸»çº¿ç¨‹ã€‚Redisçš„AOFé‡å†™æ˜¯ä½œä¸ºä¸€ä¸ªåå°è¿›ç¨‹ï¼ˆå­è¿›ç¨‹ï¼‰æ¥æ‰§è¡Œçš„ï¼Œä¸ä¼šå½±å“ä¸»è¦çš„æœåŠ¡çº¿ç¨‹ã€‚</p><p>AOFé‡å†™è¿‡ç¨‹ä¸­ï¼ŒRedisä¼šåˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹æ¥éå†æ•°æ®é›†ï¼Œå°†å†™æ“ä½œè½¬æ¢ä¸ºå‘½ä»¤åºåˆ—ï¼Œå¹¶ç”Ÿæˆæ–°çš„AOFæ–‡ä»¶ã€‚ä¸»çº¿ç¨‹ä»ç„¶å¯ä»¥ç»§ç»­å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå“åº”è¯»å–æ“ä½œç­‰ã€‚</p><p>è¿™ç§è®¾è®¡ä½¿å¾—Redisèƒ½å¤Ÿåœ¨ä¸ä¸­æ–­æœåŠ¡çš„æƒ…å†µä¸‹æ‰§è¡ŒAOFé‡å†™ï¼Œä»è€Œå‡å°‘å¯¹ç³»ç»Ÿçš„å½±å“ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶AOFé‡å†™ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œä½†å®ƒä»ç„¶æ˜¯ä¸€ä¸ªèµ„æºå¯†é›†å‹æ“ä½œï¼Œå¯èƒ½ä¼šå ç”¨è¾ƒå¤šçš„CPUå’Œå†…å­˜èµ„æºï¼Œå› æ­¤åœ¨è¿›è¡ŒAOFé‡å†™æ—¶ï¼Œéœ€è¦è€ƒè™‘ç³»ç»Ÿçš„èµ„æºæƒ…å†µï¼Œé¿å…å½±å“å…¶ä»–ä¸šåŠ¡æ“ä½œã€‚</p><h1 id="RDBå¿«ç…§æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"><a href="#RDBå¿«ç…§æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ" class="headerlink" title="RDBå¿«ç…§æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"></a>RDBå¿«ç…§æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h1><p>RDBï¼ˆRedis DataBaseï¼‰æ˜¯Redisçš„ä¸€ç§æŒä¹…åŒ–æœºåˆ¶ï¼Œç”¨äºå°†æ•°æ®ä»å†…å­˜ä¸­ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œä»¥ä¾¿åœ¨æœåŠ¡å™¨é‡å¯æ—¶æ¢å¤æ•°æ®ã€‚RDBé€šè¿‡åˆ›å»ºä¸€ä¸ªå¿«ç…§ï¼ˆSnapshotï¼‰æ¥ä¿å­˜æ•°æ®åº“åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„æ•°æ®çŠ¶æ€ï¼Œç„¶åå°†è¿™ä¸ªå¿«ç…§ä¿å­˜åˆ°ç£ç›˜ä¸Šçš„ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚</p><p><strong>RDBçš„å®ç°è¿‡ç¨‹ï¼š</strong></p><ol><li><p><strong>åˆ›å»ºå¿«ç…§ï¼š</strong><br>å½“RDBæŒä¹…åŒ–è¢«è§¦å‘æ—¶ï¼ˆå¯ä»¥æ‰‹åŠ¨è§¦å‘æˆ–æ ¹æ®é…ç½®è‡ªåŠ¨è§¦å‘ï¼‰ï¼ŒRedisä¼šç”Ÿæˆä¸€ä¸ªæ•°æ®é›†çš„å†…å­˜å¿«ç…§ã€‚è¿™ä¸ªå¿«ç…§åŒ…å«äº†æ•°æ®åº“åœ¨æŸä¸ªæ—¶é—´ç‚¹çš„æ‰€æœ‰é”®å€¼å¯¹ä»¥åŠç›¸å…³çš„æ•°æ®ç»“æ„ä¿¡æ¯ã€‚</p></li><li><p><strong>å¿«ç…§æ•°æ®åºåˆ—åŒ–ï¼š</strong><br>åœ¨åˆ›å»ºå¿«ç…§åï¼ŒRedisä¼šå°†å¿«ç…§ä¸­çš„æ•°æ®è¿›è¡Œåºåˆ—åŒ–ï¼Œå°†é”®ã€å€¼ã€è¿‡æœŸæ—¶é—´ç­‰ä¿¡æ¯æŒ‰ç…§ä¸€å®šçš„æ ¼å¼ç¼–ç æˆäºŒè¿›åˆ¶æ•°æ®ã€‚</p></li><li><p><strong>ä¿å­˜åˆ°æ–‡ä»¶ï¼š</strong><br>å°†åºåˆ—åŒ–åçš„æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸Šçš„RDBæ–‡ä»¶ä¸­ã€‚RDBæ–‡ä»¶çš„æ‰©å±•åé€šå¸¸ä¸º<code>.rdb</code>ã€‚</p></li><li><p><strong>æŒä¹…åŒ–å®Œæˆï¼š</strong><br>ä¸€æ—¦RDBæ–‡ä»¶ä¿å­˜å®Œæˆï¼ŒæŒä¹…åŒ–è¿‡ç¨‹ç»“æŸã€‚è¿™ä¸ªRDBæ–‡ä»¶åŒ…å«äº†æ•°æ®åº“åœ¨å¿«ç…§æ—¶é—´ç‚¹çš„å®Œæ•´æ•°æ®çŠ¶æ€ã€‚</p></li></ol><p><strong>RDBçš„ä¼˜ç¼ºç‚¹ï¼š</strong></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li><strong>ç´§å‡‘çš„æ•°æ®æ ¼å¼ï¼š</strong> RDBæ–‡ä»¶æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‡‡ç”¨äº†ç´§å‡‘çš„ç¼–ç æ ¼å¼ï¼Œå› æ­¤åœ¨ç£ç›˜ä¸Šå ç”¨çš„ç©ºé—´ç›¸å¯¹è¾ƒå°ã€‚</li><li><strong>å¿«é€Ÿæ¢å¤ï¼š</strong> åœ¨æ¢å¤æ•°æ®æ—¶ï¼Œé€šè¿‡åŠ è½½RDBæ–‡ä»¶ï¼Œå¯ä»¥å¿«é€Ÿåœ°å°†æ•°æ®æ¢å¤åˆ°æŒ‡å®šæ—¶é—´ç‚¹çš„çŠ¶æ€ã€‚</li><li><strong>é€‚ç”¨äºå¤‡ä»½å’Œæ¢å¤ï¼š</strong> RDBæ–‡ä»¶é€‚ç”¨äºè¿›è¡Œæ•°æ®å¤‡ä»½ã€è¿ç§»å’Œç¾éš¾æ¢å¤ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¤åˆ¶åˆ°å…¶ä»–æœåŠ¡å™¨ä¸Šã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li><strong>æ•°æ®ä¸¢å¤±ï¼š</strong> ç”±äºRDBæ˜¯å‘¨æœŸæ€§çš„å…¨é‡æŒä¹…åŒ–ï¼Œå¯èƒ½ä¼šå¯¼è‡´æŸä¸ªæ—¶é—´ç‚¹ä¹‹åçš„æ•°æ®ä¸¢å¤±ã€‚</li><li><strong>IOå¼€é”€ï¼š</strong> RDBæŒä¹…åŒ–æ—¶ï¼Œéœ€è¦å°†æ•´ä¸ªæ•°æ®é›†å†™å…¥ç£ç›˜ï¼Œå¯èƒ½åœ¨å¤§æ•°æ®é›†ä¸Šå¼•èµ·IOå¼€é”€ï¼Œå½±å“æ€§èƒ½ã€‚</li><li><strong>è€—æ—¶ï¼š</strong> åœ¨ç”ŸæˆRDBå¿«ç…§çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ•°æ®é›†å¾ˆå¤§ï¼Œå¯èƒ½ä¼šå ç”¨è¾ƒå¤šçš„CPUèµ„æºï¼Œå¯¼è‡´çŸ­æ—¶é—´å†…çš„æ€§èƒ½ä¸‹é™ã€‚</li></ul><p>æ€»çš„æ¥è¯´ï¼ŒRDBæŒä¹…åŒ–é€‚ç”¨äºéœ€è¦ç´§å‡‘çš„å¤‡ä»½å’Œæ•°æ®è¿ç§»ï¼Œä»¥åŠåœ¨æœåŠ¡å™¨é‡å¯æ—¶éœ€è¦å¿«é€Ÿæ¢å¤æ•°æ®çš„åœºæ™¯ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRDBçš„å…¨é‡æŒä¹…åŒ–å¯èƒ½ä¼šå¯¼è‡´æŸäº›æ•°æ®çš„ä¸¢å¤±ï¼Œå› æ­¤åœ¨é€‰æ‹©æŒä¹…åŒ–æ–¹å¼æ—¶éœ€è¦æƒè¡¡æ•°æ®çš„é‡è¦æ€§å’Œæ€§èƒ½éœ€æ±‚ã€‚</p><h2 id="ç»™å“ªäº›å†…å­˜æ•°æ®åšå¿«ç…§ï¼Ÿ"><a href="#ç»™å“ªäº›å†…å­˜æ•°æ®åšå¿«ç…§ï¼Ÿ" class="headerlink" title="ç»™å“ªäº›å†…å­˜æ•°æ®åšå¿«ç…§ï¼Ÿ"></a>ç»™å“ªäº›å†…å­˜æ•°æ®åšå¿«ç…§ï¼Ÿ</h2><p>åœ¨RDBæŒä¹…åŒ–ä¸­ï¼ŒRedisä¼šå¯¹å†…å­˜ä¸­çš„å„ç§æ•°æ®è¿›è¡Œå¿«ç…§ï¼Œå°†æ•°æ®ä¿å­˜åˆ°RDBæ–‡ä»¶ä¸­ã€‚è¿™äº›å†…å­˜æ•°æ®åŒ…æ‹¬ï¼š</p><ol><li><p><strong>å­—ç¬¦ä¸²ç±»å‹æ•°æ®ï¼š</strong> åŒ…æ‹¬ä½¿ç”¨<code>SET</code>å‘½ä»¤è®¾ç½®çš„å­—ç¬¦ä¸²é”®å€¼å¯¹ã€‚</p></li><li><p><strong>å“ˆå¸Œè¡¨ï¼ˆHashï¼‰ï¼š</strong> åŒ…æ‹¬ä½¿ç”¨<code>HSET</code>ã€<code>HMSET</code>ç­‰å‘½ä»¤è®¾ç½®çš„å“ˆå¸Œé”®å€¼å¯¹ã€‚</p></li><li><p><strong>åˆ—è¡¨ï¼ˆListï¼‰ï¼š</strong> åŒ…æ‹¬ä½¿ç”¨<code>LPUSH</code>ã€<code>RPUSH</code>ç­‰å‘½ä»¤æ·»åŠ çš„åˆ—è¡¨å…ƒç´ ã€‚</p></li><li><p><strong>é›†åˆï¼ˆSetï¼‰ï¼š</strong> åŒ…æ‹¬ä½¿ç”¨<code>SADD</code>ç­‰å‘½ä»¤æ·»åŠ çš„é›†åˆå…ƒç´ ã€‚</p></li><li><p><strong>æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ï¼š</strong> åŒ…æ‹¬ä½¿ç”¨<code>ZADD</code>ç­‰å‘½ä»¤æ·»åŠ çš„æœ‰åºé›†åˆå…ƒç´ ã€‚</p></li><li><p><strong>Bitmapsã€HyperLogLogsã€Streamsï¼š</strong> åŒ…æ‹¬è¿™äº›ç‰¹æ®Šæ•°æ®ç±»å‹çš„å†…å®¹ã€‚</p></li><li><p><strong>è¿‡æœŸæ—¶é—´ï¼š</strong> å¿«ç…§ä¼šè®°å½•æ¯ä¸ªé”®çš„è¿‡æœŸæ—¶é—´ï¼Œä»¥ä¾¿åœ¨æ¢å¤æ•°æ®æ—¶è¿›è¡Œè¿‡æœŸåˆ¤æ–­ã€‚</p></li><li><p><strong>æ•°æ®åº“é…ç½®ï¼š</strong> åŒ…æ‹¬æ•°æ®åº“çš„é…ç½®ä¿¡æ¯ï¼Œå¦‚æ•°æ®åº“ç¼–å·ã€é”®ç©ºé—´çš„é€‰é¡¹ç­‰ã€‚</p></li><li><p><strong>æœåŠ¡å™¨ä¿¡æ¯ï¼š</strong> åŒ…æ‹¬æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œå¦‚ç‰ˆæœ¬å·ã€è¿è¡Œæ¨¡å¼ç­‰ã€‚</p></li><li><p><strong>å®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯ï¼š</strong> åŒ…æ‹¬å®¢æˆ·ç«¯è¿æ¥çš„ä¿¡æ¯ã€‚</p></li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRDBæŒä¹…åŒ–æ˜¯ä¸€ç§å…¨é‡æŒä¹…åŒ–æœºåˆ¶ï¼Œå®ƒä¼šåœ¨æŸä¸ªæ—¶é—´ç‚¹ç”Ÿæˆä¸€ä¸ªæ•°æ®åº“çš„å¿«ç…§ï¼Œå°†æ‰€æœ‰å†…å­˜ä¸­çš„æ•°æ®ä¿å­˜åˆ°RDBæ–‡ä»¶ä¸­ã€‚è¿™ç§æ–¹å¼æœ‰ä¸€äº›ä¼˜ç‚¹ï¼Œå¦‚ç´§å‡‘çš„æ•°æ®æ ¼å¼å’Œå¿«é€Ÿæ¢å¤ï¼Œä½†ä¹Ÿæœ‰ç¼ºç‚¹ï¼Œå¦‚å¯èƒ½é€ æˆæ•°æ®ä¸¢å¤±å’ŒIOå¼€é”€ã€‚åœ¨é€‰æ‹©ä½¿ç”¨RDBæŒä¹…åŒ–æ—¶ï¼Œéœ€è¦æƒè¡¡è¿™äº›ä¼˜ç¼ºç‚¹ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥ç¡®å®šæ˜¯å¦é€‚åˆä½¿ç”¨ã€‚</p><h2 id="å“ªäº›å‘½ä»¤èƒ½ç”ŸæˆRDBæ–‡ä»¶ï¼Ÿ"><a href="#å“ªäº›å‘½ä»¤èƒ½ç”ŸæˆRDBæ–‡ä»¶ï¼Ÿ" class="headerlink" title="å“ªäº›å‘½ä»¤èƒ½ç”ŸæˆRDBæ–‡ä»¶ï¼Ÿ"></a>å“ªäº›å‘½ä»¤èƒ½ç”ŸæˆRDBæ–‡ä»¶ï¼Ÿ</h2><p>RDBæ–‡ä»¶æ˜¯é€šè¿‡æ‰§è¡ŒæŒä¹…åŒ–æ“ä½œæ¥ç”Ÿæˆçš„ï¼Œè€Œä¸æ˜¯é€šè¿‡ç‰¹å®šçš„å‘½ä»¤æ¥ç”Ÿæˆã€‚åœ¨Redisä¸­ï¼Œå¯ä»¥æ‰‹åŠ¨è§¦å‘RDBæŒä¹…åŒ–æ“ä½œï¼Œä¹Ÿå¯ä»¥æ ¹æ®é…ç½®è‡ªåŠ¨è§¦å‘ã€‚ä»¥ä¸‹æ˜¯ç”ŸæˆRDBæ–‡ä»¶çš„æ–¹å¼ï¼š</p><ol><li><p><strong>æ‰‹åŠ¨è§¦å‘ï¼š</strong><br>ä½¿ç”¨<code>SAVE</code>å‘½ä»¤å¯ä»¥æ‰‹åŠ¨è§¦å‘RDBæŒä¹…åŒ–æ“ä½œï¼Œè¯¥å‘½ä»¤ä¼š<strong>é˜»å¡æœåŠ¡å™¨</strong>çš„ä¸»çº¿ç¨‹ï¼Œç›´åˆ°RDBæ–‡ä»¶ç”Ÿæˆå®Œæˆä¸ºæ­¢ã€‚è¿™ä¸ªå‘½ä»¤é€‚åˆç”¨äºæµ‹è¯•æˆ–ç´§æ€¥æƒ…å†µä¸‹çš„æ•°æ®å¤‡ä»½ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SAVE</span><br></pre></td></tr></table></figure></li><li><p><strong>åå°è§¦å‘ï¼š</strong><br>ä½¿ç”¨<code>BGSAVE</code>å‘½ä»¤å¯ä»¥åœ¨åå°è§¦å‘RDBæŒä¹…åŒ–æ“ä½œï¼Œè¿™ä¸ªå‘½ä»¤ä¼šæ´¾ç”Ÿä¸€ä¸ªå­è¿›ç¨‹æ¥æ‰§è¡ŒRDBæŒä¹…åŒ–ï¼Œ<strong>ä¸ä¼šé˜»å¡æœåŠ¡å™¨</strong>çš„ä¸»çº¿ç¨‹ã€‚è¿™æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ç”ŸæˆRDBæ–‡ä»¶çš„æ–¹å¼ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BGSAVE</span><br></pre></td></tr></table></figure></li><li><p><strong>è‡ªåŠ¨è§¦å‘ï¼š</strong><br>å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°æ¥è‡ªåŠ¨è§¦å‘RDBæŒä¹…åŒ–æ“ä½œã€‚åœ¨é…ç½®æ–‡ä»¶ï¼ˆredis.confï¼‰ä¸­å¯ä»¥è®¾ç½®<code>save</code>å‚æ•°ï¼Œç”¨äºæŒ‡å®šåœ¨ä½•æ—¶æ‰§è¡ŒRDBæŒä¹…åŒ–æ“ä½œï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br></pre></td></tr></table></figure><p>è¿™è¡¨ç¤ºå½“900ç§’å†…è‡³å°‘å‘ç”Ÿ1æ¬¡å†™æ“ä½œã€300ç§’å†…è‡³å°‘å‘ç”Ÿ10æ¬¡å†™æ“ä½œã€60ç§’å†…è‡³å°‘å‘ç”Ÿ10000æ¬¡å†™æ“ä½œæ—¶ï¼Œè‡ªåŠ¨è§¦å‘BGSAVEå‘½ä»¤ã€‚</p></li></ol><p>æ— è®ºæ˜¯æ‰‹åŠ¨è§¦å‘è¿˜æ˜¯åå°è§¦å‘ï¼ŒRDBæŒä¹…åŒ–æ“ä½œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªRDBæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†å†…å­˜ä¸­çš„æ•°æ®å¿«ç…§ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒRDBæŒä¹…åŒ–æ˜¯ä¸€ä¸ªèµ„æºå¯†é›†å‹æ“ä½œï¼Œå¯èƒ½ä¼šå½±å“æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°æ®é›†è¾ƒå¤§çš„æƒ…å†µä¸‹ã€‚å› æ­¤ï¼Œåœ¨é€‰æ‹©ä½•æ—¶æ‰§è¡ŒRDBæŒä¹…åŒ–æ—¶ï¼Œéœ€è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œæ€§èƒ½è¦æ±‚åšå‡ºæƒè¡¡ã€‚</p><h2 id="å¿«ç…§æ—¶æ•°æ®èƒ½ä¿®æ”¹å—ï¼Ÿ"><a href="#å¿«ç…§æ—¶æ•°æ®èƒ½ä¿®æ”¹å—ï¼Ÿ" class="headerlink" title="å¿«ç…§æ—¶æ•°æ®èƒ½ä¿®æ”¹å—ï¼Ÿ"></a>å¿«ç…§æ—¶æ•°æ®èƒ½ä¿®æ”¹å—ï¼Ÿ</h2><p>è¿™é‡Œå¤§å®¶å¯èƒ½ä¼šæƒ³åˆ°<code>bgsave</code>å‘½ä»¤é¿å…é˜»å¡ã€‚è¿™é‡Œå¤§å®¶å¯èƒ½ä¼šæœ‰è¯¯åŒºï¼Œ<strong>é¿å…é˜»å¡å’Œæ­£å¸¸å¤„ç†è¯»å†™è¯·æ±‚å¹¶ä¸æ˜¯ä¸€å›äº‹</strong>ã€‚æ­¤æ—¶ï¼Œä¸»çº¿ç¨‹ç¡®å®æ²¡æœ‰é˜»å¡ï¼Œå¯ä»¥æ­£å¸¸æ¥æ”¶è¯·æ±‚ï¼Œä½†æ˜¯ï¼Œä¸ºäº†ä¿è¯å¿«ç…§å®Œæ•´æ€§ï¼Œå®ƒåªèƒ½å¤„ç†è¯»æ“ä½œï¼Œå› ä¸ºä¸èƒ½ä¿®æ”¹æ­£åœ¨æ‰§è¡Œå¿«ç…§çš„æ•°æ®ã€‚<br>é‚£ä¹ˆRedisæ˜¯å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ<br>å®é™…ä¸Šï¼ŒRedis 6.0 ç‰ˆæœ¬å¼•å…¥äº†<strong>å†™æ—¶å¤åˆ¶ï¼ˆCopy-On-Writeï¼ŒCOWï¼‰æŠ€æœ¯</strong>æ¥ä¿è¯åœ¨æ‰§è¡Œå¿«ç…§ï¼ˆRDBï¼‰æ—¶æ•°æ®æ˜¯å¯ä¿®æ”¹çš„ã€‚è¿™ä¸ªç‰¹æ€§è¢«ç§°ä¸º â€œRDBå¿«ç…§æ—¶å¤åˆ¶â€ï¼ˆRDB Snapshottingï¼‰ã€‚</p><p>åœ¨ Redis 6.0 ä¸­ï¼Œå½“è¿›è¡Œ RDB å¿«ç…§æŒä¹…åŒ–æ—¶ï¼ŒRedis ä¼šæ‰§è¡Œä»¥ä¸‹æ­¥éª¤æ¥ç¡®ä¿æ•°æ®å¯ä¿®æ”¹ï¼š</p><ol><li>Redis åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ã€‚</li><li>åœ¨å­è¿›ç¨‹ä¸­ï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®è¿›è¡Œå†™æ—¶å¤åˆ¶ï¼Œåˆ›å»ºå‡ºä¸€ä¸ªå‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“ä¸»è¿›ç¨‹çš„æ•°æ®ã€‚</li><li>å­è¿›ç¨‹å°†å‰¯æœ¬æ•°æ®å†™å…¥ RDB æ–‡ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨å­è¿›ç¨‹çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œçš„ï¼Œä¸ä¼šå½±å“ä¸»è¿›ç¨‹ã€‚</li></ol><blockquote><p>è¿™ä¸ªæ“ä½œåœ¨å®é™…æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ˜¯å­è¿›ç¨‹å¤åˆ¶äº†ä¸»çº¿ç¨‹çš„é¡µè¡¨ï¼Œæ‰€ä»¥é€šè¿‡é¡µè¡¨æ˜ å°„ï¼Œèƒ½è¯»åˆ°ä¸»çº¿ç¨‹çš„åŸå§‹æ•°æ®ï¼Œè€Œå½“æœ‰æ–°æ•°æ®å†™å…¥æˆ–æ•°æ®ä¿®æ”¹æ—¶ï¼Œä¸»çº¿ç¨‹ä¼šæŠŠæ–°æ•°æ®æˆ–ä¿®æ”¹åçš„æ•°æ®å†™åˆ°ä¸€ä¸ªæ–°çš„ç‰©ç†å†…å­˜åœ°å€ä¸Šï¼Œå¹¶ä¿®æ”¹ä¸»çº¿ç¨‹è‡ªå·±çš„é¡µè¡¨æ˜ å°„ã€‚æ‰€ä»¥ï¼Œå­è¿›ç¨‹è¯»åˆ°çš„ç±»ä¼¼äºåŸå§‹æ•°æ®çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè€Œä¸»çº¿ç¨‹ä¹Ÿå¯ä»¥æ­£å¸¸è¿›è¡Œä¿®æ”¹ã€‚</p></blockquote><p>å› æ­¤ï¼ŒRDB å¿«ç…§æ—¶ï¼Œä¸»è¿›ç¨‹ä»ç„¶å¯ä»¥ç»§ç»­å¤„ç†å†™æ“ä½œï¼Œè€Œå­è¿›ç¨‹åˆ™è´Ÿè´£å°†æ•°æ®å†™å…¥ RDB æ–‡ä»¶ã€‚è¿™æ ·ï¼Œå†™æ—¶å¤åˆ¶æŠ€æœ¯ç¡®ä¿äº†åœ¨ç”Ÿæˆ RDB å¿«ç…§æœŸé—´ï¼Œæ•°æ®æ˜¯å¯ä¿®æ”¹çš„ï¼ŒåŒæ—¶ä¿æŒäº†æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§ç‰¹æ€§ä»…é€‚ç”¨äº Redis 6.0 åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œå¹¶ä¸”åœ¨ RDB å¿«ç…§æ—¶èµ·ä½œç”¨ã€‚åœ¨ç”Ÿæˆ AOF æ–‡ä»¶æ—¶ï¼ŒRedis ä»ç„¶ä¼šé˜»å¡ä¸»çº¿ç¨‹ä»¥ç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚<br><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308131501799.png" alt="å†™æ—¶å¤åˆ¶æœºåˆ¶ä¿è¯å¿«ç…§æœŸé—´æ•°æ®å¯ä¿®æ”¹"></p><h2 id="å¯ä»¥æ¯ç§’åšä¸€æ¬¡å¿«ç…§å—"><a href="#å¯ä»¥æ¯ç§’åšä¸€æ¬¡å¿«ç…§å—" class="headerlink" title="å¯ä»¥æ¯ç§’åšä¸€æ¬¡å¿«ç…§å—"></a>å¯ä»¥æ¯ç§’åšä¸€æ¬¡å¿«ç…§å—</h2><p>è™½ç„¶ç†è®ºä¸Šå¯ä»¥æ¯ç§’é’Ÿåšä¸€æ¬¡å¿«ç…§ï¼ˆRDBæŒä¹…åŒ–ï¼‰ï¼Œä½†å®é™…ä¸Šè¿™æ ·åšå¯èƒ½ä¼šå¯¹RedisæœåŠ¡å™¨çš„æ€§èƒ½äº§ç”Ÿæ˜¾è‘—çš„å½±å“ï¼Œç‰¹åˆ«æ˜¯åœ¨è´Ÿè½½è¾ƒé‡çš„æƒ…å†µä¸‹ã€‚</p><p>æ¯ç§’é’Ÿç”Ÿæˆå¿«ç…§ä¼šå¼•èµ·ä»¥ä¸‹ä¸€äº›é—®é¢˜ï¼š</p><ol><li><p><strong>æ€§èƒ½å¼€é”€ï¼š</strong> å¿«ç…§æ“ä½œéœ€è¦éå†å†…å­˜ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œå¹¶å°†æ•°æ®åºåˆ—åŒ–åˆ°ç£ç›˜ä¸­ã€‚é¢‘ç¹çš„å¿«ç…§æ“ä½œä¼šå ç”¨å¤§é‡çš„CPUå’Œå†…å­˜èµ„æºï¼Œå½±å“æœåŠ¡å™¨çš„æ€§èƒ½ï¼Œå¯¼è‡´å“åº”æ—¶é—´å˜é•¿ã€‚</p></li><li><p><strong>IOå‹åŠ›ï¼š</strong> æ¯ç§’é’Ÿç”Ÿæˆçš„å¿«ç…§ä¼šå¯¼è‡´é¢‘ç¹çš„ç£ç›˜å†™å…¥ï¼Œå¢åŠ äº†ç£ç›˜IOçš„è´Ÿæ‹…ï¼Œå¯èƒ½å½±å“å…¶ä»–åº”ç”¨ç¨‹åºå’Œæ“ä½œç³»ç»Ÿçš„æ­£å¸¸è¿è¡Œã€‚</p></li><li><p><strong>æ•°æ®ä¸¢å¤±ï¼š</strong> æ¯ç§’é’Ÿç”Ÿæˆçš„å¿«ç…§å¯èƒ½ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œå› ä¸ºç”Ÿæˆå¿«ç…§çš„æ“ä½œéœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œå¦‚æœåœ¨ä¸¤æ¬¡å¿«ç…§ä¹‹é—´å‘ç”Ÿäº†å†™æ“ä½œï¼Œé‚£ä¹ˆè¿™æ®µæ—¶é—´å†…çš„æ•°æ®ä¼šä¸¢å¤±ã€‚</p></li></ol><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ç§’é’Ÿç”Ÿæˆå¿«ç…§å¹¶<strong>ä¸æ˜¯ä¸€ä¸ªæ¨èçš„åšæ³•</strong>ã€‚æ›´åˆç†çš„åšæ³•æ˜¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œç³»ç»Ÿèµ„æºæ¥é€‰æ‹©åˆé€‚çš„æŒä¹…åŒ–é¢‘ç‡ã€‚å¦‚æœæ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚å¾ˆé«˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨AOFæŒä¹…åŒ–æœºåˆ¶ï¼Œå®ƒå¯ä»¥åœ¨ä¸åŒç¨‹åº¦ä¸Šæä¾›æ•°æ®çš„ä¿æŠ¤å’ŒæŒä¹…æ€§ï¼Œè€Œä¸”å¯ä»¥é€šè¿‡è®¾ç½®ä¸åŒçš„å†™å›ç­–ç•¥æ¥å¹³è¡¡æ€§èƒ½å’Œæ•°æ®ä¿æŠ¤ã€‚å¦‚æœæ•°æ®çš„ä¸€è‡´æ€§è¦æ±‚ç›¸å¯¹è¾ƒä½ï¼Œå¯ä»¥é€‰æ‹©é€‚å½“çš„RDBæŒä¹…åŒ–é¢‘ç‡ï¼Œé¿å…é¢‘ç¹çš„IOå’Œæ€§èƒ½å¼€é”€ã€‚</p><h1 id="ä¸ºä»€ä¹ˆæ¨èAOFå’ŒRDBæ··åˆä½¿ç”¨"><a href="#ä¸ºä»€ä¹ˆæ¨èAOFå’ŒRDBæ··åˆä½¿ç”¨" class="headerlink" title="ä¸ºä»€ä¹ˆæ¨èAOFå’ŒRDBæ··åˆä½¿ç”¨"></a>ä¸ºä»€ä¹ˆæ¨èAOFå’ŒRDBæ··åˆä½¿ç”¨</h1><p>æ¨èåœ¨Redisä¸­åŒæ—¶ä½¿ç”¨AOFï¼ˆAppend-Only Fileï¼‰æŒä¹…åŒ–å’ŒRDBï¼ˆRedis DataBaseï¼‰æŒä¹…åŒ–çš„åŸå› æ˜¯ï¼Œè¿™ä¸¤ç§æŒä¹…åŒ–æœºåˆ¶å¯ä»¥ç›¸äº’è¡¥å……ï¼Œæä¾›æ›´å¥½çš„æ•°æ®ä¿æŠ¤ã€æ¢å¤èƒ½åŠ›å’Œæ€§èƒ½ä¼˜åŒ–ã€‚</p><p>ä»¥ä¸‹æ˜¯æ¨èåŒæ—¶ä½¿ç”¨AOFå’Œå¿«ç…§çš„ä¸»è¦åŸå› ï¼š</p><ol><li><p><strong>æ•°æ®æ¢å¤èƒ½åŠ›ï¼š</strong> AOFæŒä¹…åŒ–è®°å½•äº†æ‰€æœ‰å†™æ“ä½œçš„æ—¥å¿—ï¼Œè¿™ä½¿å¾—åœ¨å‘ç”Ÿæ„å¤–æƒ…å†µæ—¶ï¼ˆå¦‚æœåŠ¡å™¨å´©æºƒï¼‰å¯ä»¥ç²¾ç¡®åœ°æ¢å¤æ•°æ®åˆ°å´©æºƒå‰çš„çŠ¶æ€ã€‚è€ŒRDBæŒä¹…åŒ–é€šè¿‡å…¨é‡å¿«ç…§æä¾›äº†å¿«é€Ÿçš„æ•°æ®æ¢å¤èƒ½åŠ›ã€‚ç»“åˆä½¿ç”¨ä¸¤è€…ï¼Œå¯ä»¥åœ¨AOFæ—¥å¿—çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡åŠ è½½æœ€è¿‘çš„RDBå¿«ç…§æ¥åŠ é€Ÿæ¢å¤ã€‚</p></li><li><p><strong>æ•°æ®å®‰å…¨æ€§ï¼š</strong> AOFæŒä¹…åŒ–è®°å½•äº†æ¯ä¸ªå†™æ“ä½œï¼Œå¯ä»¥ç¡®ä¿æ¯ä¸ªå†™æ“ä½œéƒ½è¢«æŒä¹…åŒ–åˆ°æ—¥å¿—ä¸­ã€‚RDBæŒä¹…åŒ–åˆ™æä¾›äº†ä¸€ä¸ªç‚¹å¯¹ç‚¹çš„æ•°æ®å¤‡ä»½ã€‚åŒæ—¶ä½¿ç”¨è¿™ä¸¤ç§æŒä¹…åŒ–æœºåˆ¶å¯ä»¥æä¾›æ›´é«˜çš„æ•°æ®å®‰å…¨æ€§ã€‚</p></li><li><p><strong>æ€§èƒ½ä¼˜åŒ–ï¼š</strong> AOFæŒä¹…åŒ–å¯¹äºè¯»æ“ä½œçš„æ€§èƒ½å½±å“è¾ƒå°ï¼Œå› ä¸ºè¯»æ“ä½œä¸æ¶‰åŠAOFæ–‡ä»¶çš„å†™å…¥ã€‚è€ŒRDBæŒä¹…åŒ–å¯¹äºå¿«é€Ÿçš„å…¨é‡æ•°æ®æ¢å¤å¾ˆæœ‰å¸®åŠ©ã€‚é€šè¿‡ç»“åˆä½¿ç”¨AOFå’ŒRDBï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¹³è¡¡æ•°æ®ä¿æŠ¤å’Œæ€§èƒ½è¦æ±‚ã€‚</p></li><li><p><strong>å¤šå±‚æ¬¡çš„å¤‡ä»½ï¼š</strong> ä½¿ç”¨AOFå’ŒRDBï¼Œæ‚¨å¯ä»¥è·å¾—å¤šå±‚æ¬¡çš„æ•°æ®å¤‡ä»½ã€‚AOFæ—¥å¿—å¯ä»¥æä¾›ç²¾ç¡®çš„æ“ä½œæ—¥å¿—ï¼ŒRDBå¿«ç…§å¯ä»¥æä¾›å…¨é‡å¤‡ä»½ã€‚è¿™æ ·ï¼Œå³ä½¿å…¶ä¸­ä¸€ä¸ªæŒä¹…åŒ–æœºåˆ¶å‡ºç°é—®é¢˜ï¼Œå¦ä¸€ä¸ªä»ç„¶å¯ä»¥æä¾›æ•°æ®ä¿æŠ¤ã€‚</p></li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œä½¿ç”¨AOFå’ŒRDBä¸¤ç§æŒä¹…åŒ–æœºåˆ¶çš„ç»„åˆï¼Œèƒ½å¤Ÿæä¾›æ›´å…¨é¢çš„æ•°æ®ä¿æŠ¤ã€ç¾éš¾æ¢å¤å’Œæ€§èƒ½ä¼˜åŒ–ã€‚åœ¨é…ç½®RedisæŒä¹…åŒ–æ—¶ï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚å’Œæ€§èƒ½è¦æ±‚ï¼Œç»“åˆä½¿ç”¨è¿™ä¸¤ç§æœºåˆ¶ï¼Œå¯ä»¥å®ç°æ›´å¥½çš„æ•°æ®ç®¡ç†å’Œä¿æŠ¤ã€‚</p><h2 id="å¦‚ä½•é…ç½®å‘¢"><a href="#å¦‚ä½•é…ç½®å‘¢" class="headerlink" title="å¦‚ä½•é…ç½®å‘¢"></a>å¦‚ä½•é…ç½®å‘¢</h2><p>åœ¨ Redis ä¸­ï¼ŒåŒæ—¶ä½¿ç”¨ AOF æŒä¹…åŒ–å’Œ RDB æŒä¹…åŒ–çš„é…ç½®æ˜¯å¾ˆå¸¸è§çš„ï¼Œè¿™æ ·å¯ä»¥å…¼é¡¾æ•°æ®çš„æŒä¹…æ€§å’Œæ¢å¤æ€§èƒ½ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªå°† AOF æŒä¹…åŒ–å’Œ RDB æŒä¹…åŒ–æ··åˆä½¿ç”¨çš„ç¤ºä¾‹é…ç½®ï¼š</p><ol><li><p>æ‰“å¼€ Redis é…ç½®æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯ <code>redis.conf</code>ã€‚</p></li><li><p>å¯ç”¨ AOF æŒä¹…åŒ–ï¼š<br>æ‰¾åˆ°ä»¥ä¸‹è¡Œå¹¶ç¡®ä¿å…¶è¢«è®¾ç½®ä¸ºä»¥ä¸‹å€¼ï¼Œä»¥å¯ç”¨ AOF æŒä¹…åŒ–ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">appendonly yes</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½® AOF é‡å†™ç­–ç•¥ï¼ˆå¯é€‰ï¼‰ï¼š<br>å¯ä»¥è®¾ç½® AOF é‡å†™çš„è§¦å‘æ¡ä»¶ï¼Œä»¥ä¾¿æ§åˆ¶ AOF æ–‡ä»¶çš„å¤§å°å’Œå†™å…¥é¢‘ç‡ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">auto-aof-rewrite-percentage 100</span><br><span class="line">auto-aof-rewrite-min-size 64mb</span><br></pre></td></tr></table></figure></li><li><p>å¯ç”¨ RDB æŒä¹…åŒ–ï¼š<br>é»˜è®¤æƒ…å†µä¸‹ï¼ŒRedis ä¼šä½¿ç”¨ RDB æŒä¹…åŒ–ï¼Œä½†è¦ç¡®ä¿ä»¥ä¸‹è¡Œæ²¡æœ‰è¢«æ³¨é‡Šæ‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">save 900 1</span><br><span class="line">save 300 10</span><br><span class="line">save 60 10000</span><br></pre></td></tr></table></figure></li><li><p>è®¾ç½® RDB å¿«ç…§æ–‡ä»¶åï¼ˆå¯é€‰ï¼‰ï¼š<br>å¦‚æœå¸Œæœ›ä¸º RDB å¿«ç…§æŒ‡å®šç‰¹å®šçš„æ–‡ä»¶åï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dbfilename dump.rdb</span><br></pre></td></tr></table></figure><p>è¿™ä¼šå°† RDB å¿«ç…§æ–‡ä»¶å‘½åä¸º <code>dump.rdb</code>ã€‚</p></li><li><p>è®¾ç½® RDB å¿«ç…§ä¿å­˜è·¯å¾„ï¼ˆå¯é€‰ï¼‰ï¼š<br>å¦‚æœå¸Œæœ›å°† RDB å¿«ç…§ä¿å­˜åˆ°ç‰¹å®šçš„è·¯å¾„ï¼Œå¯ä»¥æ·»åŠ ä»¥ä¸‹è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dir /path/to/rdb/directory</span><br></pre></td></tr></table></figure><p>è¿™ä¼šå°† RDB å¿«ç…§ä¿å­˜åˆ°æŒ‡å®šçš„ç›®å½•ã€‚</p></li><li><p>é‡å¯ Redis æœåŠ¡å™¨ï¼š<br>åœ¨å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œæ›´æ”¹åï¼Œéœ€è¦é‡æ–°å¯åŠ¨ Redis æœåŠ¡å™¨ï¼Œä»¥ä½¿é…ç½®ç”Ÿæ•ˆã€‚</p></li></ol><p>ä½¿ç”¨ä»¥ä¸Šé…ç½®ï¼ŒRedis å°†åŒæ—¶ä½¿ç”¨ AOF æŒä¹…åŒ–å’Œ RDB æŒä¹…åŒ–ï¼Œæä¾›äº†å¤šå±‚æ¬¡çš„æ•°æ®ä¿æŠ¤å’Œæ¢å¤æœºåˆ¶ã€‚AOF æŒä¹…åŒ–è®°å½•å†™æ“ä½œï¼Œæä¾›æ“ä½œæ—¥å¿—ç”¨äºæ•°æ®æ¢å¤ã€‚RDB æŒä¹…åŒ–æä¾›äº†å…¨é‡å¤‡ä»½ï¼Œç”¨äºå¿«é€Ÿæ¢å¤æ•´ä¸ªæ•°æ®é›†ã€‚æ··åˆä½¿ç”¨è¿™ä¸¤ç§æœºåˆ¶å¯ä»¥å……åˆ†åˆ©ç”¨å®ƒä»¬å„è‡ªçš„ä¼˜ç‚¹ï¼Œæä¾›æ›´å…¨é¢çš„æ•°æ®æŒä¹…æ€§å’Œä¿æŠ¤ã€‚</p><h1 id="å…³äºAOFå’ŒRDBçš„é€‰æ‹©ï¼Œä¸‰ç‚¹å»ºè®®"><a href="#å…³äºAOFå’ŒRDBçš„é€‰æ‹©ï¼Œä¸‰ç‚¹å»ºè®®" class="headerlink" title="å…³äºAOFå’ŒRDBçš„é€‰æ‹©ï¼Œä¸‰ç‚¹å»ºè®®"></a>å…³äºAOFå’ŒRDBçš„é€‰æ‹©ï¼Œä¸‰ç‚¹å»ºè®®</h1><ul><li>æ•°æ®ä¸èƒ½ä¸¢å¤±æ—¶ï¼Œå†…å­˜å¿«ç…§å’Œ AOF çš„æ··åˆä½¿ç”¨æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼›</li><li>å¦‚æœå…è®¸åˆ†é’Ÿçº§åˆ«çš„æ•°æ®ä¸¢å¤±ï¼Œå¯ä»¥åªä½¿ç”¨ RDBï¼›</li><li>å¦‚æœåªç”¨ AOFï¼Œä¼˜å…ˆä½¿ç”¨ everysec çš„é…ç½®é€‰é¡¹ï¼Œå› ä¸ºå®ƒåœ¨å¯é æ€§å’Œæ€§èƒ½ä¹‹é—´å–äº†ä¸€ä¸ªå¹³è¡¡ã€‚ï¿½ï¿½èƒ½ä¹‹é—´å–äº†ä¸€ä¸ªå¹³è¡¡ã€‚</li></ul></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> redis </tag>
            
            <tag> rdb </tag>
            
            <tag> aof </tag>
            
            <tag> å¿«ç…§ </tag>
            
            <tag> å†™æ—¶å¤åˆ¶ </tag>
            
            <tag> æŒä¹…åŒ–ç­–ç•¥ </tag>
            
            <tag> aofé‡å†™ </tag>
            
            <tag> æ•°æ®æ¢å¤ </tag>
            
            <tag> æ•°æ®å®‰å…¨æ€§ </tag>
            
            <tag> aofå’Œrdbæ··åˆä½¿ç”¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Redisç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šæ·±å…¥äº†è§£Redisæ•°æ®ç±»å‹å’Œåº•å±‚æ•°æ®ç»“æ„</title>
      <link href="/84392d3f.html"/>
      <url>/84392d3f.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><p>Redisæœ‰ä»¥ä¸‹å‡ ç§å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼š</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/image.png"></p><h2 id="redisæ•°æ®æ˜¯å¦‚ä½•ç»„ç»‡çš„"><a href="#redisæ•°æ®æ˜¯å¦‚ä½•ç»„ç»‡çš„" class="headerlink" title="redisæ•°æ®æ˜¯å¦‚ä½•ç»„ç»‡çš„"></a>redisæ•°æ®æ˜¯å¦‚ä½•ç»„ç»‡çš„</h2><p>ä¸ºäº†å®ç°ä»é”®åˆ°å€¼çš„å¿«é€Ÿè®¿é—®ï¼ŒRedis ä½¿ç”¨äº†ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥ä¿å­˜æ‰€æœ‰é”®å€¼å¯¹ã€‚</p><p>Rediså…¨å±€å“ˆå¸Œè¡¨ï¼ˆGlobal Hash Tableï¼‰æ˜¯æŒ‡åœ¨Redisæ•°æ®åº“å†…éƒ¨ç”¨äºå­˜å‚¨æ‰€æœ‰é”®å€¼å¯¹çš„ä¸»è¦æ•°æ®ç»“æ„ã€‚å®ƒçš„å®ç°åŸç†æ¶‰åŠåˆ°å“ˆå¸Œè¡¨ã€å­—å…¸ã€æ¸è¿›å¼rehashç­‰æŠ€æœ¯ï¼Œä»¥ä¸‹æ˜¯Rediså…¨å±€å“ˆå¸Œè¡¨çš„å®ç°åŸç†å’ŒæŸ¥è¯¢æµç¨‹ï¼š</p><p><strong>å®ç°åŸç†ï¼š</strong></p><ol><li><p><strong>å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰ï¼š</strong></p><p> Redisçš„å…¨å±€å“ˆå¸Œè¡¨æ˜¯ç”±å¤šä¸ªå“ˆå¸Œè¡¨æ„æˆçš„ï¼Œæ¯ä¸ªå“ˆå¸Œè¡¨ç§°ä¸ºä¸€ä¸ªæ•°æ®åº“ï¼ˆDBï¼‰ã€‚æ•°æ®åº“çš„æ•°é‡å¯ä»¥é€šè¿‡é…ç½®è¿›è¡Œè®¾ç½®ï¼Œé»˜è®¤æ˜¯16ä¸ªã€‚æ¯ä¸ªæ•°æ®åº“éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å“ˆå¸Œè¡¨ï¼Œè´Ÿè´£å­˜å‚¨é”®å€¼å¯¹ã€‚</p></li><li><p><strong>å­—å…¸ï¼ˆDictionaryï¼‰ï¼š</strong></p><p> æ¯ä¸ªæ•°æ®åº“éƒ½ä½¿ç”¨å­—å…¸ï¼ˆDictionaryï¼‰æ¥å®ç°é”®å€¼å¯¹çš„å­˜å‚¨ã€‚å­—å…¸æ˜¯ä¸€ç§é«˜æ•ˆçš„é”®å€¼å¯¹å­˜å‚¨ç»“æ„ï¼Œå®ƒä½¿ç”¨å“ˆå¸Œè¡¨æ¥æ”¯æŒå¿«é€Ÿçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚</p></li><li><p><strong>æ¸è¿›å¼rehashï¼š</strong></p><p> å½“æ•°æ®åº“çš„é”®å€¼å¯¹æ•°é‡è¾ƒå¤šæ—¶ï¼Œä¸ºäº†ä¿æŒæŸ¥è¯¢æ€§èƒ½ï¼ŒRedisä¼šåœ¨ä¸ä¸­æ–­æœåŠ¡çš„æƒ…å†µä¸‹ï¼Œé€æ­¥å°†æ—§çš„æ•°æ®åº“å“ˆå¸Œè¡¨ä¸­çš„æ•°æ®è¿ç§»åˆ°æ–°çš„æ•°æ®åº“å“ˆå¸Œè¡¨ä¸­ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšæ¸è¿›å¼rehashã€‚è¿™æ ·ï¼ŒRedisèƒ½å¤Ÿå¹³æ»‘åœ°å°†æ•°æ®ä»æ—§çš„å“ˆå¸Œè¡¨è¿ç§»åˆ°æ–°çš„å“ˆå¸Œè¡¨ï¼Œé¿å…å¤§è§„æ¨¡çš„æ•°æ®è¿ç§»å¯¹æ€§èƒ½é€ æˆå½±å“ã€‚</p></li></ol><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308121104358.png"></p><p><strong>æŸ¥è¯¢æµç¨‹ï¼š</strong></p><ol><li>å®¢æˆ·ç«¯å‘é€æŸ¥è¯¢å‘½ä»¤ï¼ŒæŒ‡å®šè¦æŸ¥è¯¢çš„é”®ã€‚</li><li>Redisä¼šæ ¹æ®é”®é€šè¿‡å“ˆå¸Œå‡½æ•°è®¡ç®—å“ˆå¸Œæ§½ï¼ˆhash slotï¼‰çš„ç´¢å¼•ï¼Œç¡®å®šé”®åœ¨å“ªä¸ªæ•°æ®åº“ä¸­ã€‚</li><li>Redisæ ¹æ®æ•°æ®åº“çš„å“ˆå¸Œè¡¨ï¼Œæ‰¾åˆ°å¯¹åº”çš„å­—å…¸ã€‚</li><li>åœ¨å­—å…¸ä¸­ï¼ŒRedisä½¿ç”¨é”®è¿›è¡ŒæŸ¥æ‰¾ï¼Œé€šè¿‡å“ˆå¸Œè¡¨æŸ¥æ‰¾å¯¹åº”çš„å€¼ã€‚å¦‚æœæ‰¾åˆ°äº†å€¼ï¼Œåˆ™å°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li><li>å¦‚æœé”®åœ¨å½“å‰æ•°æ®åº“æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„å€¼ï¼ŒRediså¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œè·³è½¬åˆ°å…¶ä»–æ•°æ®åº“ï¼ˆä¾‹å¦‚åœ¨Redisé›†ç¾¤ä¸­ï¼‰ã€‚</li></ol><p>æ•´ä¸ªæŸ¥è¯¢æµç¨‹æ¶‰åŠåˆ°å¤šæ¬¡å“ˆå¸Œè®¡ç®—å’Œå“ˆå¸Œè¡¨æŸ¥æ‰¾ï¼Œè¿™ä½¿å¾—Redisèƒ½å¤Ÿåœ¨å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(1)çš„æƒ…å†µä¸‹ï¼Œé«˜æ•ˆåœ°è¿›è¡Œé”®å€¼å¯¹çš„æŸ¥è¯¢æ“ä½œã€‚ç”±äºRedisçš„å…¨å±€å“ˆå¸Œè¡¨æ˜¯ä¸€ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œå…¶ä¼˜åŒ–å’Œè®¾è®¡å¯¹äºä¿éšœRedisçš„æ€§èƒ½å’Œå¯ç”¨æ€§éå¸¸é‡è¦ã€‚</p><p>å¦‚æœä½ åªæ˜¯äº†è§£äº†å“ˆå¸Œè¡¨çš„ O(1) å¤æ‚åº¦å’Œå¿«é€ŸæŸ¥æ‰¾ç‰¹æ€§ï¼Œé‚£ä¹ˆï¼Œå½“ä½ å¾€ Redis ä¸­å†™å…¥å¤§é‡æ•°æ®åï¼Œå°±å¯èƒ½å‘ç°æ“ä½œæœ‰æ—¶å€™ä¼šçªç„¶å˜æ…¢äº†ã€‚è¿™å…¶å®æ˜¯å› ä¸ºä½ å¿½ç•¥äº†ä¸€ä¸ªæ½œåœ¨çš„é£é™©ç‚¹ï¼Œé‚£å°±æ˜¯å“ˆå¸Œè¡¨çš„å†²çªé—®é¢˜å’Œ rehash å¯èƒ½å¸¦æ¥çš„æ“ä½œé˜»å¡ã€‚</p><p><strong>ä¸ºä»€ä¹ˆå“ˆå¸Œè¡¨æ“ä½œå˜æ…¢äº†ï¼Ÿ</strong></p><p>Redis è§£å†³å“ˆå¸Œå†²çªçš„æ–¹å¼ï¼Œå°±æ˜¯é“¾å¼å“ˆå¸Œã€‚é“¾å¼å“ˆå¸Œä¹Ÿå¾ˆå®¹æ˜“ç†è§£ï¼Œå°±æ˜¯æŒ‡åŒä¸€ä¸ªå“ˆå¸Œæ¡¶ä¸­çš„å¤šä¸ªå…ƒç´ ç”¨ä¸€ä¸ªé“¾è¡¨æ¥ä¿å­˜ï¼Œå®ƒä»¬ä¹‹é—´ä¾æ¬¡ç”¨æŒ‡é’ˆè¿æ¥ã€‚</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308121106905.png"></p><p>å“ˆå¸Œå†²çªæ˜¯æŒ‡åœ¨ä½¿ç”¨å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„åˆ°å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•æ—¶ï¼Œä¸¤ä¸ªæˆ–å¤šä¸ªé”®è¢«æ˜ å°„åˆ°ç›¸åŒçš„ç´¢å¼•ä½ç½®ã€‚åœ¨Redisä¸­ï¼Œå“ˆå¸Œè¡¨æ˜¯é€šè¿‡å“ˆå¸Œå‡½æ•°å°†é”®æ˜ å°„åˆ°ä¸€ä¸ªå›ºå®šæ•°é‡çš„æ¡¶ï¼ˆbucketï¼‰ä¸­çš„ã€‚</p><p>Redisä½¿ç”¨MurmurHash2ç®—æ³•ä½œä¸ºé»˜è®¤çš„å“ˆå¸Œå‡½æ•°ï¼Œå®ƒæ˜¯ä¸€ç§å¿«é€Ÿä¸”ä½ç¢°æ’ç‡çš„å“ˆå¸Œå‡½æ•°ã€‚ç„¶è€Œï¼Œå³ä½¿ä½¿ç”¨äº†é«˜è´¨é‡çš„å“ˆå¸Œå‡½æ•°ï¼Œä»ç„¶å­˜åœ¨å“ˆå¸Œå†²çªçš„å¯èƒ½æ€§ã€‚</p><p>å½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼ŒRedisä½¿ç”¨é“¾åœ°å€æ³•ï¼ˆchainingï¼‰æ¥è§£å†³ã€‚å…·ä½“æ¥è¯´ï¼Œæ¯ä¸ªæ¡¶ä¸­å­˜å‚¨çš„æ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«äº†é”®å€¼å¯¹ã€‚å½“å¤šä¸ªé”®è¢«æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶æ—¶ï¼Œå®ƒä»¬ä¼šè¢«æ·»åŠ åˆ°é“¾è¡¨ä¸­ï¼Œå½¢æˆä¸€ä¸ªé”®å€¼å¯¹çš„é›†åˆã€‚</p><p>å½“æ‰§è¡Œå“ˆå¸Œè¡¨çš„è¯»å–æ“ä½œæ—¶ï¼ŒRedisä¼šéå†é“¾è¡¨ï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…çš„é”®å€¼å¯¹æˆ–è€…é“¾è¡¨ç»“æŸã€‚è¿™ä¸ªè¿‡ç¨‹çš„æ—¶é—´å¤æ‚åº¦å–å†³äºé“¾è¡¨çš„é•¿åº¦ï¼Œå› æ­¤ï¼Œå¦‚æœå“ˆå¸Œå†²çªè¾ƒå¤šï¼Œé“¾è¡¨ä¼šå˜å¾—å¾ˆé•¿ï¼Œå¯¼è‡´è¯»å–æ“ä½œçš„æ€§èƒ½ä¸‹é™ã€‚</p><p><strong>ä¸ºäº†å‡å°‘å“ˆå¸Œå†²çªçš„å‘ç”Ÿï¼Œå¯ä»¥é‡‡å–ä»¥ä¸‹æªæ–½ï¼š</strong></p><ol><li>ä½¿ç”¨æ›´å¥½çš„å“ˆå¸Œå‡½æ•°ï¼šé€‰æ‹©ä¸€ä¸ªæ›´å…·éšæœºæ€§å’Œä½ç¢°æ’ç‡çš„å“ˆå¸Œå‡½æ•°ï¼Œå¯ä»¥å‡å°‘å“ˆå¸Œå†²çªçš„æ¦‚ç‡ã€‚</li><li>æ‰©å¤§å“ˆå¸Œè¡¨çš„å¤§å°ï¼šå¢åŠ å“ˆå¸Œè¡¨çš„æ¡¶æ•°é‡ï¼Œå¯ä»¥åˆ†æ•£é”®çš„åˆ†å¸ƒï¼Œå‡å°‘å“ˆå¸Œå†²çªçš„å¯èƒ½æ€§ã€‚</li><li>ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•ï¼šä¸€è‡´æ€§å“ˆå¸Œç®—æ³•å¯ä»¥å°†é”®å‡åŒ€åœ°æ˜ å°„åˆ°å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œå‡å°‘å•ä¸ªèŠ‚ç‚¹ä¸Šçš„å“ˆå¸Œå†²çªã€‚</li></ol><p>å“ˆå¸Œå†²çªæ˜¯ä¸å¯é¿å…çš„ï¼Œä½†å¯ä»¥é€šè¿‡é€‰æ‹©åˆé€‚çš„å“ˆå¸Œå‡½æ•°å’Œè°ƒæ•´å“ˆå¸Œè¡¨çš„å¤§å°æ¥å‡å°‘å…¶å‘ç”Ÿçš„æ¦‚ç‡ï¼Œå¹¶ä¸”Redisçš„é“¾åœ°å€æ³•èƒ½å¤Ÿæœ‰æ•ˆåœ°è§£å†³å“ˆå¸Œå†²çªå¸¦æ¥çš„é—®é¢˜ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™é‡Œä¾ç„¶å­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå“ˆå¸Œå†²çªé“¾ä¸Šçš„å…ƒç´ åªèƒ½é€šè¿‡æŒ‡é’ˆé€ä¸€æŸ¥æ‰¾å†æ“ä½œã€‚å¦‚æœå“ˆå¸Œè¡¨é‡Œå†™å…¥çš„æ•°æ®è¶Šæ¥è¶Šå¤šï¼Œå“ˆå¸Œå†²çªå¯èƒ½ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œè¿™å°±ä¼šå¯¼è‡´æŸäº›å“ˆå¸Œå†²çªé“¾è¿‡é•¿ï¼Œè¿›è€Œå¯¼è‡´è¿™ä¸ªé“¾ä¸Šçš„å…ƒç´ æŸ¥æ‰¾è€—æ—¶é•¿ï¼Œæ•ˆç‡é™ä½ã€‚å¯¹äºè¿½æ±‚â€œå¿«â€çš„ Redis æ¥è¯´ï¼Œè¿™æ˜¯ä¸å¤ªèƒ½æ¥å—çš„ã€‚</p><p>æ‰€ä»¥ï¼ŒRedis ä¼šå¯¹å“ˆå¸Œè¡¨åš rehash æ“ä½œã€‚rehash ä¹Ÿå°±æ˜¯å¢åŠ ç°æœ‰çš„å“ˆå¸Œæ¡¶æ•°é‡ï¼Œè®©é€æ¸å¢å¤šçš„ entry å…ƒç´ èƒ½åœ¨æ›´å¤šçš„æ¡¶ä¹‹é—´åˆ†æ•£ä¿å­˜ï¼Œå‡å°‘å•ä¸ªæ¡¶ä¸­çš„å…ƒç´ æ•°é‡ï¼Œä»è€Œå‡å°‘å•ä¸ªæ¡¶ä¸­çš„å†²çªã€‚</p><p><strong>é‚£å…·ä½“æ€ä¹ˆåšrehashå‘¢ï¼Ÿ</strong></p><p>Redisçš„rehashæ˜¯æŒ‡åœ¨å“ˆå¸Œè¡¨æ‰©å®¹æˆ–ç¼©å°æ—¶ï¼Œé‡æ–°è®¡ç®—å¹¶é‡æ–°åˆ†é…æ‰€æœ‰é”®å€¼å¯¹çš„è¿‡ç¨‹ã€‚rehashçš„ç›®çš„æ˜¯ä¸ºäº†ä¿æŒå“ˆå¸Œè¡¨çš„è´Ÿè½½å› å­åœ¨ä¸€ä¸ªåˆç†çš„èŒƒå›´å†…ï¼Œä»¥æé«˜å“ˆå¸Œè¡¨çš„æ€§èƒ½ã€‚</p><p>åœ¨Redisä¸­ï¼Œrehashæ˜¯ä¸€ä¸ªæ¸è¿›å¼çš„è¿‡ç¨‹ï¼Œå®ƒä¸ä¼šä¸€æ¬¡æ€§åœ°å°†æ‰€æœ‰é”®å€¼å¯¹é‡æ–°åˆ†é…åˆ°æ–°çš„å“ˆå¸Œè¡¨ä¸­ï¼Œè€Œæ˜¯åˆ†å¤šæ¬¡è¿›è¡Œï¼Œæ¯æ¬¡å¤„ç†ä¸€å°éƒ¨åˆ†é”®å€¼å¯¹ã€‚è¿™ç§æ¸è¿›å¼çš„rehashè¿‡ç¨‹å¯ä»¥ä¿è¯åœ¨rehashæœŸé—´ï¼ŒRedisä»ç„¶å¯ä»¥æ­£å¸¸å¤„ç†è¯»å–å’Œå†™å…¥æ“ä½œï¼Œä¸ä¼šé˜»å¡å®¢æˆ·ç«¯è¯·æ±‚ã€‚</p><p><strong>å…·ä½“çš„rehashè¿‡ç¨‹</strong>å¦‚ä¸‹ï¼š</p><ol><li>Redisä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºå“ˆå¸Œè¡¨ï¼Œå¤§å°æ˜¯å½“å‰å“ˆå¸Œè¡¨çš„ä¸¤å€ï¼ˆæˆ–æ›´å°ï¼Œå¦‚æœæ˜¯ç¼©å°æ“ä½œï¼‰ã€‚</li><li>Redisä¼šå°†å½“å‰å“ˆå¸Œè¡¨çš„rehashidxå±æ€§è®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºrehashçš„èµ·å§‹ä½ç½®ã€‚</li><li>åœ¨æ¯æ¬¡æ‰§è¡Œè¯»å–æˆ–å†™å…¥æ“ä½œæ—¶ï¼ŒRedisä¼šåŒæ—¶å¯¹å½“å‰å“ˆå¸Œè¡¨å’Œæ–°å“ˆå¸Œè¡¨è¿›è¡Œæ“ä½œã€‚</li><li>å¯¹äºè¯»å–æ“ä½œï¼ŒRedisé¦–å…ˆåœ¨å½“å‰å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾é”®å€¼å¯¹ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ç»§ç»­åœ¨æ–°å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾ã€‚</li><li>å¯¹äºå†™å…¥æ“ä½œï¼ŒRedisä¼šå°†æ–°çš„é”®å€¼å¯¹æ·»åŠ åˆ°æ–°å“ˆå¸Œè¡¨ä¸­ï¼ŒåŒæ—¶ä¿ç•™å½“å‰å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹ã€‚</li><li>åœ¨æ¯æ¬¡æ‰§è¡Œå®Œä¸€å®šæ•°é‡çš„æ“ä½œåï¼ŒRedisä¼šé€æ­¥å°†å½“å‰å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹è¿ç§»åˆ°æ–°å“ˆå¸Œè¡¨ä¸­ï¼Œç›´åˆ°è¿ç§»å®Œæˆã€‚</li><li>æœ€åï¼ŒRedisä¼šå°†æ–°å“ˆå¸Œè¡¨è®¾ç½®ä¸ºå½“å‰å“ˆå¸Œè¡¨ï¼Œå¹¶é‡Šæ”¾æ—§çš„å“ˆå¸Œè¡¨çš„å†…å­˜ç©ºé—´ã€‚</li></ol><p>é€šè¿‡<strong>æ¸è¿›å¼çš„rehashè¿‡ç¨‹</strong>ï¼ŒRediså¯ä»¥å¹³æ»‘åœ°å°†é”®å€¼å¯¹ä»æ—§å“ˆå¸Œè¡¨è¿ç§»åˆ°æ–°å“ˆå¸Œè¡¨ï¼Œé¿å…äº†ä¸€æ¬¡æ€§çš„å¤§è§„æ¨¡è¿ç§»å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚åŒæ—¶ï¼Œç”±äºè¯»å–æ“ä½œå¯ä»¥åŒæ—¶åœ¨ä¸¤ä¸ªå“ˆå¸Œè¡¨ä¸­è¿›è¡Œï¼Œæ‰€ä»¥å³ä½¿åœ¨rehashè¿‡ç¨‹ä¸­ï¼ŒRedisä»ç„¶å¯ä»¥æä¾›æ­£å¸¸çš„è¯»å–æœåŠ¡ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œrehashè¿‡ç¨‹æ˜¯ä¸€ä¸ªç›¸å¯¹è€—æ—¶çš„æ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨å“ˆå¸Œè¡¨ä¸­å­˜å‚¨äº†å¤§é‡é”®å€¼å¯¹çš„æƒ…å†µä¸‹ã€‚å› æ­¤ï¼Œåœ¨è¿›è¡Œrehashæ—¶ï¼Œåº”è¯¥é¿å…å¯¹Redisè¿›è¡Œå¤§é‡çš„å†™å…¥æ“ä½œï¼Œä»¥å…å½±å“æ€§èƒ½ã€‚</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308121115732.png"></p><h2 id="åº•å±‚å®ç°å¤æ‚åº¦æ€»ç»“"><a href="#åº•å±‚å®ç°å¤æ‚åº¦æ€»ç»“" class="headerlink" title="åº•å±‚å®ç°å¤æ‚åº¦æ€»ç»“"></a>åº•å±‚å®ç°å¤æ‚åº¦æ€»ç»“</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308121119851.png"></p><h2 id="ä¸€ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰"><a href="#ä¸€ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰" class="headerlink" title="ä¸€ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰"></a>ä¸€ã€å­—ç¬¦ä¸²ï¼ˆStringï¼‰</h2><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>å­—ç¬¦ä¸²ï¼ˆStringï¼‰ç±»å‹åœ¨Redisä¸­æ˜¯æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ä¹‹ä¸€ï¼Œé€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ol><li>ç¼“å­˜ï¼šå­—ç¬¦ä¸²ç±»å‹å¯ä»¥ç”¨äºç¼“å­˜æ•°æ®ï¼Œä¾‹å¦‚ç¼“å­˜æ•°æ®åº“æŸ¥è¯¢ç»“æœã€è®¡ç®—ç»“æœç­‰ã€‚ç”±äºRedisçš„é«˜æ€§èƒ½å’Œå¿«é€Ÿè¯»å†™èƒ½åŠ›ï¼Œä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹ä½œä¸ºç¼“å­˜å¯ä»¥å¤§å¤§æé«˜ç³»ç»Ÿçš„å“åº”é€Ÿåº¦ã€‚</li><li>è®¡æ•°å™¨ï¼šå­—ç¬¦ä¸²ç±»å‹å¯ä»¥ç”¨äºå®ç°è®¡æ•°å™¨åŠŸèƒ½ï¼Œä¾‹å¦‚ç»Ÿè®¡ç½‘ç«™çš„è®¿é—®æ¬¡æ•°ã€ç”¨æˆ·çš„ç‚¹èµæ•°ç­‰ã€‚é€šè¿‡ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹çš„è‡ªå¢å‘½ä»¤ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹è®¡æ•°å™¨è¿›è¡Œå¢åŠ æˆ–å‡å°‘æ“ä½œã€‚</li><li>åˆ†å¸ƒå¼é”ï¼šå­—ç¬¦ä¸²ç±»å‹å¯ä»¥ç”¨äºå®ç°åˆ†å¸ƒå¼é”ï¼Œä¿è¯åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„æ•°æ®ä¸€è‡´æ€§å’Œå¹¶å‘æ§åˆ¶ã€‚é€šè¿‡è®¾ç½®ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ä¸²ä½œä¸ºé”çš„å€¼ï¼Œå¹¶åˆ©ç”¨Redisçš„åŸå­æ€§æ“ä½œï¼Œå¯ä»¥å®ç°ç®€å•è€Œé«˜æ•ˆçš„åˆ†å¸ƒå¼é”æœºåˆ¶ã€‚</li><li>ä¼šè¯ç®¡ç†ï¼šå­—ç¬¦ä¸²ç±»å‹å¯ä»¥ç”¨äºå­˜å‚¨ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·ç™»å½•çŠ¶æ€ã€è´­ç‰©è½¦å†…å®¹ç­‰ã€‚é€šè¿‡å°†ä¼šè¯ä¿¡æ¯å­˜å‚¨åœ¨å­—ç¬¦ä¸²ç±»å‹ä¸­ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œè¯»å†™æ“ä½œï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®è¿‡æœŸæ—¶é—´æ¥è‡ªåŠ¨æ¸…ç†è¿‡æœŸçš„ä¼šè¯æ•°æ®ã€‚</li><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šå­—ç¬¦ä¸²ç±»å‹å¯ä»¥ç”¨äºå®ç°ç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œä¾‹å¦‚å°†æ¶ˆæ¯å†…å®¹ä½œä¸ºå­—ç¬¦ä¸²å­˜å‚¨åœ¨Redisä¸­ï¼Œç„¶åä½¿ç”¨åˆ—è¡¨ç±»å‹çš„å‘½ä»¤è¿›è¡Œæ¶ˆæ¯çš„å‘å¸ƒå’Œè®¢é˜…ã€‚</li><li>åˆ†å¸ƒå¼ç¼“å­˜ï¼šå­—ç¬¦ä¸²ç±»å‹å¯ä»¥ç”¨äºå®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Œä¾‹å¦‚å°†ç»è¿‡åºåˆ—åŒ–çš„å¯¹è±¡å­˜å‚¨åœ¨å­—ç¬¦ä¸²ç±»å‹ä¸­ï¼Œç„¶åé€šè¿‡ç¼“å­˜å‘½ä¸­æ¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½å’Œæ‰©å±•æ€§ã€‚</li></ol><h3 id="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ"><a href="#åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ" class="headerlink" title="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ"></a>åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ</h3><p>å½“æˆ‘ä»¬åœ¨Redisä¸­å­˜å‚¨å­—ç¬¦ä¸²æ—¶ï¼ŒRedisä½¿ç”¨äº†ä¸€ç§ç§°ä¸ºç®€å•åŠ¨æ€å­—ç¬¦ä¸²ï¼ˆSimple Dynamic Stringï¼ŒSDSï¼‰çš„æ•°æ®ç»“æ„æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚</p><p>SDSæ˜¯Redisè‡ªå·±å®ç°çš„ä¸€ç§å­—ç¬¦ä¸²è¡¨ç¤ºæ–¹å¼ï¼Œç›¸æ¯”äºä¼ ç»Ÿçš„Cè¯­è¨€å­—ç¬¦ä¸²ï¼ŒSDSå…·æœ‰è®¸å¤šä¼˜åŠ¿å’Œç‰¹ç‚¹ã€‚</p><ol><li>åŠ¨æ€è°ƒæ•´å¤§å°ï¼šSDSå¯ä»¥æ ¹æ®å­—ç¬¦ä¸²çš„é•¿åº¦åŠ¨æ€è°ƒæ•´å†…å­˜å¤§å°ã€‚è¿™æ„å‘³ç€å½“æˆ‘ä»¬å‘SDSä¸­æ·»åŠ æ›´å¤šçš„å­—ç¬¦æ—¶ï¼ŒSDSä¼šè‡ªåŠ¨åˆ†é…æ›´å¤šçš„å†…å­˜ç©ºé—´æ¥å®¹çº³æ–°çš„å­—ç¬¦ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜åˆ†é…å’Œé‡Šæ”¾ã€‚è¿™æ ·å¯ä»¥é¿å…é¢‘ç¹çš„å†…å­˜é‡æ–°åˆ†é…æ“ä½œï¼Œæé«˜äº†æ€§èƒ½ã€‚</li><li>O(1)æ—¶é—´å¤æ‚åº¦çš„é•¿åº¦è·å–ï¼šSDSåœ¨å†…éƒ¨ç»´æŠ¤äº†å­—ç¬¦ä¸²çš„é•¿åº¦ä¿¡æ¯ã€‚å› æ­¤ï¼Œæ— è®ºå­—ç¬¦ä¸²çš„é•¿åº¦æ˜¯å¤šå°‘ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åœ¨å¸¸æ•°æ—¶é—´å†…è·å–å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œè€Œä¸éœ€è¦éå†æ•´ä¸ªå­—ç¬¦ä¸²ã€‚è¿™ä½¿å¾—è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ“ä½œéå¸¸é«˜æ•ˆã€‚</li><li>äºŒè¿›åˆ¶å®‰å…¨ï¼šSDSå¯ä»¥å­˜å‚¨ä»»æ„äºŒè¿›åˆ¶æ•°æ®ï¼Œè€Œä¸ä»…ä»…å±€é™äºæ–‡æœ¬å­—ç¬¦ä¸²ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨SDSä¸­å­˜å‚¨åŒ…å«ç©ºå­—ç¬¦ï¼ˆâ€™\0â€™ï¼‰åœ¨å†…çš„ä»»æ„äºŒè¿›åˆ¶æ•°æ®ï¼Œè€Œä¸ä¼šå¯¼è‡´å­—ç¬¦ä¸²çš„æˆªæ–­æˆ–é”™è¯¯è§£æã€‚</li><li>ç¼“å†²åŒºæº¢å‡ºä¿æŠ¤ï¼šSDSåœ¨å†…éƒ¨ç»´æŠ¤äº†å­—ç¬¦ä¸²çš„é•¿åº¦ä¿¡æ¯ï¼Œè¿™ä½¿å¾—Redisèƒ½å¤Ÿæœ‰æ•ˆåœ°é˜²æ­¢ç¼“å†²åŒºæº¢å‡ºçš„é—®é¢˜ã€‚å½“æˆ‘ä»¬å‘SDSä¸­æ·»åŠ æ–°çš„å­—ç¬¦æ—¶ï¼ŒRedisä¼šæ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿçš„ç©ºé—´æ¥å®¹çº³æ–°çš„å­—ç¬¦ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼ŒRedisä¼šè‡ªåŠ¨åˆ†é…æ›´å¤šçš„å†…å­˜ç©ºé—´ï¼Œä»¥é¿å…æº¢å‡ºã€‚</li><li>å…¼å®¹Cå­—ç¬¦ä¸²ï¼šSDSå¯ä»¥é€šè¿‡è½¬æ¢å‡½æ•°ä¸Cå­—ç¬¦ä¸²è¿›è¡Œäº’ç›¸è½¬æ¢ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨Redisä¸­ä½¿ç”¨SDSæ¥å­˜å‚¨å­—ç¬¦ä¸²ï¼Œç„¶åå°†å…¶è½¬æ¢ä¸ºCå­—ç¬¦ä¸²ï¼Œä»¥ä¾¿ä¸ç°æœ‰çš„Cä»£ç è¿›è¡Œäº¤äº’ã€‚åä¹‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†Cå­—ç¬¦ä¸²è½¬æ¢ä¸ºSDSï¼Œä»¥ä¾¿åœ¨Redisä¸­ä½¿ç”¨æ›´å¤šçš„å­—ç¬¦ä¸²æ“ä½œåŠŸèƒ½ã€‚</li></ol><p>SDSçš„ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">sdshdr</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> len;        <span class="comment">// å­—ç¬¦ä¸²çš„é•¿åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="built_in">free</span>;       <span class="comment">// æœªä½¿ç”¨çš„å­—èŠ‚é•¿åº¦</span></span><br><span class="line">    <span class="type">char</span> buf[];     <span class="comment">// å­—ç¬¦ä¸²çš„å®é™…å†…å®¹</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>len</code>è¡¨ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œ<code>free</code>è¡¨ç¤ºæœªä½¿ç”¨çš„å­—èŠ‚é•¿åº¦ï¼Œ<code>buf</code>æ˜¯ä¸€ä¸ªæŸ”æ€§æ•°ç»„ï¼Œç”¨äºå­˜å‚¨å­—ç¬¦ä¸²çš„å®é™…å†…å®¹ã€‚</p><p>é€šè¿‡ä½¿ç”¨ç®€å•åŠ¨æ€å­—ç¬¦ä¸²ä½œä¸ºåº•å±‚æ•°æ®ç»“æ„ï¼ŒRedisèƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†å­—ç¬¦ä¸²æ“ä½œï¼Œå¹¶æä¾›äº†ä¸°å¯Œçš„å­—ç¬¦ä¸²æ“ä½œå‘½ä»¤å’ŒåŠŸèƒ½ã€‚è¿™ä½¿å¾—Redisæˆä¸ºä¸€ä¸ªå¼ºå¤§çš„é”®å€¼å­˜å‚¨ç³»ç»Ÿï¼Œå¯ä»¥ç”¨äºå„ç§ä¸åŒçš„åº”ç”¨åœºæ™¯ã€‚ä½œä¸ºæ–°æ‰‹ï¼Œäº†è§£SDSçš„ç‰¹ç‚¹å’Œç»“æ„å°†æœ‰åŠ©äºä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨Redisä¸­çš„å­—ç¬¦ä¸²æ•°æ®ç±»å‹ã€‚</p><h3 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>è¦åœ¨Redisä¸­ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><ol><li>è®¾ç½®å­—ç¬¦ä¸²å€¼ï¼šä½¿ç”¨<code>SET</code>å‘½ä»¤å¯ä»¥è®¾ç½®ä¸€ä¸ªå­—ç¬¦ä¸²é”®çš„å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>SET key value</code>å°†é”®<code>key</code>çš„å€¼è®¾ç½®ä¸º<code>value</code>ã€‚</li><li>è·å–å­—ç¬¦ä¸²å€¼ï¼šä½¿ç”¨<code>GET</code>å‘½ä»¤å¯ä»¥è·å–ä¸€ä¸ªå­—ç¬¦ä¸²é”®çš„å€¼ã€‚ä¾‹å¦‚ï¼Œ<code>GET key</code>å°†è¿”å›é”®<code>key</code>çš„å€¼ã€‚</li><li>è‡ªå¢&#x2F;è‡ªå‡æ“ä½œï¼šä½¿ç”¨<code>INCR</code>å‘½ä»¤å¯ä»¥å°†ä¸€ä¸ªå­—ç¬¦ä¸²é”®çš„å€¼è‡ªå¢1ï¼Œä½¿ç”¨<code>DECR</code>å‘½ä»¤å¯ä»¥å°†ä¸€ä¸ªå­—ç¬¦ä¸²é”®çš„å€¼è‡ªå‡1ã€‚ä¾‹å¦‚ï¼Œ<code>INCR key</code>å°†é”®<code>key</code>çš„å€¼å¢åŠ 1ã€‚</li><li>è®¾ç½®è¿‡æœŸæ—¶é—´ï¼šä½¿ç”¨<code>EXPIRE</code>å‘½ä»¤å¯ä»¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²é”®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚ä¾‹å¦‚ï¼Œ<code>EXPIRE key seconds</code>å°†é”®<code>key</code>çš„è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º<code>seconds</code>ç§’ã€‚</li><li>æ‰¹é‡æ“ä½œï¼šä½¿ç”¨<code>MSET</code>å‘½ä»¤å¯ä»¥åŒæ—¶è®¾ç½®å¤šä¸ªå­—ç¬¦ä¸²é”®çš„å€¼ï¼Œä½¿ç”¨<code>MGET</code>å‘½ä»¤å¯ä»¥åŒæ—¶è·å–å¤šä¸ªå­—ç¬¦ä¸²é”®çš„å€¼ã€‚</li><li>å­—ç¬¦ä¸²æ‹¼æ¥ï¼šä½¿ç”¨<code>APPEND</code>å‘½ä»¤å¯ä»¥å°†æŒ‡å®šå­—ç¬¦ä¸²è¿½åŠ åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²é”®çš„å€¼çš„æœ«å°¾ã€‚</li><li>å…¶ä»–æ“ä½œï¼šRedisè¿˜æä¾›äº†è®¸å¤šå…¶ä»–çš„å­—ç¬¦ä¸²æ“ä½œå‘½ä»¤ï¼Œå¦‚è·å–å­å­—ç¬¦ä¸²ã€è·å–å­—ç¬¦ä¸²é•¿åº¦ã€è®¾ç½®æŒ‡å®šä½ç½®çš„å­—ç¬¦ç­‰ã€‚</li></ol><p>ä»¥ä¸‹æ˜¯ä¸€äº›ç¤ºä¾‹å‘½ä»¤çš„ç”¨æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SET name <span class="string">&quot;John&quot;</span>          // è®¾ç½®é”®ä¸ºnameçš„å€¼ä¸º<span class="string">&quot;John&quot;</span></span><br><span class="line">GET name                 // è·å–é”®ä¸ºnameçš„å€¼</span><br><span class="line">INCR counter             // å°†é”®ä¸ºcounterçš„å€¼è‡ªå¢1</span><br><span class="line">EXPIRE key 60            // è®¾ç½®é”®ä¸ºkeyçš„è¿‡æœŸæ—¶é—´ä¸º60ç§’</span><br><span class="line">MSET key1 value1 key2 value2   // åŒæ—¶è®¾ç½®å¤šä¸ªé”®å€¼å¯¹</span><br><span class="line">MGET key1 key2           // åŒæ—¶è·å–å¤šä¸ªé”®çš„å€¼</span><br><span class="line">APPEND greeting <span class="string">&quot;, welcome!&quot;</span>   // å°†<span class="string">&quot;, welcome!&quot;</span>è¿½åŠ åˆ°é”®greetingçš„å€¼çš„æœ«å°¾</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä½¿ç”¨è¿™äº›å‘½ä»¤ï¼Œä½ å¯ä»¥åœ¨Redisä¸­çµæ´»åœ°æ“ä½œå­—ç¬¦ä¸²ç±»å‹ï¼Œå®ç°å„ç§åŠŸèƒ½å’Œåº”ç”¨åœºæ™¯ã€‚è®°å¾—åœ¨ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œæ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„å‘½ä»¤å’Œå‚æ•°ï¼Œå¹¶æ³¨æ„å¤„ç†å¼‚å¸¸æƒ…å†µå’Œé”™è¯¯è¿”å›å€¼ã€‚ </p><h3 id="éœ€è¦æ³¨æ„çš„åœ°æ–¹"><a href="#éœ€è¦æ³¨æ„çš„åœ°æ–¹" class="headerlink" title="éœ€è¦æ³¨æ„çš„åœ°æ–¹"></a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><p>åœ¨ä½¿ç”¨Redisçš„å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><ol><li>å­—ç¬¦ä¸²é•¿åº¦é™åˆ¶ï¼šRedisçš„å­—ç¬¦ä¸²ç±»å‹æœ€å¤§å¯ä»¥å­˜å‚¨512MBçš„æ•°æ®ã€‚å¦‚æœéœ€è¦å­˜å‚¨æ›´å¤§çš„æ•°æ®ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨Redisçš„å…¶ä»–æ•°æ®ç±»å‹æˆ–å°†æ•°æ®åˆ†ç‰‡å­˜å‚¨ã€‚</li><li>æ•°æ®ç±»å‹è½¬æ¢ï¼šå½“ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œéœ€è¦æ³¨æ„æ•°æ®ç±»å‹çš„è½¬æ¢ã€‚Redisçš„å­—ç¬¦ä¸²ç±»å‹æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ï¼Œå¯ä»¥å­˜å‚¨ä»»æ„äºŒè¿›åˆ¶æ•°æ®ï¼Œä½†åœ¨ä½¿ç”¨æ—¶éœ€è¦æ ¹æ®å…·ä½“æƒ…å†µè¿›è¡Œæ•°æ®çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</li><li>è¿‡æœŸæ—¶é—´è®¾ç½®ï¼šé€šè¿‡ä½¿ç”¨<code>EXPIRE</code>å‘½ä»¤å¯ä»¥ä¸ºå­—ç¬¦ä¸²é”®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä½†éœ€è¦æ³¨æ„è¿‡æœŸæ—¶é—´çš„åˆç†è®¾ç½®ã€‚è¿‡æœŸæ—¶é—´è¿‡çŸ­å¯èƒ½å¯¼è‡´é¢‘ç¹çš„æ•°æ®å¤±æ•ˆå’Œé‡æ–°åŠ è½½ï¼Œè¿‡æœŸæ—¶é—´è¿‡é•¿å¯èƒ½å¯¼è‡´æ•°æ®è¿‡æœŸä¸åŠæ—¶ã€‚</li><li>å†…å­˜ä½¿ç”¨ï¼šç”±äºRedisæ˜¯å†…å­˜æ•°æ®åº“ï¼Œä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹æ—¶éœ€è¦æ³¨æ„å†…å­˜çš„ä½¿ç”¨æƒ…å†µã€‚ç‰¹åˆ«æ˜¯åœ¨å­˜å‚¨å¤§é‡å­—ç¬¦ä¸²æ•°æ®æ—¶ï¼Œéœ€è¦åˆç†æ§åˆ¶å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾ï¼Œé¿å…å‡ºç°å†…å­˜æº¢å‡ºçš„é—®é¢˜ã€‚</li><li>å¹¶å‘æ“ä½œï¼šåœ¨å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹ç¯å¢ƒä¸‹ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œéœ€è¦æ³¨æ„å¹¶å‘æ“ä½œçš„é—®é¢˜ã€‚Redisæä¾›äº†åŸå­æ€§æ“ä½œå‘½ä»¤ï¼Œå¦‚è‡ªå¢ã€è‡ªå‡ç­‰ï¼Œå¯ä»¥ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œä½†éœ€è¦æ³¨æ„å¹¶å‘æ“ä½œå¯èƒ½å¯¼è‡´çš„æ•°æ®ç«äº‰å’Œä¸€è‡´æ€§é—®é¢˜ã€‚</li><li>é”®çš„å‘½åè§„èŒƒï¼šä¸ºäº†é¿å…é”®çš„å†²çªå’Œæ··æ·†ï¼Œå»ºè®®åœ¨å‘½åå­—ç¬¦ä¸²é”®æ—¶ä½¿ç”¨æœ‰æ„ä¹‰çš„ã€å…·æœ‰ä¸€å®šè§„èŒƒçš„å‘½åæ–¹å¼ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç®¡ç†å’Œç»´æŠ¤æ•°æ®ã€‚</li><li>æ•°æ®å¤‡ä»½å’ŒæŒä¹…åŒ–ï¼šRedisæä¾›äº†æ•°æ®æŒä¹…åŒ–çš„æœºåˆ¶ï¼Œå¯ä»¥å°†æ•°æ®ä¿å­˜åˆ°ç£ç›˜ä¸Šï¼Œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚åœ¨ä½¿ç”¨å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œå¯ä»¥è€ƒè™‘å®šæœŸè¿›è¡Œæ•°æ®å¤‡ä»½å’ŒæŒä¹…åŒ–æ“ä½œï¼Œä»¥ä¿è¯æ•°æ®çš„å®‰å…¨æ€§å’Œå¯æ¢å¤æ€§ã€‚</li></ol><p>æ€»ä¹‹ï¼Œåœ¨ä½¿ç”¨Redisçš„å­—ç¬¦ä¸²ç±»å‹æ—¶ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„åº”ç”¨åœºæ™¯å’Œéœ€æ±‚ï¼Œåˆç†é€‰æ‹©å‘½ä»¤å’Œå‚æ•°ï¼Œå¹¶æ³¨æ„å¤„ç†å¼‚å¸¸æƒ…å†µå’Œé”™è¯¯è¿”å›å€¼ã€‚åŒæ—¶ï¼Œåˆç†è§„åˆ’å’Œç®¡ç†æ•°æ®ï¼Œæ³¨æ„å†…å­˜ä½¿ç”¨å’Œå¹¶å‘æ“ä½œï¼Œå¯ä»¥æ›´å¥½åœ°åˆ©ç”¨Redisçš„å­—ç¬¦ä¸²ç±»å‹ï¼Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½å’Œå¯é æ€§ã€‚</p><h2 id="äºŒã€åˆ—è¡¨ï¼ˆListï¼‰"><a href="#äºŒã€åˆ—è¡¨ï¼ˆListï¼‰" class="headerlink" title="äºŒã€åˆ—è¡¨ï¼ˆListï¼‰"></a>äºŒã€åˆ—è¡¨ï¼ˆListï¼‰</h2><h3 id="é€‚ç”¨åœºæ™¯-1"><a href="#é€‚ç”¨åœºæ™¯-1" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>åˆ—è¡¨ï¼ˆListï¼‰ç±»å‹åœ¨Redisä¸­æ˜¯ä¸€ç§éå¸¸å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œé€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p><ol><li>æ¶ˆæ¯é˜Ÿåˆ—ï¼šåˆ—è¡¨ç±»å‹å¯ä»¥ç”¨äºå®ç°ç®€å•çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚ç”Ÿäº§è€…å¯ä»¥ä½¿ç”¨<code>LPUSH</code>å‘½ä»¤å°†æ¶ˆæ¯æ·»åŠ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼Œæ¶ˆè´¹è€…å¯ä»¥ä½¿ç”¨<code>RPOP</code>å‘½ä»¤ä»åˆ—è¡¨çš„å°¾éƒ¨è·å–æ¶ˆæ¯ã€‚è¿™ç§æ–¹å¼å¯ä»¥å®ç°å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰çš„æ¶ˆæ¯å¤„ç†ã€‚</li><li>å®æ—¶æ’è¡Œæ¦œï¼šåˆ—è¡¨ç±»å‹å¯ä»¥ç”¨äºå®ç°å®æ—¶æ’è¡Œæ¦œã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨<code>LPUSH</code>å‘½ä»¤å°†ç”¨æˆ·çš„å¾—åˆ†æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œç„¶åä½¿ç”¨<code>LPOP</code>å‘½ä»¤è·å–æ’è¡Œæ¦œçš„å‰å‡ åã€‚</li><li>ä»»åŠ¡é˜Ÿåˆ—ï¼šåˆ—è¡¨ç±»å‹å¯ä»¥ç”¨äºå®ç°ä»»åŠ¡é˜Ÿåˆ—ã€‚ç”Ÿäº§è€…å¯ä»¥ä½¿ç”¨<code>LPUSH</code>å‘½ä»¤å°†ä»»åŠ¡æ·»åŠ åˆ°åˆ—è¡¨çš„å°¾éƒ¨ï¼Œæ¶ˆè´¹è€…å¯ä»¥ä½¿ç”¨<code>RPOP</code>å‘½ä»¤ä»åˆ—è¡¨çš„å¤´éƒ¨è·å–ä»»åŠ¡ã€‚è¿™ç§æ–¹å¼å¯ä»¥å®ç°ä»»åŠ¡çš„åˆ†å‘å’Œå¤„ç†ã€‚</li><li>æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…ï¼šåˆ—è¡¨ç±»å‹å¯ä»¥ç”¨äºå®ç°ç®€å•çš„æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…ã€‚ç”Ÿäº§è€…å¯ä»¥ä½¿ç”¨<code>LPUSH</code>å‘½ä»¤å°†æ¶ˆæ¯æ·»åŠ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ï¼Œè®¢é˜…è€…å¯ä»¥ä½¿ç”¨<code>BLPOP</code>å‘½ä»¤é˜»å¡åœ°ä»åˆ—è¡¨ä¸­è·å–æ¶ˆæ¯ã€‚</li><li>å†å²è®°å½•ï¼šåˆ—è¡¨ç±»å‹å¯ä»¥ç”¨äºå­˜å‚¨å†å²è®°å½•ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨<code>LPUSH</code>å‘½ä»¤å°†ç”¨æˆ·çš„æµè§ˆè®°å½•æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œç„¶åä½¿ç”¨<code>LRANGE</code>å‘½ä»¤è·å–æœ€è¿‘çš„æµè§ˆè®°å½•ã€‚</li></ol><h3 id="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-1"><a href="#åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ"></a>åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ</h3><p>å½“æ¶‰åŠåˆ°Redisä¸­åˆ—è¡¨ç±»å‹çš„åº•å±‚å®ç°æ—¶ï¼Œæœ‰ä¸¤ç§å¯èƒ½çš„æ•°æ®ç»“æ„ï¼šå‹ç¼©åˆ—è¡¨ï¼ˆZiplistï¼‰å’ŒåŒå‘é“¾è¡¨ï¼ˆDoubly Linked Listï¼‰ã€‚</p><ol><li><p>å‹ç¼©åˆ—è¡¨ï¼ˆZiplistï¼‰ï¼š</p><p> å‹ç¼©åˆ—è¡¨æ˜¯ä¸€ç§ç´§å‡‘çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨è¾ƒå°çš„åˆ—è¡¨ã€‚å®ƒå°†å¤šä¸ªåˆ—è¡¨å…ƒç´ ç´§å¯†åœ°å­˜å‚¨åœ¨ä¸€èµ·ï¼Œä»¥å‡å°‘å†…å­˜çš„ä½¿ç”¨ã€‚å‹ç¼©åˆ—è¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;zlbytes&gt;&lt;zltail&gt;&lt;zllen&gt;&lt;entry&gt;&lt;entry&gt;...&lt;entry&gt;&lt;zlend&gt;</span></span><br></pre></td></tr></table></figure><pre><code>- `&lt;zlbytes&gt;`ï¼šè¡¨ç¤ºå‹ç¼©åˆ—è¡¨çš„æ€»å­—èŠ‚æ•°ã€‚- `&lt;zltail&gt;`ï¼šæŒ‡å‘å‹ç¼©åˆ—è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚- `&lt;zllen&gt;`ï¼šè¡¨ç¤ºå‹ç¼©åˆ—è¡¨ä¸­çš„å…ƒç´ æ•°é‡ã€‚- `&lt;entry&gt;`ï¼šè¡¨ç¤ºæ¯ä¸ªåˆ—è¡¨å…ƒç´ çš„å­˜å‚¨å½¢å¼ï¼ŒåŒ…æ‹¬å…ƒç´ é•¿åº¦å’Œå…ƒç´ å†…å®¹ã€‚- `&lt;zlend&gt;`ï¼šè¡¨ç¤ºå‹ç¼©åˆ—è¡¨çš„ç»“æŸæ ‡å¿—ã€‚å‹ç¼©åˆ—è¡¨çš„ä¼˜åŠ¿åœ¨äºå®ƒå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°‘å†…å­˜çš„ä½¿ç”¨ï¼Œå¹¶ä¸”å¯¹äºè¾ƒå°çš„åˆ—è¡¨ï¼Œå®ƒçš„æ€§èƒ½æ¯”åŒå‘é“¾è¡¨æ›´å¥½ã€‚ä½†æ˜¯ï¼Œå½“åˆ—è¡¨çš„é•¿åº¦æˆ–å…ƒç´ çš„å¤§å°è¶…è¿‡ä¸€å®šé™åˆ¶æ—¶ï¼ŒRedisä¼šè‡ªåŠ¨å°†å‹ç¼©åˆ—è¡¨è½¬æ¢ä¸ºåŒå‘é“¾è¡¨ã€‚</code></pre><ol start="2"><li><p>åŒå‘é“¾è¡¨ï¼ˆDoubly Linked Listï¼‰ï¼š</p><p> åŒå‘é“¾è¡¨æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨åˆ—è¡¨å…ƒç´ ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹å’Œåä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚åŒå‘é“¾è¡¨çš„ç»“æ„å¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;prev&gt;&lt;entry&gt;&lt;next&gt;</span></span><br></pre></td></tr></table></figure><pre><code>- `&lt;prev&gt;`ï¼šæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚- `&lt;entry&gt;`ï¼šè¡¨ç¤ºèŠ‚ç‚¹ä¸­å­˜å‚¨çš„åˆ—è¡¨å…ƒç´ ã€‚- `&lt;next&gt;`ï¼šæŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚åŒå‘é“¾è¡¨çš„ä¼˜åŠ¿åœ¨äºå®ƒå¯ä»¥é«˜æ•ˆåœ°è¿›è¡Œæ’å…¥ã€åˆ é™¤å’Œéå†æ“ä½œã€‚é€šè¿‡æŒ‡é’ˆï¼Œå¯ä»¥å¿«é€Ÿåœ°åœ¨é“¾è¡¨ä¸­ç§»åŠ¨ï¼Œå¹¶ä¸”åœ¨ä»»æ„ä½ç½®æ’å…¥æˆ–åˆ é™¤èŠ‚ç‚¹çš„å¼€é”€è¾ƒå°ã€‚</code></pre><p>Redisåœ¨é€‰æ‹©ä½¿ç”¨å‹ç¼©åˆ—è¡¨è¿˜æ˜¯åŒå‘é“¾è¡¨ä½œä¸ºåˆ—è¡¨çš„åº•å±‚å®ç°æ—¶ï¼Œä¼šæ ¹æ®ä»¥ä¸‹ä¸¤ä¸ªå› ç´ è¿›è¡Œåˆ¤æ–­ï¼š</p><ul><li>åˆ—è¡¨çš„é•¿åº¦ï¼šå½“åˆ—è¡¨çš„é•¿åº¦è¶…è¿‡ä¸€å®šé™åˆ¶ï¼ˆé»˜è®¤ä¸º512ä¸ªå…ƒç´ ï¼‰æ—¶ï¼ŒRedisä¼šå°†å‹ç¼©åˆ—è¡¨è½¬æ¢ä¸ºåŒå‘é“¾è¡¨ï¼Œä»¥ä¾¿æ›´å¥½åœ°å¤„ç†å¤§å‹åˆ—è¡¨ã€‚</li><li>åˆ—è¡¨å…ƒç´ çš„å¤§å°ï¼šå½“åˆ—è¡¨ä¸­çš„å…ƒç´ å¤§å°è¶…è¿‡ä¸€å®šé™åˆ¶ï¼ˆé»˜è®¤ä¸º64å­—èŠ‚ï¼‰æ—¶ï¼ŒRedisä¼šå°†å‹ç¼©åˆ—è¡¨è½¬æ¢ä¸ºåŒå‘é“¾è¡¨ï¼Œä»¥ä¾¿æ›´å¥½åœ°å¤„ç†å¤§å‹å…ƒç´ ã€‚</li></ul><p>è½¬æ¢æ—¶æœºæ˜¯åœ¨æ‰§è¡Œæ’å…¥æˆ–åˆ é™¤æ“ä½œæ—¶è¿›è¡Œæ£€æŸ¥çš„ã€‚å¦‚æœåˆ—è¡¨æ»¡è¶³è½¬æ¢æ¡ä»¶ï¼ŒRedisä¼šè‡ªåŠ¨å°†å‹ç¼©åˆ—è¡¨è½¬æ¢ä¸ºåŒå‘é“¾è¡¨ï¼Œå¹¶å°†æ•°æ®ä»å‹ç¼©åˆ—è¡¨å¤åˆ¶åˆ°æ–°çš„åŒå‘é“¾è¡¨ä¸­ã€‚è¿™ä¸ªè½¬æ¢è¿‡ç¨‹å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›é¢å¤–çš„å†…å­˜å¼€é”€ï¼Œä½†å®ƒä½¿å¾—Redisèƒ½å¤Ÿæ›´å¥½åœ°å¤„ç†å¤§å‹åˆ—è¡¨å’Œå¤§å‹å…ƒç´ ã€‚</p><p>é€šè¿‡ä½¿ç”¨å‹ç¼©åˆ—è¡¨å’ŒåŒå‘é“¾è¡¨ä½œä¸ºåº•å±‚å®ç°ï¼ŒRedisçš„åˆ—è¡¨ç±»å‹å¯ä»¥åœ¨ä¸åŒçš„åœºæ™¯ä¸‹æä¾›é«˜æ•ˆçš„æ€§èƒ½å’Œçµæ´»æ€§ã€‚</p><h3 id="å¦‚ä½•ä½¿ç”¨-1"><a href="#å¦‚ä½•ä½¿ç”¨-1" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>åœ¨Redisä¸­ï¼Œå¯ä»¥ä½¿ç”¨åˆ—è¡¨ï¼ˆListï¼‰ç±»å‹è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ol><li>æ·»åŠ å…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>LPUSH key value</code>å‘½ä»¤å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„å¤´éƒ¨ã€‚</li><li>ä½¿ç”¨<code>RPUSH key value</code>å‘½ä»¤å°†ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ æ·»åŠ åˆ°åˆ—è¡¨çš„å°¾éƒ¨ã€‚</li></ul></li><li>å¼¹å‡ºå…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>LPOP key</code>å‘½ä»¤ä»åˆ—è¡¨çš„å¤´éƒ¨å¼¹å‡ºå¹¶è¿”å›ä¸€ä¸ªå…ƒç´ ã€‚</li><li>ä½¿ç”¨<code>RPOP key</code>å‘½ä»¤ä»åˆ—è¡¨çš„å°¾éƒ¨å¼¹å‡ºå¹¶è¿”å›ä¸€ä¸ªå…ƒç´ ã€‚</li></ul></li><li>è·å–å…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>LINDEX key index</code>å‘½ä»¤è·å–åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚ç´¢å¼•ä»0å¼€å§‹ï¼Œè´Ÿæ•°è¡¨ç¤ºä»å°¾éƒ¨å¼€å§‹è®¡æ•°ã€‚</li><li>ä½¿ç”¨<code>LRANGE key start stop</code>å‘½ä»¤è·å–åˆ—è¡¨ä¸­æŒ‡å®šèŒƒå›´çš„å…ƒç´ ã€‚èŒƒå›´åŒ…æ‹¬èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ï¼Œè´Ÿæ•°è¡¨ç¤ºä»å°¾éƒ¨å¼€å§‹è®¡æ•°ã€‚</li></ul></li><li>è·å–åˆ—è¡¨é•¿åº¦ï¼š<ul><li>ä½¿ç”¨<code>LLEN key</code>å‘½ä»¤è·å–åˆ—è¡¨çš„é•¿åº¦ã€‚</li></ul></li><li>åœ¨æŒ‡å®šå…ƒç´ å‰æˆ–åæ’å…¥å…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>LINSERT key BEFORE|AFTER pivot value</code>å‘½ä»¤åœ¨åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ çš„å‰æˆ–åæ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚</li></ul></li><li>ç§»é™¤æŒ‡å®šæ•°é‡çš„å…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>LREM key count value</code>å‘½ä»¤ä»åˆ—è¡¨ä¸­ç§»é™¤æŒ‡å®šæ•°é‡çš„åŒ¹é…å…ƒç´ ã€‚</li></ul></li><li>è·å–å¹¶è®¾ç½®æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>LSET key index value</code>å‘½ä»¤å°†åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ è®¾ç½®ä¸ºæ–°çš„å€¼ï¼Œå¹¶è¿”å›æ—§çš„å€¼ã€‚</li></ul></li><li>è·å–å¹¶ç§»åŠ¨å…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>RPOPLPUSH source destination</code>å‘½ä»¤ä»ä¸€ä¸ªåˆ—è¡¨çš„å°¾éƒ¨å¼¹å‡ºä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å®ƒæ·»åŠ åˆ°å¦ä¸€ä¸ªåˆ—è¡¨çš„å¤´éƒ¨ã€‚</li></ul></li><li>é˜»å¡å¼¹å‡ºå…ƒç´ ï¼š<ul><li>ä½¿ç”¨<code>BLPOP key1 key2 ... timeout</code>å‘½ä»¤é˜»å¡åœ°ä»å¤šä¸ªåˆ—è¡¨ä¸­å¼¹å‡ºå…ƒç´ ï¼Œç›´åˆ°æœ‰å…ƒç´ å¯å¼¹å‡ºæˆ–è¶…æ—¶ã€‚</li></ul></li></ol><p>è¿™äº›æ˜¯åˆ—è¡¨ç±»å‹çš„ä¸€äº›å¸¸ç”¨æ“ä½œï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚é€‰æ‹©é€‚åˆçš„å‘½ä»¤æ¥æ“ä½œåˆ—è¡¨ã€‚åˆ—è¡¨ç±»å‹åœ¨Redisä¸­éå¸¸çµæ´»å’Œå¤šç”¨é€”ï¼Œé€‚ç”¨äºå„ç§åœºæ™¯ï¼ŒåŒ…æ‹¬æ¶ˆæ¯é˜Ÿåˆ—ã€æ’è¡Œæ¦œã€ä»»åŠ¡é˜Ÿåˆ—ã€æ¶ˆæ¯å‘å¸ƒä¸è®¢é˜…ã€å†å²è®°å½•ç­‰ã€‚</p><h3 id="éœ€è¦æ³¨æ„çš„åœ°æ–¹-1"><a href="#éœ€è¦æ³¨æ„çš„åœ°æ–¹-1" class="headerlink" title="éœ€è¦æ³¨æ„çš„åœ°æ–¹"></a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><p>åœ¨ä½¿ç”¨Redisä¸­çš„åˆ—è¡¨æ•°æ®ç±»å‹æ—¶ï¼Œæœ‰ä¸€äº›æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ–°æ‰‹æ¥è¯´ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä½¿ç”¨Redisåˆ—è¡¨æ—¶éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><ol><li><p><strong>æ’å…¥é¡ºåºå’Œé‡å¤ï¼š</strong></p><p> åˆ—è¡¨æ˜¯æœ‰åºçš„æ•°æ®ç»“æ„ï¼Œæ’å…¥çš„å…ƒç´ æŒ‰ç…§æ’å…¥çš„é¡ºåºæ’åˆ—ã€‚å…è®¸æ’å…¥é‡å¤çš„å…ƒç´ ï¼Œå› æ­¤åˆ—è¡¨å¯ä»¥ä½œä¸ºä¸€ä¸ªç®€å•çš„æ•°æ®ç»“æ„æ¥å®ç°é˜Ÿåˆ—æˆ–æ ˆã€‚</p></li><li><p><strong>å·¦å³æ’å…¥æ“ä½œï¼š</strong></p><p> Redisæä¾›äº† <code>LPUSH</code> å’Œ <code>RPUSH</code> å‘½ä»¤æ¥åœ¨åˆ—è¡¨çš„å·¦ä¾§å’Œå³ä¾§æ’å…¥å…ƒç´ ã€‚å·¦ä¾§æ’å…¥ç±»ä¼¼äºæ ˆçš„æ“ä½œï¼Œå³ä¾§æ’å…¥ç±»ä¼¼äºé˜Ÿåˆ—çš„æ“ä½œã€‚</p></li><li><p><strong>èŒƒå›´æ“ä½œï¼š</strong></p><p> ä½¿ç”¨ <code>LRANGE</code> å‘½ä»¤å¯ä»¥è·å–åˆ—è¡¨ä¸­çš„ä¸€å®šèŒƒå›´çš„å…ƒç´ ã€‚è¿™å¯¹äºåˆ†é¡µæ˜¾ç¤ºã€è·å–æœ€è¿‘çš„æ•°æ®ç­‰åœºæ™¯éå¸¸æœ‰ç”¨ã€‚</p></li><li><p><strong>ä¿®å‰ªåˆ—è¡¨ï¼š</strong></p><p> ä½¿ç”¨ <code>LTRIM</code> å‘½ä»¤å¯ä»¥ä¿®å‰ªåˆ—è¡¨ï¼Œåªä¿ç•™æŒ‡å®šèŒƒå›´çš„å…ƒç´ ï¼Œå…¶ä½™çš„å…ƒç´ ä¼šè¢«åˆ é™¤ã€‚</p></li><li><p><strong>åˆ—è¡¨é•¿åº¦ï¼š</strong></p><p> ä½¿ç”¨ <code>LLEN</code> å‘½ä»¤å¯ä»¥è·å–åˆ—è¡¨çš„é•¿åº¦ã€‚</p></li><li><p><strong>å¼¹å‡ºå…ƒç´ ï¼š</strong></p><p> ä½¿ç”¨ <code>LPOP</code> å’Œ <code>RPOP</code> å‘½ä»¤å¯ä»¥ä»åˆ—è¡¨çš„å·¦ä¾§å’Œå³ä¾§å¼¹å‡ºä¸€ä¸ªå…ƒç´ ã€‚è¿™å¯ä»¥ç”¨äºå®ç°é˜Ÿåˆ—å’Œæ ˆçš„è¡Œä¸ºã€‚</p></li><li><p><strong>é˜»å¡æ“ä½œï¼š</strong></p><p> Redisè¿˜æä¾›äº†é˜»å¡ç‰ˆæœ¬çš„å¼¹å‡ºæ“ä½œï¼Œä¾‹å¦‚ <code>BLPOP</code> å’Œ <code>BRPOP</code>ï¼Œè¿™äº›å‘½ä»¤å¯ä»¥åœ¨åˆ—è¡¨ä¸ºç©ºæ—¶é˜»å¡ç­‰å¾…æ–°å…ƒç´ çš„åˆ°æ¥ã€‚</p></li><li><p><strong>éå†æ“ä½œï¼š</strong></p><p> Rediså¹¶æ²¡æœ‰ç›´æ¥æä¾›åƒè¿­ä»£å™¨ä¸€æ ·çš„éå†æœºåˆ¶ï¼Œå› æ­¤å¦‚æœéœ€è¦éå†åˆ—è¡¨ï¼Œéœ€è¦è‡ªå·±å®ç°ã€‚</p></li><li><p><strong>å†…å­˜æ³¨æ„ï¼š</strong></p><p> åˆ—è¡¨è™½ç„¶å¾ˆæ–¹ä¾¿ï¼Œä½†éšç€å…ƒç´ çš„å¢åŠ ï¼Œå†…å­˜å ç”¨ä¹Ÿä¼šå¢åŠ ã€‚åœ¨æ’å…¥å¤§é‡å…ƒç´ æ—¶è¦æ³¨æ„å†…å­˜æ¶ˆè€—ã€‚</p></li><li><p><strong>ä¸é€‚åˆå¤§å‹åˆ—è¡¨ï¼š</strong></p><p>Redisçš„åˆ—è¡¨æ˜¯åŸºäºé“¾è¡¨å®ç°çš„ï¼Œå¯¹äºå¤§å‹åˆ—è¡¨çš„éšæœºè®¿é—®æ•ˆç‡è¾ƒä½ï¼Œå¦‚æœéœ€è¦é¢‘ç¹çš„éšæœºè®¿é—®ï¼Œè¯·è€ƒè™‘å…¶ä»–æ•°æ®ç»“æ„ã€‚</p></li><li><p><strong>é¿å…æ»¥ç”¨ï¼š</strong></p><p>åˆ—è¡¨é€‚ç”¨äºæœ‰åºæ’å…¥å’Œåˆ é™¤çš„åœºæ™¯ï¼Œä½†ä¸é€‚åˆç”¨ä½œé›†åˆæ•°æ®çš„å­˜å‚¨ã€‚å¦‚æœéœ€è¦é›†åˆæ“ä½œï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é›†åˆï¼ˆSetï¼‰æ•°æ®ç±»å‹ã€‚</p></li></ol><p>æ€»ä¹‹ï¼Œä½¿ç”¨Redisåˆ—è¡¨æ—¶éœ€è¦æ ¹æ®å…·ä½“çš„ä¸šåŠ¡éœ€æ±‚å’Œåœºæ™¯æ¥é€‰æ‹©ã€‚äº†è§£Redisåˆ—è¡¨çš„ç‰¹ç‚¹å’Œé™åˆ¶ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°è§„åˆ’å’Œä½¿ç”¨è¿™ä¸€æ•°æ®ç±»å‹ã€‚</p><h2 id="ä¸‰ã€é›†åˆï¼ˆSetï¼‰"><a href="#ä¸‰ã€é›†åˆï¼ˆSetï¼‰" class="headerlink" title="ä¸‰ã€é›†åˆï¼ˆSetï¼‰"></a>ä¸‰ã€é›†åˆï¼ˆSetï¼‰</h2><h3 id="é€‚ç”¨åœºæ™¯-2"><a href="#é€‚ç”¨åœºæ™¯-2" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>Redisçš„Setæ•°æ®ç±»å‹æ˜¯ä¸€ä¸ªæ— åºçš„å­—ç¬¦ä¸²é›†åˆï¼Œå®ƒå¯ä»¥å­˜å‚¨å¤šä¸ªä¸é‡å¤çš„å…ƒç´ ã€‚Setåœ¨Redisä¸­æœ‰è®¸å¤šå®é™…çš„ä½¿ç”¨åœºæ™¯ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„ä½¿ç”¨åœºæ™¯ï¼š</p><ol><li><p><strong>å”¯ä¸€æ€§æ•°æ®å­˜å‚¨ï¼š</strong></p><p> æœ€åŸºæœ¬çš„ä½¿ç”¨åœºæ™¯å°±æ˜¯ç”¨æ¥å­˜å‚¨ä¸é‡å¤çš„æ•°æ®ã€‚ä½ å¯ä»¥ä½¿ç”¨Setæ¥å­˜å‚¨ç”¨æˆ·IDã€IPåœ°å€ã€é‚®ç®±åœ°å€ç­‰ï¼Œç¡®ä¿æ•°æ®çš„å”¯ä¸€æ€§ã€‚</p></li><li><p><strong>æ ‡ç­¾å’Œæ ‡è®°ç³»ç»Ÿï¼š</strong></p><p> Setå¯ä»¥ç”¨äºåˆ›å»ºæ ‡ç­¾æˆ–æ ‡è®°ç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä¸ºæ–‡ç« ã€å•†å“æˆ–å…¶ä»–å®ä½“åˆ›å»ºä¸€ä¸ªåŒ…å«ç›¸å…³æ ‡ç­¾çš„Setï¼Œä»¥ä¾¿åç»­å¿«é€Ÿæ£€ç´¢ã€‚</p></li><li><p><strong>å…³æ³¨å’Œç²‰ä¸ç³»ç»Ÿï¼š</strong></p><p> åœ¨ç¤¾äº¤åª’ä½“æˆ–ç”¨æˆ·å…³ç³»ç®¡ç†ä¸­ï¼ŒSetå¯ä»¥ç”¨æ¥å®ç°å…³æ³¨å’Œç²‰ä¸ç³»ç»Ÿã€‚æ¯ä¸ªç”¨æˆ·å¯ä»¥æœ‰ä¸€ä¸ªSetï¼Œå…¶ä¸­åŒ…å«ä»–ä»¬å…³æ³¨çš„å…¶ä»–ç”¨æˆ·æˆ–ç²‰ä¸ã€‚</p></li><li><p><strong>åœ¨çº¿ç”¨æˆ·ï¼š</strong></p><p> Setå¯ä»¥ç”¨äºè·Ÿè¸ªåœ¨çº¿ç”¨æˆ·ã€‚å°†ç”¨æˆ·IDæ·»åŠ åˆ°ä¸€ä¸ªSetä¸­ï¼Œè¡¨ç¤ºç”¨æˆ·å½“å‰åœ¨çº¿ã€‚é€šè¿‡æ£€æŸ¥Setä¸­çš„æˆå‘˜ï¼Œå¯ä»¥å¿«é€ŸæŸ¥æ‰¾åœ¨çº¿ç”¨æˆ·ã€‚</p></li><li><p><strong>æŠ•ç¥¨ç³»ç»Ÿï¼š</strong></p><p> Setå¯ä»¥ç”¨äºå®ç°æŠ•ç¥¨ç³»ç»Ÿã€‚æ¯ä¸ªæŠ•ç¥¨é¡¹ç›®å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªSetï¼Œç”¨æˆ·æŠ•ç¥¨æ—¶å°†å…¶IDæ·»åŠ åˆ°ç›¸åº”çš„Setä¸­ï¼Œç¡®ä¿æ¯ä¸ªç”¨æˆ·åªèƒ½æŠ•ä¸€æ¬¡ã€‚</p></li><li><p><strong>é›†åˆè¿ç®—ï¼š</strong></p><p> Redisæä¾›äº†å¤šç§Setè¿ç®—ï¼Œå¦‚äº¤é›†ã€å¹¶é›†å’Œå·®é›†ã€‚è¿™äº›è¿ç®—å¯ä»¥ç”¨äºè®¡ç®—å¤šä¸ªé›†åˆä¹‹é—´çš„å…±åŒå…ƒç´ ã€åˆå¹¶å…ƒç´ ç­‰ã€‚</p></li><li><p><strong>æ’è¡Œæ¦œå’Œæ’åï¼š</strong></p><p> Setå¯ä»¥ç”¨äºåˆ›å»ºæ’è¡Œæ¦œç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œæ¯ä¸ªå…ƒç´ ä»£è¡¨ä¸€ä¸ªç©å®¶ï¼Œåˆ†æ•°ä½œä¸ºå…ƒç´ çš„æƒé‡ã€‚å¯ä»¥é€šè¿‡æœ‰åºé›†åˆæ“ä½œè·å–æ’åå’Œæ’è¡Œã€‚</p></li><li><p><strong>åœ°ç†ä½ç½®æ ‡è®°ï¼š</strong></p><p> Setå¯ä»¥ç”¨äºå­˜å‚¨åœ°ç†ä½ç½®æ•°æ®ï¼Œä¾‹å¦‚å­˜å‚¨ç”¨æˆ·çš„ç»çº¬åº¦åæ ‡ï¼Œç„¶ååˆ©ç”¨Setè¿ç®—æ¥æŸ¥æ‰¾é™„è¿‘çš„ä½ç½®ã€‚</p></li><li><p><strong>è¿‡æ»¤é‡å¤äº‹ä»¶ï¼š</strong></p><p> å¦‚æœä½ éœ€è¦è®°å½•ä¸€ç³»åˆ—äº‹ä»¶ï¼Œå¹¶ä¸”è¦ç¡®ä¿äº‹ä»¶ä¸é‡å¤è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨Setæ¥å­˜å‚¨å·²ç»å‘ç”Ÿçš„äº‹ä»¶ï¼Œé˜²æ­¢é‡å¤è®°å½•ã€‚</p></li></ol><p>æ€»çš„æ¥è¯´ï¼ŒRedisçš„Setæ•°æ®ç±»å‹éå¸¸é€‚åˆéœ€è¦å­˜å‚¨ä¸é‡å¤æ•°æ®ã€è¿›è¡Œé›†åˆè¿ç®—ä»¥åŠéœ€è¦é«˜æ•ˆæŸ¥æ‰¾å…ƒç´ çš„åœºæ™¯ã€‚æ— è®ºæ˜¯åœ¨ç¤¾äº¤ç½‘ç»œã€å®æ—¶åˆ†æã€æ’è¡Œæ¦œã€åœ°ç†ä½ç½®æœåŠ¡ç­‰é¢†åŸŸï¼ŒSetéƒ½æœ‰ç€å¹¿æ³›çš„åº”ç”¨ã€‚</p><h3 id="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-2"><a href="#åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ"></a>åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ</h3><p>åœ¨Redisä¸­ï¼Œé›†åˆï¼ˆSetï¼‰ç±»å‹çš„åº•å±‚å®ç°æœ‰ä¸¤ç§ï¼šå“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰å’Œè·³è·ƒè¡¨ï¼ˆSkip Listï¼‰ã€‚</p><ol><li>å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰ï¼šå“ˆå¸Œè¡¨æ˜¯ä¸€ç§ä½¿ç”¨å“ˆå¸Œå‡½æ•°å°†å…ƒç´ æ˜ å°„åˆ°æ¡¶ï¼ˆbucketï¼‰çš„æ•°æ®ç»“æ„ã€‚åœ¨Redisä¸­ï¼Œé›†åˆçš„æ¯ä¸ªå…ƒç´ éƒ½è¢«å­˜å‚¨åœ¨å“ˆå¸Œè¡¨çš„ä¸€ä¸ªæ¡¶ä¸­ã€‚å“ˆå¸Œè¡¨æä¾›äº†å¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œï¼Œå¹³å‡æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚å“ˆå¸Œè¡¨é€‚ç”¨äºå­˜å‚¨å¤§é‡å…ƒç´ çš„é›†åˆï¼Œå¹¶ä¸”å¯¹äºæŸ¥æ‰¾æ“ä½œçš„æ€§èƒ½è¦æ±‚è¾ƒé«˜ã€‚</li><li>è·³è·ƒè¡¨ï¼ˆSkip Listï¼‰ï¼šè·³è·ƒè¡¨æ˜¯ä¸€ç§æœ‰åºçš„æ•°æ®ç»“æ„ï¼Œå®ƒé€šè¿‡å¤šå±‚é“¾è¡¨çš„æ–¹å¼æ¥æä¾›å¿«é€Ÿçš„æŸ¥æ‰¾æ“ä½œã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€å±‚å’Œå³ä¾§èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚åœ¨Redisä¸­ï¼Œé›†åˆçš„å…ƒç´ æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºå­˜å‚¨åœ¨è·³è·ƒè¡¨ä¸­ã€‚è·³è·ƒè¡¨æä¾›äº†å¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’ŒèŒƒå›´æŸ¥æ‰¾æ“ä½œï¼Œå¹³å‡æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ã€‚è·³è·ƒè¡¨é€‚ç”¨äºæœ‰åºé›†åˆçš„åœºæ™¯ï¼Œæˆ–è€…å¯¹äºèŒƒå›´æŸ¥æ‰¾æ“ä½œçš„æ€§èƒ½è¦æ±‚è¾ƒé«˜ã€‚</li></ol><p>åœ¨Redisä¸­ï¼Œå½“é›†åˆçš„å…ƒç´ æ•°é‡è¾ƒå°‘æ—¶ï¼Œåº•å±‚å®ç°ä¼šä½¿ç”¨å“ˆå¸Œè¡¨ã€‚å½“é›†åˆçš„å…ƒç´ æ•°é‡å¢åŠ åˆ°ä¸€å®šé˜ˆå€¼æ—¶ï¼ŒRedisä¼šè‡ªåŠ¨å°†å“ˆå¸Œè¡¨è½¬æ¢ä¸ºè·³è·ƒè¡¨ï¼Œä»¥æä¾›æ›´å¥½çš„æ€§èƒ½å’Œç©ºé—´æ•ˆç‡ã€‚</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308121117928.png"></p><p>Redisä¸­çš„æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ä½¿ç”¨çš„æ˜¯è·³è·ƒè¡¨ï¼ˆSkip Listï¼‰æ•°æ®ç»“æ„æ¥å®ç°çš„ã€‚è·³è·ƒè¡¨æ˜¯ä¸€ç§ç”¨äºæœ‰åºå…ƒç´ å­˜å‚¨å’Œæ£€ç´¢çš„æ•°æ®ç»“æ„ï¼Œå®ƒçš„è®¾è®¡ä½¿å¾—æœ‰åºé›†åˆçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œéƒ½èƒ½åœ¨å¹³å‡æƒ…å†µä¸‹è¾¾åˆ° O(log n) çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p><strong>è·³è·ƒè¡¨ï¼ˆSkip Listï¼‰å®ç°åŸç†ï¼š</strong></p><ol><li><p><strong>å¤šçº§ç´¢å¼•ï¼š</strong></p><p> è·³è·ƒè¡¨çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä½¿ç”¨å¤šçº§ç´¢å¼•æ¥åŠ é€ŸæŸ¥æ‰¾æ“ä½œã€‚é™¤äº†åº•å±‚çš„é“¾è¡¨ç»“æ„ï¼Œè·³è·ƒè¡¨è¿˜æœ‰å¤šä¸ªçº§åˆ«çš„ç´¢å¼•ï¼Œæ¯ä¸€çº§ç´¢å¼•éƒ½æ˜¯ä¸€ä¸ªè¾ƒå°çš„æœ‰åºé“¾è¡¨ï¼Œå…¶ä¸­çš„èŠ‚ç‚¹åŒ…å«æŒ‡å‘ä¸‹ä¸€çº§ç´¢å¼•èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚</p></li><li><p><strong>åº•å±‚é“¾è¡¨ï¼š</strong></p><p> è·³è·ƒè¡¨çš„åº•å±‚æ˜¯ä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼ŒèŠ‚ç‚¹æŒ‰ç…§é”®çš„å¤§å°é¡ºåºæ’åˆ—ã€‚æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸€ä¸ªé”®å’Œå¯¹åº”çš„å€¼ã€‚</p></li><li><p><strong>å¤šçº§ç´¢å¼•èŠ‚ç‚¹ï¼š</strong></p><p> è·³è·ƒè¡¨çš„å¤šçº§ç´¢å¼•èŠ‚ç‚¹ä¹Ÿæ˜¯æœ‰åºé“¾è¡¨ï¼Œä½†æ˜¯å®ƒçš„èŠ‚ç‚¹æ•°ç›®æ¯”åº•å±‚é“¾è¡¨å°‘ã€‚æ¯ä¸ªå¤šçº§ç´¢å¼•èŠ‚ç‚¹éƒ½å­˜å‚¨äº†æŒ‡å‘åº•å±‚é“¾è¡¨ä¸­å¯¹åº”èŒƒå›´èŠ‚ç‚¹çš„æŒ‡é’ˆã€‚ä¸åŒçº§åˆ«çš„ç´¢å¼•é€šè¿‡é“¾å¼è¿æ¥åœ¨ä¸€èµ·ã€‚</p></li><li><p><strong>èŠ‚ç‚¹çš„åˆ†å¸ƒï¼š</strong></p><p> èŠ‚ç‚¹åœ¨ä¸åŒçº§åˆ«çš„ç´¢å¼•ä¸­ä»¥ä¸€å®šæ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—è·³è·ƒè¡¨åœ¨æŸ¥è¯¢æ—¶èƒ½å¤Ÿå¿«é€Ÿè·³è¿‡ä¸€äº›ä¸å¿…è¦çš„èŠ‚ç‚¹ï¼Œä»è€Œè¾¾åˆ°å¿«é€ŸæŸ¥æ‰¾çš„æ•ˆæœã€‚</p></li></ol><p><strong>è·³è·ƒè¡¨æŸ¥è¯¢æµç¨‹ï¼š</strong></p><ol><li>å®¢æˆ·ç«¯å‘é€æŸ¥è¯¢å‘½ä»¤ï¼ŒæŒ‡å®šè¦æŸ¥è¯¢çš„æˆå‘˜ã€‚</li><li>Redisä¼šä»é¡¶çº§ç´¢å¼•ï¼ˆæœ€é«˜çº§åˆ«ï¼‰å¼€å§‹ï¼Œé€çº§å‘å³ç§»åŠ¨ï¼ŒæŸ¥æ‰¾æ¯ä¸€çº§ç´¢å¼•ä¸­çš„èŠ‚ç‚¹ã€‚</li><li>åœ¨æ¯ä¸€çº§ç´¢å¼•ä¸­ï¼ŒRedisä¼šæ²¿ç€é“¾è¡¨ç§»åŠ¨ï¼Œæ¯”è¾ƒèŠ‚ç‚¹çš„é”®ä¸è¦æŸ¥æ‰¾çš„æˆå‘˜çš„å¤§å°ã€‚</li><li>å½“æ‰¾åˆ°ç¬¬ä¸€ä¸ªå¤§äºç­‰äºè¦æŸ¥æ‰¾æˆå‘˜çš„èŠ‚ç‚¹æ—¶ï¼Œå¦‚æœèŠ‚ç‚¹çš„é”®ç­‰äºè¦æŸ¥æ‰¾çš„æˆå‘˜ï¼ŒæŸ¥æ‰¾æˆåŠŸï¼›å¦‚æœèŠ‚ç‚¹çš„é”®å¤§äºè¦æŸ¥æ‰¾çš„æˆå‘˜ï¼Œå°±ä¼šè¿›å…¥ä¸‹ä¸€çº§ç´¢å¼•ç»§ç»­æŸ¥æ‰¾ã€‚</li><li>å¦‚æœæœ€åº•å±‚é“¾è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæŸ¥è¯¢å¤±è´¥ï¼Œè¿”å›ç»“æœä¸ºç©ºã€‚</li></ol><p>è·³è·ƒè¡¨çš„è®¾è®¡ä½¿å¾—å®ƒåœ¨æœ‰åºé›†åˆä¸­å®ç°é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œç‰¹åˆ«æ˜¯å¯¹äºèŒƒå›´æŸ¥è¯¢ç­‰æ“ä½œã€‚é€šè¿‡å¤šçº§ç´¢å¼•å’Œæœ‰åºé“¾è¡¨çš„ç»“åˆï¼ŒRedisçš„æœ‰åºé›†åˆèƒ½å¤Ÿåœ¨å¹³å‡æƒ…å†µä¸‹è¾¾åˆ° O(log n) çš„æ—¶é—´å¤æ‚åº¦ï¼Œä»è€Œä¿è¯äº†é«˜æ€§èƒ½çš„æ•°æ®æ“ä½œã€‚</p><h3 id="å¦‚ä½•ä½¿ç”¨-2"><a href="#å¦‚ä½•ä½¿ç”¨-2" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>Redisçš„Setæ˜¯ä¸€ç§æ— åºã€ä¸é‡å¤å…ƒç´ çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼äºæ•°å­¦ä¸Šçš„é›†åˆã€‚å®ƒæ”¯æŒæ·»åŠ ã€åˆ é™¤å’ŒæŸ¥è¯¢å…ƒç´ ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¯¹å¤šä¸ªé›†åˆè¿›è¡Œäº¤é›†ã€å¹¶é›†ã€å·®é›†ç­‰æ“ä½œã€‚ä¸‹é¢æ˜¯å…³äºRedis Setçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ï¼š</p><p><strong>1. æ·»åŠ å…ƒç´ ï¼š</strong></p><p>ä½¿ç”¨ <code>SADD</code> å‘½ä»¤å¯ä»¥å‘ä¸€ä¸ªSetä¸­æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SADD myset value1 value2 value3</span><br></pre></td></tr></table></figure><p><strong>2. åˆ é™¤å…ƒç´ ï¼š</strong></p><p>ä½¿ç”¨ <code>SREM</code> å‘½ä»¤å¯ä»¥ä»ä¸€ä¸ªSetä¸­åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SREM myset value1 value2</span><br></pre></td></tr></table></figure><p><strong>3. åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼š</strong></p><p>ä½¿ç”¨ <code>SISMEMBER</code> å‘½ä»¤å¯ä»¥åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºSetä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SISMEMBER myset value</span><br></pre></td></tr></table></figure><p><strong>4. è·å–é›†åˆä¸­çš„å…ƒç´ æ•°é‡ï¼š</strong></p><p>ä½¿ç”¨ <code>SCARD</code> å‘½ä»¤å¯ä»¥è·å–ä¸€ä¸ªSetä¸­å…ƒç´ çš„æ•°é‡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SCARD myset</span><br></pre></td></tr></table></figure><p><strong>5. è·å–é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼š</strong></p><p>ä½¿ç”¨ <code>SMEMBERS</code> å‘½ä»¤å¯ä»¥è·å–ä¸€ä¸ªSetä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SMEMBERS myset</span><br></pre></td></tr></table></figure><p><strong>6. é›†åˆæ“ä½œï¼š</strong></p><ul><li>å¹¶é›†ï¼šä½¿ç”¨ <code>SUNION</code> å‘½ä»¤å¯ä»¥å¯¹å¤šä¸ªSetè¿›è¡Œå¹¶é›†æ“ä½œã€‚</li><li>äº¤é›†ï¼šä½¿ç”¨ <code>SINTER</code> å‘½ä»¤å¯ä»¥å¯¹å¤šä¸ªSetè¿›è¡Œäº¤é›†æ“ä½œã€‚</li><li>å·®é›†ï¼šä½¿ç”¨ <code>SDIFF</code> å‘½ä»¤å¯ä»¥å¯¹å¤šä¸ªSetè¿›è¡Œå·®é›†æ“ä½œã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SUNION destination_set set1 set2</span><br><span class="line">SINTER destination_set set1 set2</span><br><span class="line">SDIFF destination_set set1 set2</span><br></pre></td></tr></table></figure><h3 id="éœ€è¦æ³¨æ„çš„åœ°æ–¹-2"><a href="#éœ€è¦æ³¨æ„çš„åœ°æ–¹-2" class="headerlink" title="éœ€è¦æ³¨æ„çš„åœ°æ–¹"></a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><p>åœ¨ä½¿ç”¨Redisçš„Setæ•°æ®ç±»å‹æ—¶ï¼Œæœ‰ä¸€äº›æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°åˆ©ç”¨å®ƒã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨Redis Setæ—¶éœ€è¦æ³¨æ„çš„å‡ ä¸ªæ–¹é¢ï¼š</p><p><strong>1. å”¯ä¸€æ€§ï¼š</strong></p><p>Setæ˜¯æ— åºã€ä¸é‡å¤å…ƒç´ çš„é›†åˆã€‚ç¡®ä¿ä½ å‘Setä¸­æ·»åŠ çš„å…ƒç´ æ˜¯å”¯ä¸€çš„ï¼Œå› ä¸ºSetä¸ä¼šå­˜å‚¨é‡å¤çš„å€¼ã€‚</p><p><strong>2. æ•°æ®é‡ï¼š</strong></p><p>è™½ç„¶Rediså¯ä»¥å¤„ç†å¤§é‡çš„æ•°æ®ï¼Œä½†ä»éœ€è°¨æ…å¤„ç†æ•°æ®é‡è¾ƒå¤§çš„Setã€‚å½“Setä¸­çš„å…ƒç´ æ•°é‡å˜å¾—å¾ˆå¤§æ—¶ï¼ŒæŸ¥è¯¢ã€æ’å…¥å’Œåˆ é™¤ç­‰æ“ä½œçš„æ€§èƒ½å¯èƒ½ä¼šå—åˆ°å½±å“ã€‚</p><p><strong>3. è€ƒè™‘ä½¿ç”¨è¿‡æœŸæ—¶é—´ï¼š</strong></p><p>å¯ä»¥ä¸ºSetè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè®©ä¸å†éœ€è¦çš„æ•°æ®è‡ªåŠ¨è¿‡æœŸï¼Œä»¥é‡Šæ”¾å†…å­˜èµ„æºã€‚</p><p><strong>4. é¿å…å¤§é‡çš„æˆå‘˜æ“ä½œï¼š</strong></p><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¦‚æœéœ€è¦å¯¹Setä¸­çš„å¤§é‡æˆå‘˜è¿›è¡Œæ“ä½œï¼ˆå¦‚åˆ é™¤ï¼‰ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚å¦‚æœéœ€è¦é¢‘ç¹è¿›è¡Œå¤§è§„æ¨¡æ“ä½œï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¤šä¸ªå°è§„æ¨¡çš„Setï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåŒ…å«å¤§é‡æˆå‘˜çš„Setã€‚</p><p><strong>5. é›†åˆæ“ä½œæ³¨æ„äº‹é¡¹ï¼š</strong></p><p>é›†åˆæ“ä½œï¼ˆå¦‚å¹¶é›†ã€äº¤é›†ã€å·®é›†ï¼‰å¯èƒ½ä¼šå¯¹æ€§èƒ½äº§ç”Ÿä¸€å®šå½±å“ï¼Œç‰¹åˆ«æ˜¯åœ¨Setçš„æˆå‘˜æ•°é‡è¾ƒå¤§æ—¶ã€‚åœ¨æ‰§è¡Œé›†åˆæ“ä½œæ—¶ï¼Œåº”è¯¥è€ƒè™‘å…¶å¯¹æ€§èƒ½çš„å½±å“ï¼Œå¹¶æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¼˜åŒ–ã€‚</p><p><strong>6. é¿å…å…¨é‡éå†ï¼š</strong></p><p>é¿å…ä½¿ç”¨<code>SMEMBERS</code>ç­‰å‘½ä»¤è·å–æ‰€æœ‰æˆå‘˜ï¼Œå› ä¸ºåœ¨å¤§æ•°æ®é›†ä¸‹ä¼šäº§ç”Ÿæ€§èƒ½é—®é¢˜ã€‚å¦‚æœéœ€è¦éå†æˆå‘˜ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨<code>SSCAN</code>å‘½ä»¤è¿›è¡Œåˆ†é¡µå¼çš„éå†ã€‚</p><p><strong>7. ä½¿ç”¨æœ‰åºé›†åˆä»£æ›¿ï¼š</strong></p><p>å¦‚æœä½ éœ€è¦æœ‰åºçš„é›†åˆï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æœ‰åºé›†åˆï¼ˆSorted Setï¼‰æ•°æ®ç±»å‹ï¼Œå®ƒå¯ä»¥åŒæ—¶æä¾›æœ‰åºæ€§å’Œå”¯ä¸€æ€§ï¼Œé€‚ç”¨äºæ’è¡Œæ¦œã€è®¡åˆ†ç³»ç»Ÿç­‰åœºæ™¯ã€‚</p><p><strong>8. æŒä¹…åŒ–å’Œå¤‡ä»½ï¼š</strong></p><p>åœ¨é‡è¦çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå§‹ç»ˆè¦è€ƒè™‘æŒä¹…åŒ–å’Œå¤‡ä»½ç­–ç•¥ï¼Œä»¥ç¡®ä¿æ•°æ®ä¸ä¼šå› ä¸ºæ„å¤–æƒ…å†µè€Œä¸¢å¤±ã€‚</p><p>æ€»ä¹‹ï¼Œåœ¨ä½¿ç”¨Redisçš„Setæ•°æ®ç±»å‹æ—¶ï¼Œéœ€è¦æ ¹æ®åº”ç”¨éœ€æ±‚å’Œæ•°æ®é‡åˆç†è§„åˆ’å’Œä¼˜åŒ–ã€‚äº†è§£ä½ çš„æ•°æ®æ¨¡å‹ã€æ•°æ®é‡ä»¥åŠæ“ä½œéœ€æ±‚ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å¥½åœ°åˆ©ç”¨Redisçš„SetåŠŸèƒ½ï¼Œå¹¶ç¡®ä¿ç³»ç»Ÿçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p><h2 id="å››ã€æœ‰åºé›†åˆï¼ˆSorted-Setï¼‰ï¼šä¸é›†åˆç±»ä¼¼ï¼Œä½†æ¯ä¸ªå…ƒç´ éƒ½å…³è”ä¸€ä¸ªåˆ†æ•°ï¼Œå¯ä»¥æ ¹æ®åˆ†æ•°è¿›è¡Œæ’åºã€‚"><a href="#å››ã€æœ‰åºé›†åˆï¼ˆSorted-Setï¼‰ï¼šä¸é›†åˆç±»ä¼¼ï¼Œä½†æ¯ä¸ªå…ƒç´ éƒ½å…³è”ä¸€ä¸ªåˆ†æ•°ï¼Œå¯ä»¥æ ¹æ®åˆ†æ•°è¿›è¡Œæ’åºã€‚" class="headerlink" title="å››ã€æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ï¼šä¸é›†åˆç±»ä¼¼ï¼Œä½†æ¯ä¸ªå…ƒç´ éƒ½å…³è”ä¸€ä¸ªåˆ†æ•°ï¼Œå¯ä»¥æ ¹æ®åˆ†æ•°è¿›è¡Œæ’åºã€‚"></a>å››ã€æœ‰åºé›†åˆï¼ˆSorted Setï¼‰ï¼šä¸é›†åˆç±»ä¼¼ï¼Œä½†æ¯ä¸ªå…ƒç´ éƒ½å…³è”ä¸€ä¸ªåˆ†æ•°ï¼Œå¯ä»¥æ ¹æ®åˆ†æ•°è¿›è¡Œæ’åºã€‚</h2><h3 id="é€‚ç”¨åœºæ™¯-3"><a href="#é€‚ç”¨åœºæ™¯-3" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>æœ‰åºé›†åˆï¼ˆSorted Setï¼‰æ˜¯Redisä¸­çš„ä¸€ç§ç‰¹æ®Šæ•°æ®ç±»å‹ï¼Œå®ƒåœ¨æœ‰åºæ€§å’Œå”¯ä¸€æ€§çš„åŸºç¡€ä¸Šï¼Œä¸ºå­˜å‚¨ä¸€ç»„æˆå‘˜ï¼ˆå…ƒç´ ï¼‰åˆ†é…äº†ä¸€ä¸ªåˆ†æ•°ï¼ˆscoreï¼‰ã€‚è¿™ç§æ•°æ®ç»“æ„ä½¿å¾—æœ‰åºé›†åˆåœ¨è®¸å¤šåº”ç”¨åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é€‚ç”¨åœºæ™¯ï¼š</p><p><strong>1. æ’è¡Œæ¦œå’Œè®¡åˆ†ç³»ç»Ÿï¼š</strong><br>æœ‰åºé›†åˆéå¸¸é€‚åˆå®ç°æ’è¡Œæ¦œå’Œè®¡åˆ†ç³»ç»Ÿã€‚æˆå‘˜çš„åˆ†æ•°å¯ä»¥è¡¨ç¤ºç©å®¶çš„å¾—åˆ†ã€è¯„åˆ†ã€ç§¯åˆ†ç­‰ã€‚ä½ å¯ä»¥é€šè¿‡åˆ†æ•°å¯¹æˆå‘˜è¿›è¡Œæ’åºï¼Œå¿«é€Ÿåœ°è·å–å‰å‡ åçš„æ’åã€‚</p><p><strong>2. æ—¶é—´åºåˆ—æ•°æ®ï¼š</strong><br>å¦‚æœä½ éœ€è¦å­˜å‚¨å¸¦æœ‰æ—¶é—´æˆ³çš„æ•°æ®ï¼Œæœ‰åºé›†åˆå¯ä»¥æ ¹æ®æ—¶é—´æˆ³ï¼ˆä½œä¸ºåˆ†æ•°ï¼‰è¿›è¡Œæ’åºï¼Œç„¶åæŒ‰æ—¶é—´èŒƒå›´å¿«é€ŸæŸ¥è¯¢æ•°æ®ã€‚</p><p><strong>3. æœ€æ–°æ¶ˆæ¯ï¼š</strong><br>æœ‰åºé›†åˆå¯ä»¥ç”¨æ¥å­˜å‚¨æœ€æ–°çš„æ¶ˆæ¯ï¼Œæ¯ä¸ªæ¶ˆæ¯çš„åˆ†æ•°å¯ä»¥æ˜¯æ¶ˆæ¯çš„æ—¶é—´æˆ³ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿åœ°è·å–æœ€æ–°çš„æ¶ˆæ¯ã€‚</p><p><strong>4. å¸¦æƒé‡çš„æ ‡ç­¾&#x2F;æ ‡ç­¾äº‘ï¼š</strong><br>åœ¨ç¤¾äº¤ç½‘ç»œæˆ–æ ‡ç­¾ç³»ç»Ÿä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨æœ‰åºé›†åˆæ¥å­˜å‚¨æ ‡ç­¾ï¼Œæˆå‘˜æ˜¯æ ‡ç­¾ï¼Œåˆ†æ•°å¯ä»¥è¡¨ç¤ºæ ‡ç­¾çš„çƒ­åº¦ã€æƒé‡ç­‰ã€‚è¿™å¯ä»¥ç”¨æ¥å®ç°æ ‡ç­¾äº‘ã€çƒ­é—¨æ ‡ç­¾ç­‰åŠŸèƒ½ã€‚</p><p><strong>5. èŒƒå›´æŸ¥è¯¢ï¼š</strong><br>æœ‰åºé›†åˆå…è®¸æ ¹æ®åˆ†æ•°èŒƒå›´è¿›è¡ŒæŸ¥è¯¢ï¼Œä»è€Œå¯ä»¥å¿«é€Ÿåœ°è·å–åœ¨æŸä¸ªåˆ†æ•°èŒƒå›´å†…çš„æˆå‘˜ã€‚</p><p><strong>6. å”¯ä¸€æ€§ï¼š</strong><br>æœ‰åºé›†åˆä¿æŒäº†æˆå‘˜çš„å”¯ä¸€æ€§ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥æ–¹ä¾¿åœ°å­˜å‚¨å’ŒæŸ¥è¯¢ä¸é‡å¤çš„å…ƒç´ ã€‚</p><p><strong>7. é«˜çº§é›†åˆè¿ç®—ï¼š</strong><br>Redisæä¾›äº†å¯¹æœ‰åºé›†åˆçš„é›†åˆè¿ç®—ï¼ˆäº¤é›†ã€å¹¶é›†ã€å·®é›†ï¼‰æ“ä½œï¼Œè¿™å¯ä»¥ç”¨æ¥å®ç°å¤šä¸ªæ•°æ®é›†çš„äº¤å‰åˆ†æã€æ•°æ®ç­›é€‰ç­‰ã€‚</p><p><strong>8. èŒƒå›´åˆ†é¡µï¼š</strong><br>ä½¿ç”¨<code>ZRANGE</code>ç­‰å‘½ä»¤ï¼Œå¯ä»¥å¯¹æœ‰åºé›†åˆè¿›è¡Œåˆ†é¡µæŸ¥è¯¢ï¼Œè·å–æŒ‡å®šèŒƒå›´å†…çš„æˆå‘˜ã€‚</p><p>æ€»ä¹‹ï¼Œæœ‰åºé›†åˆé€‚ç”¨äºéœ€è¦ä¿æŒå…ƒç´ æœ‰åºæ€§ã€éœ€è¦å¿«é€Ÿè¿›è¡ŒèŒƒå›´æŸ¥è¯¢ã€å…·æœ‰æƒé‡æˆ–åˆ†æ•°çš„æƒ…å†µã€‚å®ƒåœ¨å¤šä¸ªåœºæ™¯ä¸­éƒ½æä¾›äº†é«˜æ•ˆçš„æ•°æ®å­˜å‚¨å’Œæ“ä½œï¼Œä½¿å¾—Redisæˆä¸ºäº†è§£å†³è¿™äº›é—®é¢˜çš„æœ‰åŠ›å·¥å…·ã€‚</p><h3 id="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-3"><a href="#åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ"></a>åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ</h3><p>Redisçš„æœ‰åºé›†åˆï¼ˆSorted Setï¼‰åº•å±‚çš„å®ç°é‡‡ç”¨äº†è·³è·ƒè¡¨ï¼ˆSkip Listï¼‰å’Œå“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰çš„ç»“åˆã€‚è¿™ç§è®¾è®¡ä½¿å¾—æœ‰åºé›†åˆæ—¢èƒ½åœ¨ä¿æŒæœ‰åºæ€§çš„åŒæ—¶ï¼Œä¹Ÿèƒ½å¤Ÿé«˜æ•ˆåœ°æ‰§è¡Œæ·»åŠ ã€åˆ é™¤ã€æŸ¥è¯¢ç­‰æ“ä½œã€‚</p><p><strong>è·³è·ƒè¡¨ï¼ˆSkip Listï¼‰ï¼š</strong><br>è·³è·ƒè¡¨æ˜¯ç”¨æ¥ç»´æŠ¤æœ‰åºé›†åˆä¸­çš„æˆå‘˜çš„ã€‚åœ¨æœ‰åºé›†åˆä¸­ï¼Œæ¯ä¸ªæˆå‘˜éƒ½æœ‰ä¸€ä¸ªåˆ†æ•°ï¼ˆscoreï¼‰ï¼Œè€Œè·³è·ƒè¡¨åˆ™æ ¹æ®è¿™ä¸ªåˆ†æ•°æ¥æ’åºæˆå‘˜ã€‚è·³è·ƒè¡¨é€šè¿‡å¤šçº§ç´¢å¼•ï¼Œå¯ä»¥åœ¨å¹³å‡æƒ…å†µä¸‹å®ç° O(log n) çš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥è¯¢æ“ä½œã€‚</p><p><strong>å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰ï¼š</strong><br>æœ‰åºé›†åˆåœ¨å­˜å‚¨æˆå‘˜å’Œåˆ†æ•°ä¹‹é—´çš„æ˜ å°„å…³ç³»æ—¶ï¼Œä½¿ç”¨äº†å“ˆå¸Œè¡¨ã€‚æ¯ä¸ªæˆå‘˜éƒ½ä¼šåœ¨å“ˆå¸Œè¡¨ä¸­å¯¹åº”ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå…¶ä¸­é”®æ˜¯æˆå‘˜ï¼Œå€¼æ˜¯åˆ†æ•°ã€‚é€šè¿‡å“ˆå¸Œè¡¨ï¼ŒRediså¯ä»¥åœ¨ O(1) æ—¶é—´å†…æŸ¥æ‰¾æŸä¸ªæˆå‘˜çš„åˆ†æ•°ã€‚</p><p><strong>ç»“åˆä½¿ç”¨çš„æ–¹å¼ï¼š</strong><br>æœ‰åºé›†åˆçš„æ¯ä¸ªå…ƒç´ åœ¨åº•å±‚çš„å“ˆå¸Œè¡¨ä¸­å­˜å‚¨ç€æˆå‘˜å’Œåˆ†æ•°çš„æ˜ å°„å…³ç³»ï¼ŒåŒæ—¶åœ¨è·³è·ƒè¡¨ä¸­å­˜å‚¨äº†æˆå‘˜çš„æ’åºä¿¡æ¯ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒRediså¯ä»¥åœ¨è·³è·ƒè¡¨ä¸­æŒ‰ç…§æˆå‘˜çš„åˆ†æ•°é¡ºåºå¿«é€Ÿåœ°è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼Œè€Œåœ¨å“ˆå¸Œè¡¨ä¸­é€šè¿‡æˆå‘˜å¿«é€ŸæŸ¥æ‰¾åˆ†æ•°ã€‚</p><p>è¿™ç§åº•å±‚å®ç°ç»“åˆäº†è·³è·ƒè¡¨å’Œå“ˆå¸Œè¡¨çš„ä¼˜ç‚¹ï¼Œä½¿å¾—Redisæœ‰åºé›†åˆèƒ½å¤ŸåŒæ—¶æ»¡è¶³æœ‰åºæ€§å’Œé«˜æ•ˆæ€§çš„éœ€æ±‚ã€‚è¿™ç§è®¾è®¡è®©æœ‰åºé›†åˆåœ¨æ’å…¥ã€åˆ é™¤ã€æŸ¥è¯¢å’ŒèŒƒå›´æ“ä½œç­‰åœºæ™¯ä¸‹éƒ½èƒ½è¡¨ç°å‡ºè‰²ã€‚</p><h3 id="å¦‚ä½•ä½¿ç”¨-3"><a href="#å¦‚ä½•ä½¿ç”¨-3" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>  ä½¿ç”¨Redisçš„æœ‰åºé›†åˆï¼ˆSorted Setï¼‰éœ€è¦æŒæ¡ä¸€äº›åŸºæœ¬å‘½ä»¤å’Œæ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„æœ‰åºé›†åˆæ“ä½œç¤ºä¾‹ï¼š</p><p>  <strong>1. æ·»åŠ æˆå‘˜ï¼š</strong></p><p>  ä½¿ç”¨ <code>ZADD</code> å‘½ä»¤å¯ä»¥å‘æœ‰åºé›†åˆä¸­æ·»åŠ æˆå‘˜ï¼ŒåŒæ—¶æŒ‡å®šæˆå‘˜çš„åˆ†æ•°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ZADD myset 10 member1</span><br><span class="line">ZADD myset 20 member2</span><br></pre></td></tr></table></figure><p>  <strong>2. è·å–æˆå‘˜åˆ†æ•°ï¼š</strong></p><p>  ä½¿ç”¨ <code>ZSCORE</code> å‘½ä»¤å¯ä»¥è·å–æŒ‡å®šæˆå‘˜çš„åˆ†æ•°ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZSCORE myset member1</span><br></pre></td></tr></table></figure><p>  <strong>3. è·å–æˆå‘˜æ’åï¼š</strong></p><p>  ä½¿ç”¨ <code>ZRANK</code> å‘½ä»¤å¯ä»¥è·å–æŒ‡å®šæˆå‘˜åœ¨æœ‰åºé›†åˆä¸­çš„æ’åï¼ˆä»0å¼€å§‹ï¼‰ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZRANK myset member2</span><br></pre></td></tr></table></figure><p>  <strong>4. è·å–åˆ†æ•°èŒƒå›´å†…çš„æˆå‘˜ï¼š</strong></p><p>  ä½¿ç”¨ <code>ZRANGEBYSCORE</code> å‘½ä»¤å¯ä»¥è·å–æŒ‡å®šåˆ†æ•°èŒƒå›´å†…çš„æˆå‘˜åˆ—è¡¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZRANGEBYSCORE myset 15 25</span><br></pre></td></tr></table></figure><p>  <strong>5. è·å–æ’åèŒƒå›´å†…çš„æˆå‘˜ï¼š</strong></p><p>  ä½¿ç”¨ <code>ZRANGE</code> å‘½ä»¤å¯ä»¥è·å–æŒ‡å®šæ’åèŒƒå›´å†…çš„æˆå‘˜åˆ—è¡¨ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZRANGE myset 0 2</span><br></pre></td></tr></table></figure><p>  <strong>6. åˆ é™¤æˆå‘˜ï¼š</strong></p><p>  ä½¿ç”¨ <code>ZREM</code> å‘½ä»¤å¯ä»¥ä»æœ‰åºé›†åˆä¸­åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZREM myset member1</span><br></pre></td></tr></table></figure><p>  <strong>7. è·å–æˆå‘˜æ•°é‡ï¼š</strong></p><p>  ä½¿ç”¨ <code>ZCARD</code> å‘½ä»¤å¯ä»¥è·å–æœ‰åºé›†åˆä¸­æˆå‘˜çš„æ•°é‡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZCARD myset</span><br></pre></td></tr></table></figure><p>  <strong>8. é›†åˆæ“ä½œï¼š</strong></p><ul><li>å¹¶é›†ï¼šä½¿ç”¨ <code>ZUNIONSTORE</code> å‘½ä»¤å¯ä»¥å¯¹å¤šä¸ªæœ‰åºé›†åˆè¿›è¡Œå¹¶é›†æ“ä½œã€‚</li><li>äº¤é›†ï¼šä½¿ç”¨ <code>ZINTERSTORE</code> å‘½ä»¤å¯ä»¥å¯¹å¤šä¸ªæœ‰åºé›†åˆè¿›è¡Œäº¤é›†æ“ä½œã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ZUNIONSTORE destination_set 2 set1 set2 WEIGHTS 1 2</span><br><span class="line">ZINTERSTORE destination_set 2 set1 set2 WEIGHTS 0.5 0.5</span><br></pre></td></tr></table></figure><p>  è¿™åªæ˜¯æœ‰åºé›†åˆçš„åŸºæœ¬æ“ä½œï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–å‘½ä»¤è¿›è¡Œæ›´å¤æ‚çš„æ“ä½œï¼Œå¦‚è·å–æˆå‘˜æ’åã€è®¡ç®—åˆ†æ•°ä¹‹å·®ç­‰ã€‚ä½¿ç”¨æœ‰åºé›†åˆæ—¶ï¼Œè¦æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„å‘½ä»¤å’Œæ“ä½œï¼Œä»¥å……åˆ†åˆ©ç”¨å…¶æœ‰åºæ€§å’Œé«˜æ•ˆæ€§ã€‚</p><h3 id="éœ€è¦æ³¨æ„çš„åœ°æ–¹-3"><a href="#éœ€è¦æ³¨æ„çš„åœ°æ–¹-3" class="headerlink" title="éœ€è¦æ³¨æ„çš„åœ°æ–¹"></a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><p>åœ¨ä½¿ç”¨Redisçš„æœ‰åºé›†åˆï¼ˆSorted Setï¼‰æ—¶ï¼Œæœ‰ä¸€äº›æ³¨æ„äº‹é¡¹å¯ä»¥å¸®åŠ©ä½ é¿å…ä¸€äº›å¸¸è§çš„é—®é¢˜ï¼Œä»¥åŠä¼˜åŒ–æ€§èƒ½å’Œæ•°æ®ç®¡ç†ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><p><strong>1. æˆå‘˜çš„å”¯ä¸€æ€§ï¼š</strong><br>æœ‰åºé›†åˆçš„æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œé‡å¤çš„æˆå‘˜ä¸ä¼šè¢«æ’å…¥ã€‚ç¡®ä¿ä½ å‘æœ‰åºé›†åˆä¸­æ·»åŠ çš„æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œä»¥å…å‡ºç°é¢„æœŸä¹‹å¤–çš„æ•°æ®æƒ…å†µã€‚</p><p><strong>2. åˆ†æ•°çš„é‡å¤æ€§ï¼š</strong><br>è™½ç„¶æˆå‘˜æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯ä¸åŒæˆå‘˜ä¹‹é—´çš„åˆ†æ•°å¯ä»¥æ˜¯é‡å¤çš„ã€‚è¿™åœ¨ä¸€äº›åœºæ™¯ä¸­æ˜¯æ­£å¸¸çš„ï¼Œä½†éœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚å¤„ç†ã€‚</p><p><strong>3. æ•°æ®é‡ï¼š</strong><br>å°½ç®¡æœ‰åºé›†åˆå¯ä»¥å¤„ç†å¤§é‡çš„æ•°æ®ï¼Œä½†ä»éœ€è°¨æ…å¤„ç†æ•°æ®é‡è¾ƒå¤§çš„æœ‰åºé›†åˆã€‚å¤§æ•°æ®é›†åˆå¯èƒ½ä¼šå½±å“æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ã€‚</p><p><strong>4. åˆ†æ•°èŒƒå›´ï¼š</strong><br>åœ¨è¿›è¡ŒèŒƒå›´æŸ¥è¯¢æ—¶ï¼Œç¡®ä¿åˆ†æ•°èŒƒå›´æ˜¯åˆç†çš„ã€‚å¤§èŒƒå›´æŸ¥è¯¢å¯èƒ½ä¼šæ¶ˆè€—è¾ƒå¤šçš„è®¡ç®—èµ„æºã€‚</p><p><strong>5. æ•°æ®ç»“æ„é€‰æ‹©ï¼š</strong><br>æœ‰åºé›†åˆé€‚ç”¨äºéœ€è¦æœ‰åºæ€§çš„åœºæ™¯ï¼Œä½†ä¸é€‚åˆç”¨äºä»…ä»…éœ€è¦å­˜å‚¨å”¯ä¸€æ€§æˆå‘˜çš„æƒ…å†µã€‚å¯¹äºä»…éœ€è¦å”¯ä¸€æ€§çš„æ•°æ®ï¼Œä½¿ç”¨é›†åˆï¼ˆSetï¼‰æ•°æ®ç±»å‹æ›´åˆé€‚ã€‚</p><p><strong>6. é›†åˆæ“ä½œçš„å½±å“ï¼š</strong><br>åœ¨æ‰§è¡Œé›†åˆæ“ä½œï¼ˆå¹¶é›†ã€äº¤é›†ã€å·®é›†ï¼‰æ—¶ï¼Œè€ƒè™‘å…¶å¯¹æ€§èƒ½çš„å½±å“ã€‚é›†åˆæ“ä½œå¯èƒ½ä¼šæ¶ˆè€—æ›´å¤šçš„è®¡ç®—èµ„æºï¼Œç‰¹åˆ«æ˜¯åœ¨æœ‰å¤§é‡æˆå‘˜çš„æƒ…å†µä¸‹ã€‚</p><p><strong>7. é€‰æ‹©é€‚å½“çš„åˆ†æ•°ç±»å‹ï¼š</strong><br>åˆ†æ•°å¯ä»¥æ˜¯æ•´æ•°æˆ–æµ®ç‚¹æ•°ã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œé€‰æ‹©é€‚åˆçš„åˆ†æ•°ç±»å‹ã€‚</p><p><strong>8. æ€§èƒ½å’Œå†…å­˜ä¼˜åŒ–ï¼š</strong><br>åˆç†ä½¿ç”¨Redisçš„é…ç½®å‚æ•°ï¼Œè€ƒè™‘åˆ†ç‰‡ã€æŒä¹…åŒ–ã€å†…å­˜ç®¡ç†ç­‰ç­–ç•¥ï¼Œä»¥ä¼˜åŒ–æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ã€‚</p><p><strong>9. é¿å…å…¨é‡éå†ï¼š</strong><br>é¿å…ä½¿ç”¨<code>ZRANGE</code>ç­‰å‘½ä»¤è·å–æ‰€æœ‰æˆå‘˜ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§æ•°æ®é›†åˆä¸­ã€‚è€ƒè™‘ä½¿ç”¨<code>ZSCAN</code>è¿›è¡Œåˆ†é¡µå¼éå†ã€‚</p><p><strong>10. æŒä¹…åŒ–å’Œå¤‡ä»½ï¼š</strong><br>åœ¨é‡è¦çš„ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè€ƒè™‘æŒä¹…åŒ–å’Œå¤‡ä»½ç­–ç•¥ï¼Œä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</p><p><strong>11. å†…å­˜å ç”¨ï¼š</strong><br>æœ‰åºé›†åˆä¼šå ç”¨ä¸€å®šçš„å†…å­˜ï¼Œè¦æ³¨æ„ç›‘æ§å’Œç®¡ç†å†…å­˜ä½¿ç”¨ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºã€‚</p><p>æ€»ä¹‹ï¼Œä½¿ç”¨Redisçš„æœ‰åºé›†åˆæ—¶ï¼Œè¦æ ¹æ®å®é™…éœ€æ±‚åˆç†è§„åˆ’å’Œä¼˜åŒ–ï¼Œä»¥ä¿è¯ç³»ç»Ÿçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p><h2 id="äº”ã€å“ˆå¸Œè¡¨ï¼ˆHashï¼‰"><a href="#äº”ã€å“ˆå¸Œè¡¨ï¼ˆHashï¼‰" class="headerlink" title="äº”ã€å“ˆå¸Œè¡¨ï¼ˆHashï¼‰"></a>äº”ã€å“ˆå¸Œè¡¨ï¼ˆHashï¼‰</h2><h3 id="é€‚ç”¨åœºæ™¯-4"><a href="#é€‚ç”¨åœºæ™¯-4" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><p>Redisçš„å“ˆå¸Œè¡¨ï¼ˆHashï¼‰æ˜¯ä¸€ç§å­˜å‚¨é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¸­çš„é”®æ˜¯å”¯ä¸€çš„ï¼Œè€Œå€¼åˆ™å¯ä»¥æ˜¯å­—ç¬¦ä¸²ã€æ•´æ•°ã€æµ®ç‚¹æ•°ç­‰ã€‚å“ˆå¸Œè¡¨é€‚ç”¨äºè®¸å¤šåœºæ™¯ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å­˜å‚¨å’ŒæŸ¥è¯¢å¤šä¸ªå­—æ®µçš„æƒ…å†µã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é€‚ç”¨åœºæ™¯ï¼š</p><p><strong>1. å­˜å‚¨å¯¹è±¡ä¿¡æ¯ï¼š</strong><br>å¦‚æœä½ éœ€è¦å­˜å‚¨ä¸€ä¸ªå¯¹è±¡çš„å¤šä¸ªå­—æ®µä¿¡æ¯ï¼Œä¾‹å¦‚ç”¨æˆ·ä¿¡æ¯ï¼ˆç”¨æˆ·åã€å¹´é¾„ã€é‚®ç®±ç­‰ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ¯ä¸ªç”¨æˆ·çš„å­—æ®µä¿¡æ¯ã€‚</p><p><strong>2. ç¼“å­˜æ•°æ®ï¼š</strong><br>å“ˆå¸Œè¡¨é€‚ç”¨äºç¼“å­˜å¤§é‡çš„é”®å€¼å¯¹æ•°æ®ï¼Œä¾‹å¦‚ç¼“å­˜æ•°æ®åº“æŸ¥è¯¢ç»“æœï¼Œä»¥å‡å°‘æ•°æ®åº“çš„è®¿é—®é¢‘ç‡ã€‚</p><p><strong>3. å­˜å‚¨é…ç½®ä¿¡æ¯ï¼š</strong><br>å°†é…ç½®ä¿¡æ¯å­˜å‚¨åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è·å–å’Œä¿®æ”¹é…ç½®é¡¹ï¼Œè€Œæ— éœ€åœ¨å†…å­˜ä¸­å­˜å‚¨å¤šä¸ªå•ç‹¬çš„é”®ã€‚</p><p><strong>4. è®¡æ•°å™¨ï¼š</strong><br>å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å®ç°è®¡æ•°å™¨åŠŸèƒ½ï¼Œæ¯ä¸ªå­—æ®µå­˜å‚¨ä¸€ä¸ªè®¡æ•°ï¼Œæ¯”å¦‚ç½‘ç«™çš„ç‚¹èµæ•°ã€é˜…è¯»æ•°ç­‰ã€‚</p><p><strong>5. å­˜å‚¨å¤šç§å±æ€§ï¼š</strong><br>å¦‚æœä½ éœ€è¦ä¸ºä¸€ç»„å¯¹è±¡å­˜å‚¨å¤šç§å±æ€§ï¼Œä¾‹å¦‚å•†å“çš„åç§°ã€ä»·æ ¼ã€åº“å­˜ç­‰ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ¯ä¸ªå•†å“çš„å¤šä¸ªå±æ€§ã€‚</p><p><strong>6. è”åˆç´¢å¼•ï¼š</strong><br>åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œè”åˆç´¢å¼•å¸¸ç”¨äºåŠ é€Ÿå¤šå­—æ®µçš„æŸ¥è¯¢ã€‚åœ¨Redisä¸­ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨å¤šä¸ªå­—æ®µï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå­—æ®µä½œä¸ºä¸»é”®ï¼Œå®ç°ç±»ä¼¼çš„è”åˆç´¢å¼•æ•ˆæœã€‚</p><p><strong>7. å®æ—¶ç»Ÿè®¡ï¼š</strong><br>å“ˆå¸Œè¡¨å¯ä»¥ç”¨äºå®æ—¶ç»Ÿè®¡ä¿¡æ¯ï¼Œä¾‹å¦‚ç»Ÿè®¡ç”¨æˆ·æ¯å¤©çš„ç™»å½•æ¬¡æ•°ã€è®¢å•æ•°ç­‰ã€‚</p><p><strong>8. ç”¨æˆ·ä¼šè¯ï¼š</strong><br>å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨ç”¨æˆ·ä¼šè¯ä¿¡æ¯ï¼Œæ¯ä¸ªå­—æ®µå­˜å‚¨ä¸€ä¸ªä¼šè¯å±æ€§ï¼Œå¦‚ç”¨æˆ·IDã€ç™»å½•æ—¶é—´ã€è¿‡æœŸæ—¶é—´ç­‰ã€‚</p><p><strong>9. å›¾æ•°æ®ç»“æ„ï¼š</strong><br>å¦‚æœéœ€è¦å®ç°å›¾æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ç¤¾äº¤ç½‘ç»œå…³ç³»å›¾ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨æ¥è¡¨ç¤ºèŠ‚ç‚¹å’Œè¾¹ã€‚</p><p><strong>10. å¤šå­—æ®µæŸ¥è¯¢ï¼š</strong><br>å“ˆå¸Œè¡¨é€‚ç”¨äºå­˜å‚¨å¤šä¸ªå­—æ®µï¼Œå¯ä»¥æ›´å¿«é€Ÿåœ°æŸ¥è¯¢å’Œæ›´æ–°å¤šä¸ªå­—æ®µçš„å€¼ã€‚</p><p>æ€»ä¹‹ï¼Œå“ˆå¸Œè¡¨é€‚ç”¨äºéœ€è¦å­˜å‚¨å¤šä¸ªå­—æ®µä¿¡æ¯çš„æƒ…å†µï¼Œå¯ä»¥åœ¨ä¸€æ¬¡æŸ¥è¯¢ä¸­è·å–å’Œæ›´æ–°å¤šä¸ªå­—æ®µï¼Œä»è€Œæé«˜äº†æ•°æ®çš„è®¿é—®æ•ˆç‡ã€‚å®ƒåœ¨å¤šç§åº”ç”¨åœºæ™¯ä¸­éƒ½èƒ½å‘æŒ¥ä½œç”¨ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å­˜å‚¨å’Œæ“ä½œå¤šä¸ªå±æ€§çš„æ•°æ®ã€‚</p><h3 id="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-4"><a href="#åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ"></a>åº•å±‚å®ç°æ˜¯ä»€ä¹ˆ</h3><p>Redisçš„å“ˆå¸Œè¡¨ï¼ˆHashï¼‰æ•°æ®ç±»å‹åœ¨åº•å±‚çš„å®ç°ä¸Šæ˜¯ä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰æ¥å­˜å‚¨é”®å€¼å¯¹çš„ã€‚å“ˆå¸Œè¡¨æ˜¯ä¸€ç§éå¸¸é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œå®ƒèƒ½å¤Ÿåœ¨å¹³å‡æƒ…å†µä¸‹ä»¥ O(1) çš„æ—¶é—´å¤æ‚åº¦è¿›è¡Œæ’å…¥ã€åˆ é™¤å’ŒæŸ¥è¯¢æ“ä½œã€‚ä¸‹é¢æ˜¯Rediså“ˆå¸Œè¡¨åº•å±‚å®ç°çš„ä¸€äº›ç»†èŠ‚ï¼š</p><p><strong>1. æ•£åˆ—å‡½æ•°ï¼ˆHash Functionï¼‰ï¼š</strong><br>åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œé”®é€šè¿‡æ•£åˆ—å‡½æ•°è®¡ç®—å¾—åˆ°ä¸€ä¸ªå“ˆå¸Œå€¼ï¼ˆhashï¼‰ï¼Œè¿™ä¸ªå“ˆå¸Œå€¼è¢«ç”¨ä½œæ•°ç»„ï¼ˆæ¡¶ï¼‰çš„ç´¢å¼•ã€‚Redisä½¿ç”¨MurmurHash2ç­‰æ•£åˆ—å‡½æ•°æ¥å‡åŒ€åœ°å°†é”®åˆ†æ•£åˆ°ä¸åŒçš„æ¡¶ä¸­ã€‚</p><p><strong>2. æ¡¶æ•°ç»„ï¼š</strong><br>å“ˆå¸Œè¡¨åº•å±‚ç»´æŠ¤äº†ä¸€ä¸ªæ¡¶æ•°ç»„ï¼Œæ¯ä¸ªæ¡¶ä¸­å­˜å‚¨äº†ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹ã€‚è¿™ä¸ªæ•°ç»„çš„å¤§å°é€šå¸¸ä¼šåŠ¨æ€è°ƒæ•´ï¼Œä»¥ä¿è¯æ¡¶çš„å¡«å……å› å­ä¸ä¼šè¿‡é«˜ã€‚</p><p><strong>3. å†²çªå¤„ç†ï¼š</strong><br>ç”±äºä¸åŒçš„é”®å¯èƒ½ä¼šç»è¿‡æ•£åˆ—å‡½æ•°æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶ä¸­ï¼Œè¿™å°±äº§ç”Ÿäº†å†²çªã€‚Redisä½¿ç”¨é“¾å¼è§£å†³å†²çªçš„æ–¹æ³•ï¼Œæ¯ä¸ªæ¡¶ä¸­å¯ä»¥å­˜å‚¨ä¸€ä¸ªé“¾è¡¨ï¼Œå½“æœ‰å¤šä¸ªé”®æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶æ—¶ï¼Œå®ƒä»¬ä¼šæŒ‰ç…§æ’å…¥é¡ºåºå½¢æˆé“¾è¡¨ã€‚</p><p><strong>4. åŠ¨æ€æ‰©å®¹ï¼š</strong><br>å½“å“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ æ•°é‡é€æ¸å¢åŠ æ—¶ï¼ŒRedisä¼šæ ¹æ®è´Ÿè½½å› å­åŠ¨æ€æ‰©å®¹æ¡¶æ•°ç»„ï¼Œä»¥ä¿æŒæ¡¶çš„å¡«å……å› å­åœ¨ä¸€ä¸ªåˆé€‚çš„èŒƒå›´å†…ã€‚è¿™å¯ä»¥ä¿è¯æ’å…¥ã€åˆ é™¤å’ŒæŸ¥è¯¢æ“ä½œçš„é«˜æ•ˆæ€§ã€‚</p><p><strong>5. è¿ç§»ï¼š</strong><br>åœ¨æ‰©å®¹æ—¶ï¼ŒRedisä¼šå°†åŸæœ‰çš„é”®å€¼å¯¹é‡æ–°æ•£åˆ—åˆ°æ–°çš„æ¡¶æ•°ç»„ä¸­ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œè¿ç§»â€ï¼Œå®ƒä¼šåœ¨åå°è¿›è¡Œï¼Œä»¥å…å½±å“æ­£å¸¸çš„è¯»å†™æ“ä½œã€‚</p><p><strong>6. å“ˆå¸Œè¡¨çš„åµŒå¥—ï¼š</strong><br>åœ¨Redisçš„æºç ä¸­ï¼Œå“ˆå¸Œè¡¨æœ¬èº«ä¹Ÿå¯ä»¥è¢«åµŒå¥—ä½¿ç”¨ï¼Œè¿™ç§åµŒå¥—çš„å“ˆå¸Œè¡¨å¸¸å¸¸ç”¨äºå®ç°æ•°æ®ç±»å‹çš„å¤æ‚ç»“æ„ï¼Œä¾‹å¦‚ç”¨äºå­˜å‚¨é›†åˆå’Œæœ‰åºé›†åˆç­‰ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒRedisçš„å“ˆå¸Œè¡¨åº•å±‚æ˜¯é€šè¿‡æ•£åˆ—å‡½æ•°ã€æ¡¶æ•°ç»„ã€é“¾å¼è§£å†³å†²çªç­‰æœºåˆ¶æ¥å®ç°çš„ã€‚è¿™ç§è®¾è®¡ä½¿å¾—Redisèƒ½å¤Ÿé«˜æ•ˆåœ°å­˜å‚¨å’ŒæŸ¥è¯¢é”®å€¼å¯¹æ•°æ®ï¼Œå“ˆå¸Œè¡¨åœ¨Redisä¸­æ‰®æ¼”ç€éå¸¸é‡è¦çš„è§’è‰²ã€‚</p><h3 id="å¦‚ä½•ä½¿ç”¨-4"><a href="#å¦‚ä½•ä½¿ç”¨-4" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h3><p>ä½¿ç”¨Redisçš„å“ˆå¸Œè¡¨ï¼ˆHashï¼‰æ•°æ®ç±»å‹æ¶‰åŠä¸€ç³»åˆ—å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤å¯ä»¥å¸®åŠ©ä½ å¯¹å“ˆå¸Œè¡¨ä¸­çš„é”®å€¼å¯¹è¿›è¡Œæ·»åŠ ã€æŸ¥è¯¢ã€åˆ é™¤ç­‰æ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å“ˆå¸Œè¡¨æ“ä½œç¤ºä¾‹ï¼š</p><p><strong>1. æ·»åŠ é”®å€¼å¯¹ï¼š</strong></p><p>ä½¿ç”¨ <code>HSET</code> å‘½ä»¤å¯ä»¥å‘å“ˆå¸Œè¡¨ä¸­æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HSET user:id123 name <span class="string">&quot;John&quot;</span> age 30</span><br></pre></td></tr></table></figure><p><strong>2. è·å–å•ä¸ªé”®çš„å€¼ï¼š</strong></p><p>ä½¿ç”¨ <code>HGET</code> å‘½ä»¤å¯ä»¥è·å–æŒ‡å®šé”®çš„å€¼ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HGET user:id123 name</span><br></pre></td></tr></table></figure><p><strong>3. è·å–å¤šä¸ªé”®çš„å€¼ï¼š</strong></p><p>ä½¿ç”¨ <code>HMGET</code> å‘½ä»¤å¯ä»¥åŒæ—¶è·å–å¤šä¸ªé”®çš„å€¼ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HMGET user:id123 name age</span><br></pre></td></tr></table></figure><p><strong>4. è·å–æ‰€æœ‰é”®å€¼å¯¹ï¼š</strong></p><p>ä½¿ç”¨ <code>HGETALL</code> å‘½ä»¤å¯ä»¥è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„é”®å€¼å¯¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HGETALL user:id123</span><br></pre></td></tr></table></figure><p><strong>5. å¢åŠ æˆ–æ›´æ–°é”®çš„å€¼ï¼š</strong></p><p>ä½¿ç”¨ <code>HINCRBY</code> å‘½ä»¤å¯ä»¥ä¸ºé”®çš„å€¼å¢åŠ ä¸€ä¸ªæ•´æ•°ã€‚å¦‚æœé”®ä¸å­˜åœ¨ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é”®ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HINCRBY user:id123 age 1</span><br></pre></td></tr></table></figure><p><strong>6. åˆ é™¤é”®å€¼å¯¹ï¼š</strong></p><p>ä½¿ç”¨ <code>HDEL</code> å‘½ä»¤å¯ä»¥ä»å“ˆå¸Œè¡¨ä¸­åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HDEL user:id123 age</span><br></pre></td></tr></table></figure><p><strong>7. è·å–æ‰€æœ‰é”®æˆ–å€¼ï¼š</strong></p><p>ä½¿ç”¨ <code>HKEYS</code> å‘½ä»¤å¯ä»¥è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„é”®ï¼Œä½¿ç”¨ <code>HVALS</code> å‘½ä»¤å¯ä»¥è·å–å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰çš„å€¼ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HKEYS user:id123</span><br><span class="line">HVALS user:id123</span><br></pre></td></tr></table></figure><p><strong>8. è·å–é”®å€¼å¯¹æ•°é‡ï¼š</strong></p><p>ä½¿ç”¨ <code>HLEN</code> å‘½ä»¤å¯ä»¥è·å–å“ˆå¸Œè¡¨ä¸­é”®å€¼å¯¹çš„æ•°é‡ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HLEN user:id123</span><br></pre></td></tr></table></figure><p><strong>9. æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨ï¼š</strong></p><p>ä½¿ç”¨ <code>HEXISTS</code> å‘½ä»¤å¯ä»¥æ£€æŸ¥æŒ‡å®šé”®æ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HEXISTS user:id123 name</span><br></pre></td></tr></table></figure><p>è¿™äº›åªæ˜¯å“ˆå¸Œè¡¨çš„åŸºæœ¬æ“ä½œï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–å‘½ä»¤æ¥è¿›è¡Œæ›´é«˜çº§çš„æ“ä½œï¼Œå¦‚è¿­ä»£ã€æ‰¹é‡æ·»åŠ ã€è·å–å­—æ®µæ•°é‡ç­‰ã€‚åœ¨ä½¿ç”¨å“ˆå¸Œè¡¨æ—¶ï¼Œè¦æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„å‘½ä»¤å’Œæ“ä½œï¼Œä»¥å……åˆ†åˆ©ç”¨å…¶çµæ´»æ€§å’Œé«˜æ•ˆæ€§ã€‚</p><h3 id="éœ€è¦æ³¨æ„çš„åœ°æ–¹-4"><a href="#éœ€è¦æ³¨æ„çš„åœ°æ–¹-4" class="headerlink" title="éœ€è¦æ³¨æ„çš„åœ°æ–¹"></a>éœ€è¦æ³¨æ„çš„åœ°æ–¹</h3><p>åœ¨ä½¿ç”¨Redisçš„å“ˆå¸Œè¡¨ï¼ˆHashï¼‰æ•°æ®ç±»å‹æ—¶ï¼Œæœ‰ä¸€äº›æ³¨æ„äº‹é¡¹å¯ä»¥å¸®åŠ©ä½ é¿å…å¸¸è§é—®é¢˜ï¼Œä¼˜åŒ–æ€§èƒ½ï¼Œä»¥åŠæ›´å¥½åœ°ç®¡ç†æ•°æ®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><p><strong>1. é”®çš„å‘½åï¼š</strong><br>é€‰æ‹©æœ‰æ„ä¹‰çš„é”®åï¼Œä»¥ä¾¿æ›´å¥½åœ°åŒºåˆ†ä¸åŒçš„å“ˆå¸Œè¡¨ã€‚é¿å…è¿‡é•¿æˆ–è€…å†—ä½™çš„é”®åï¼Œä»¥å‡å°‘å†…å­˜å ç”¨ã€‚</p><p><strong>2. æ•°æ®é‡ï¼š</strong><br>è™½ç„¶Rediså¯ä»¥å¤„ç†å¤§é‡çš„æ•°æ®ï¼Œä½†ä»éœ€è°¨æ…å¤„ç†å¤§æ•°æ®é‡çš„å“ˆå¸Œè¡¨ã€‚å¤§æ•°æ®é‡å¯èƒ½ä¼šå½±å“æ€§èƒ½å’Œå†…å­˜ä½¿ç”¨ã€‚</p><p><strong>3. å•ä¸ªå“ˆå¸Œè¡¨çš„å­—æ®µæ•°é‡ï¼š</strong><br>è™½ç„¶Redisèƒ½å¤Ÿé«˜æ•ˆåœ°å¤„ç†å¤šä¸ªå­—æ®µï¼Œä½†æ˜¯å¦‚æœå•ä¸ªå“ˆå¸Œè¡¨ä¸­çš„å­—æ®µæ•°é‡éå¸¸å¤šï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚å¦‚æœéœ€è¦å­˜å‚¨å¤§é‡çš„å­—æ®µï¼Œè€ƒè™‘æ‹†åˆ†æˆå¤šä¸ªå“ˆå¸Œè¡¨æˆ–å…¶ä»–æ•°æ®ç»“æ„ã€‚</p><p><strong>4. å¤æ‚åº¦ï¼š</strong><br>åœ¨å“ˆå¸Œè¡¨ä¸­çš„å­—æ®µæ•°é‡ä¸å®œè¿‡å¤šï¼Œä»¥ä¿æŒè¯»å†™æ“ä½œçš„é«˜æ•ˆæ€§ã€‚è¿‡å¤šçš„å­—æ®µå¯èƒ½ä¼šå¢åŠ å†…å­˜æ¶ˆè€—å’Œæ“ä½œå¤æ‚åº¦ã€‚</p><p><strong>5. é€‚ç”¨åœºæ™¯ï¼š</strong><br>å“ˆå¸Œè¡¨é€‚ç”¨äºå­˜å‚¨å’ŒæŸ¥è¯¢å¤šä¸ªå­—æ®µçš„æƒ…å†µã€‚å¦‚æœåªéœ€è¦å­˜å‚¨å•ä¸€çš„å€¼æˆ–è€…ç®€å•çš„æ•°æ®ï¼Œè€ƒè™‘ä½¿ç”¨å­—ç¬¦ä¸²ï¼ˆStringï¼‰æ•°æ®ç±»å‹ã€‚</p><p><strong>6. æ‰¹é‡æ“ä½œï¼š</strong><br>å¦‚æœéœ€è¦ä¸€æ¬¡æ“ä½œå¤šä¸ªé”®å€¼å¯¹ï¼Œä½¿ç”¨æ‰¹é‡æ“ä½œå‘½ä»¤å¦‚ <code>HMSET</code>ï¼Œè€Œä¸æ˜¯å¤šæ¬¡ä½¿ç”¨å•ä¸ªé”®çš„æ“ä½œå‘½ä»¤ã€‚</p><p><strong>7. ç¼“å­˜å¤±æ•ˆï¼š</strong><br>è®¾ç½®é€‚å½“çš„ç¼“å­˜å¤±æ•ˆæ—¶é—´ï¼Œé¿å…è¿‡æœŸçš„é”®å€¼å¯¹å ç”¨å†…å­˜ã€‚</p><p><strong>8. é”®å€¼å¤§å°ï¼š</strong><br>å¦‚æœå“ˆå¸Œè¡¨ä¸­çš„å­—æ®µå€¼è¾ƒå¤§ï¼Œè€ƒè™‘å…¶å¯¹å†…å­˜çš„å½±å“ã€‚å¤§å­—æ®µå€¼å¯èƒ½ä¼šå¢åŠ å†…å­˜å ç”¨ã€‚</p><p><strong>9. æ·±åº¦åµŒå¥—ï¼š</strong><br>é¿å…åœ¨å“ˆå¸Œè¡¨ä¸­ä½¿ç”¨å¤ªå¤šåµŒå¥—çš„é”®å€¼å¯¹ï¼Œè¿™å¯èƒ½ä¼šå¢åŠ æŸ¥æ‰¾å’Œç»´æŠ¤çš„å¤æ‚åº¦ã€‚</p><p><strong>10. æ•°æ®æŒä¹…åŒ–ï¼š</strong><br>å¯¹äºé‡è¦çš„æ•°æ®ï¼Œè€ƒè™‘å¼€å¯æŒä¹…åŒ–ä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</p><p><strong>11. æ•°æ®å¤‡ä»½ï¼š</strong><br>å®šæœŸå¤‡ä»½æ•°æ®ï¼Œä»¥é˜²æ­¢æ„å¤–æ•°æ®ä¸¢å¤±ã€‚</p><p>æ€»ä¹‹ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨æ—¶ï¼Œè¦æ ¹æ®å®é™…éœ€æ±‚åˆç†è§„åˆ’å’Œä¼˜åŒ–ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚è€ƒè™‘æ•°æ®æ¨¡å‹ã€æ•°æ®é‡ã€æ“ä½œé¢‘ç‡ç­‰å› ç´ ï¼Œä»¥åŠæ ¹æ®éœ€è¦é€‰æ‹©åˆé€‚çš„Redisé…ç½®å’Œå‘½ä»¤æ¥ä½¿ç”¨å“ˆå¸Œè¡¨ã€‚ï¿½ï¿½é€‰æ‹©åˆé€‚çš„Redisé…ç½®å’Œå‘½ä»¤æ¥ä½¿ç”¨å“ˆå¸Œè¡¨ã€‚</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
          <category> ç³»åˆ—æ–‡ç«  </category>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
            <tag> è·³è¡¨ </tag>
            
            <tag> å“ˆå¸Œè¡¨ </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> æœ‰åºé›†åˆ </tag>
            
            <tag> Set </tag>
            
            <tag> List </tag>
            
            <tag> Hash </tag>
            
            <tag> String </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EasyCodeè‡ªåŠ¨ç”Ÿæˆè„šæœ¬</title>
      <link href="/5ee71a5e.html"/>
      <url>/5ee71a5e.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>é…åˆä¼˜åŒ–çš„é¡¹ç›®æ¶æ„ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”ŸæˆåŸºç¡€CURUDï¼Œå®ç°10ç§’é’Ÿå¼€å‘æ–°ä¸šåŠ¡æ¥å£</p><p><a href="https://brucege.com/doc/#/generateByTemplate">https://brucege.com/doc/#/generateByTemplate</a></p><p>EasyCodeè‡ªåŠ¨ç”Ÿæˆè„šæœ¬æ˜¯ä¸€ä¸ªä¸ä¼˜åŒ–é¡¹ç›®æ¶æ„é…åˆçš„å·¥å…·ï¼Œèƒ½å¤Ÿå¿«é€Ÿç”ŸæˆåŸºç¡€CURUDæ“ä½œï¼Œå¸®åŠ©å¼€å‘äººå‘˜åœ¨10ç§’é’Ÿå†…åˆ›å»ºæ–°çš„ä¸šåŠ¡æ¥å£ã€‚æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨EasyCodeè‡ªåŠ¨ç”Ÿæˆè„šæœ¬ï¼Œå¹¶å±•ç¤ºäº†ç”Ÿæˆçš„Controllerå’ŒMapperç±»çš„ç¤ºä¾‹ä»£ç ã€‚</p><h2 id="è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ç±»ï¼Œè¿˜æœ‰ä¸€ä¸ªxmlæ²¡æˆªå–åˆ°"><a href="#è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ç±»ï¼Œè¿˜æœ‰ä¸€ä¸ªxmlæ²¡æˆªå–åˆ°" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ç±»ï¼Œè¿˜æœ‰ä¸€ä¸ªxmlæ²¡æˆªå–åˆ°"></a>è‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ç±»ï¼Œè¿˜æœ‰ä¸€ä¸ªxmlæ²¡æˆªå–åˆ°</h2><p><img src="https://github.com/zysicyj/EasyCode_hubei/assets/64080867/b730d785-bbf2-4ef6-9a3f-b5aaccb981a6" alt="img"></p><h2 id="ç”Ÿæˆçš„controller"><a href="#ç”Ÿæˆçš„controller" class="headerlink" title="ç”Ÿæˆçš„controller"></a>ç”Ÿæˆçš„controller</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.supervision.daily.outbound.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nari.core.basic.BasicController;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.model.IdLibraryChecklist;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.param.IdLibraryChecklistParam;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.view.IdLibraryChecklistView;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.transform.IdLibraryChecklistTransform;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.dto.IdLibraryChecklistDto;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.service.IdLibraryChecklistService;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.validation.Valid;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯ç…§æ¸…å•-è·¯ç”±ç®¡ç†</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:17602556550@189.cn&quot;&gt; æœ±æ°¸èƒœ &lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2023-05-26 17:08:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@Valid</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;idLibraryChecklist&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IdLibraryChecklistController</span> <span class="keyword">extends</span> <span class="title class_">BasicController</span>&lt;IdLibraryChecklist, IdLibraryChecklistParam, IdLibraryChecklistView, IdLibraryChecklistDto, IdLibraryChecklistTransform&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆçš„mapper"><a href="#ç”Ÿæˆçš„mapper" class="headerlink" title="ç”Ÿæˆçš„mapper"></a>ç”Ÿæˆçš„mapper</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.supervision.daily.outbound.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.model.IdLibraryChecklist;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.param.IdLibraryChecklistParam;</span><br><span class="line"><span class="keyword">import</span> com.nari.supervision.daily.outbound.dto.IdLibraryChecklistDto;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.basic.BasicDao;</span><br><span class="line"><span class="keyword">import</span> com.nari.core.web.PageParam;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Param;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¯ç…§æ¸…å•-SQLå¤„ç†</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href=&quot;mailto:17602556550@189.cn&quot;&gt; æœ±æ°¸èƒœ &lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.0.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2023-05-26 17:08:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">IdLibraryChecklistMapper</span> <span class="keyword">extends</span> <span class="title class_">BasicDao</span>&lt;IdLibraryChecklist, IdLibraryChecklistDto, IdLibraryChecklistParam&gt; &#123;</span><br><span class="line">    List&lt;IdLibraryChecklistDto&gt; <span class="title function_">selectPageRel</span><span class="params">(<span class="meta">@Param(&quot;page&quot;)</span> PageParam&lt;IdLibraryChecklistDto, IdLibraryChecklistParam&gt; page, <span class="meta">@Param(&quot;param&quot;)</span> IdLibraryChecklistParam param)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å¦‚ä½•ä½¿ç”¨"><a href="#å¦‚ä½•ä½¿ç”¨" class="headerlink" title="å¦‚ä½•ä½¿ç”¨"></a>å¦‚ä½•ä½¿ç”¨</h2><h3 id="ä¸€ã€å°†é¡¹ç›®æ‹·è´åˆ°è¯¥ä½ç½®"><a href="#ä¸€ã€å°†é¡¹ç›®æ‹·è´åˆ°è¯¥ä½ç½®" class="headerlink" title="ä¸€ã€å°†é¡¹ç›®æ‹·è´åˆ°è¯¥ä½ç½®"></a>ä¸€ã€å°†é¡¹ç›®æ‹·è´åˆ°è¯¥ä½ç½®</h3><p><img src="https://github.com/zysicyj/EasyCode_hubei/assets/64080867/4ea2b22d-414e-4bf6-9236-0a6468cacf6e" alt="image" title="image"></p><p>æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ˜¯ç¬¬ä¸‰ä¸ªæ¨¡æ¿</p><p><img src="https://github.com/zysicyj/EasyCode_hubei/assets/64080867/2c89ad74-2e9c-4f53-aa57-0f9e70f09d96" alt="image" title="image"></p><h3 id="äºŒã€å®‰è£…æ’ä»¶"><a href="#äºŒã€å®‰è£…æ’ä»¶" class="headerlink" title="äºŒã€å®‰è£…æ’ä»¶"></a>äºŒã€å®‰è£…æ’ä»¶</h3><p><img src="https://github.com/zysicyj/EasyCode_hubei/assets/64080867/2fc5d35f-b20b-45c8-b4ed-87508b866e26" alt="image" title="image"></p><h3 id="ä¸‰ã€å³é”®è¡¨ï¼ŒæŒ‰ç…§å›¾ç¤ºç‚¹å‡»"><a href="#ä¸‰ã€å³é”®è¡¨ï¼ŒæŒ‰ç…§å›¾ç¤ºç‚¹å‡»" class="headerlink" title="ä¸‰ã€å³é”®è¡¨ï¼ŒæŒ‰ç…§å›¾ç¤ºç‚¹å‡»"></a>ä¸‰ã€å³é”®è¡¨ï¼ŒæŒ‰ç…§å›¾ç¤ºç‚¹å‡»</h3><blockquote><p>å¦‚æœä½ çš„ideaæ²¡æœ‰é…ç½®dbï¼Œè¯·è‡ªè¡Œç™¾åº¦é…ç½®ä¸‹</p></blockquote><p><img src="https://github.com/zysicyj/EasyCode_hubei/assets/64080867/14f8dab8-8520-4965-903d-a57e9c2b8dcb" alt="image" title="image"></p><h3 id="å››ã€æŒ‰ç…§å›¾ç¤ºå‹¾é€‰å³å¯"><a href="#å››ã€æŒ‰ç…§å›¾ç¤ºå‹¾é€‰å³å¯" class="headerlink" title="å››ã€æŒ‰ç…§å›¾ç¤ºå‹¾é€‰å³å¯"></a>å››ã€æŒ‰ç…§å›¾ç¤ºå‹¾é€‰å³å¯</h3><p><img src="https://github.com/zysicyj/EasyCode_hubei/assets/64080867/020af128-fded-441f-a5fa-e58b683cdced" alt="image" title="image"></p><p>æ€»ç»“ï¼š EasyCodeè‡ªåŠ¨ç”Ÿæˆè„šæœ¬æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå¯ä»¥æå¤§åœ°æé«˜å¼€å‘æ•ˆç‡ã€‚é€šè¿‡ç®€å•çš„é…ç½®å’Œå‡ ä¸ªç®€å•çš„æ­¥éª¤ï¼Œå¼€å‘äººå‘˜å¯ä»¥å¿«é€Ÿç”ŸæˆåŸºç¡€CURUDæ“ä½œçš„ä»£ç ï¼Œä»è€ŒèŠ‚çœå¤§é‡çš„å¼€å‘æ—¶é—´å’Œç²¾åŠ›ã€‚ç”Ÿæˆçš„Controllerå’ŒMapperç±»ç¤ºä¾‹ä»£ç å±•ç¤ºäº†EasyCodeçš„åŠŸèƒ½å’Œçµæ´»æ€§ï¼Œä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿè½»æ¾åˆ›å»ºå’Œç®¡ç†ä¸šåŠ¡æ¥å£ã€‚å¦‚æœæ‚¨æƒ³è¦æé«˜å¼€å‘æ•ˆç‡å¹¶å‡å°‘é‡å¤åŠ³åŠ¨ï¼ŒEasyCodeè‡ªåŠ¨ç”Ÿæˆè„šæœ¬ç»å¯¹æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„å·¥å…·ã€‚<br>å¯¹æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„å·¥å…·ã€‚</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> idea </tag>
            
            <tag> java </tag>
            
            <tag> easycode </tag>
            
            <tag> springboot </tag>
            
            <tag> è‡ªåŠ¨ç”Ÿæˆè„šæœ¬ </tag>
            
            <tag> curud </tag>
            
            <tag> controller </tag>
            
            <tag> mapper </tag>
            
            <tag> å¼€å‘æ•ˆç‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Javaæ ¹æ®è¡¨åå¯¼å‡ºä¸å¯¼å…¥Sql</title>
      <link href="/60c46e69.html"/>
      <url>/60c46e69.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>å¾ˆç²—ç³™å•Šï¼Œæœ‰å¾ˆå¤šå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œè€Œä¸”ä¹Ÿä¸å®‰å…¨ï¼Œä½†æ˜¯ä¸´æ—¶ç”¨è¿˜æ˜¯OKçš„ï¼Œæˆ‘è¿™ä¸ªæ˜¯å…¬å¸é‡Œé¢çš„å•æœºè½¯ä»¶ï¼Œä¸è”ç½‘ã€‚</p><p>å—¨ï¼æˆ‘æ˜¯ä¸€åç¤¾äº¤åª’ä½“å¢é•¿é»‘å®¢ï¼Œå¾ˆé«˜å…´èƒ½å¸®åŠ©æ‚¨ä¼˜åŒ–å’Œä¸°å¯Œå…³äºæ‰¹é‡ä½œä¸šå¯¼å‡ºå’Œå¯¼å…¥çš„æ–‡ç« ã€‚è¿™ä¸ªä¸»é¢˜ç›¸å½“æŠ€æœ¯æ€§ï¼Œä½†æˆ‘ä¼šå°†å…¶åˆ†è§£ä¸ºæ˜“äºç†è§£çš„éƒ¨åˆ†ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>åœ¨å½“ä»Šå¿«èŠ‚å¥çš„æ•°å­—ä¸–ç•Œä¸­ï¼Œé«˜æ•ˆåœ°å¯¼å‡ºå’Œå¯¼å…¥æ‰¹é‡ä½œä¸šå¯¹äºä¼ä¸šè‡³å…³é‡è¦ã€‚æ‰¹é‡ä½œä¸šæ“ä½œæ¶‰åŠå¤„ç†å¤§é‡æ•°æ®ï¼Œæ‹¥æœ‰æµç•…çš„æµç¨‹å¯ä»¥èŠ‚çœæ—¶é—´å’Œç²¾åŠ›ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ä¸€ç§åŸºäºJavaçš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥è®©æ‚¨æ— ç¼åœ°å¯¼å‡ºå’Œå¯¼å…¥æ‰¹é‡ä½œä¸šã€‚</p><h2 id="å¯¼å‡ºæ‰¹é‡ä½œä¸š"><a href="#å¯¼å‡ºæ‰¹é‡ä½œä¸š" class="headerlink" title="å¯¼å‡ºæ‰¹é‡ä½œä¸š"></a>å¯¼å‡ºæ‰¹é‡ä½œä¸š</h2><p>æä¾›çš„ä»£ç ç‰‡æ®µæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨åŸºäºJavaçš„è§£å†³æ–¹æ¡ˆå¯¼å‡ºæ‰¹é‡ä½œä¸šã€‚ä»¥ä¸‹æ˜¯ä»£ç çš„è¯¦ç»†è¯´æ˜ï¼š</p><ol><li><p><code>exportBatchJobs</code> æ–¹æ³•è´Ÿè´£å¯¼å‡ºæ‰¹é‡ä½œä¸šã€‚å®ƒä½¿ç”¨ <code>StringBuilder</code> æ„å»ºæ¯ä¸ªè¡¨çš„ SQL è¯­å¥ã€‚</p></li><li><p><code>getTableNames</code> æ–¹æ³•ä½¿ç”¨ <code>SHOW TABLES</code> SQL æŸ¥è¯¢æ£€ç´¢æ‰€æœ‰è¡¨åã€‚</p></li><li><p>å¯¹äºæ¯ä¸ªè¡¨ï¼Œéƒ½ä¼šè°ƒç”¨ <code>downloadTable</code> æ–¹æ³•ã€‚å®ƒæŸ¥è¯¢è¡¨æ•°æ®å¹¶ä¸ºæ¯ä¸€è¡Œç”Ÿæˆ SQL æ’å…¥è¯­å¥ã€‚</p></li><li><p>ç”Ÿæˆçš„ SQL è¯­å¥ä¼šè¿½åŠ åˆ° <code>sqlBuilder</code> ä¸­ã€‚</p></li><li><p>æœ€åï¼Œ<code>sqlBuilder</code> çš„å†…å®¹ä¼šå†™å…¥ HTTP å“åº”ï¼Œå…è®¸ç”¨æˆ·ä¸‹è½½ SQL æ–‡ä»¶ã€‚</p></li></ol><p>ä¸ºäº†ä¼˜åŒ–è¿™æ®µä»£ç ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ä»¥ä¸‹æ”¹è¿›ï¼š</p><ul><li><p>ä½¿ç”¨ <code>ExecutorService</code> å’Œ <code>Future</code> ç±»å®ç°å¤šçº¿ç¨‹ï¼Œä»¥å¹¶è¡ŒåŒ–å¯¼å‡ºè¿‡ç¨‹ã€‚è¿™å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§é‡è¡¨æ—¶ã€‚</p></li><li><p>æ¢ç´¢ä¼˜åŒ– SQL ç”Ÿæˆè¿‡ç¨‹çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨æ‰¹é‡æ’å…¥è€Œä¸æ˜¯å•ä¸ªæ’å…¥è¯­å¥æ¥æé«˜æ•ˆç‡ã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¼å‡ºæ‰¹æ¬¡ä½œä¸š</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:zysicyj@163.com&quot; &gt; å…¬ä¼—å·ï¼šã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘ ä¸ªäººåšå®¢ï¼šã€blog.zysicyj.toã€‘ &lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2023/8/10</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/exportBatchJobs&quot;)</span></span><br><span class="line">    <span class="meta">@Transactional(rollbackFor = Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exportBatchJobs</span><span class="params">(HttpServletResponse response)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">sqlBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="type">ExecutorService</span> <span class="variable">executorService</span> <span class="operator">=</span> Executors.newFixedThreadPool(getTableNames().size());</span><br><span class="line">            List&lt;Future&lt;?&gt;&gt; futures = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (String tableName : getTableNames()) &#123;</span><br><span class="line">                Future&lt;?&gt; future = executorService.submit(() -&gt; &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        downloadTable(tableName, sqlBuilder);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                futures.add(future);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Wait for all threads to finish</span></span><br><span class="line">            <span class="keyword">for</span> (Future&lt;?&gt; future : futures) &#123;</span><br><span class="line">                future.get();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Set response headers for file download</span></span><br><span class="line">            response.setContentType(<span class="string">&quot;application/octet-stream&quot;</span>);</span><br><span class="line">            response.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            response.setHeader(HttpHeaders.CONTENT_DISPOSITION, <span class="string">&quot;attachment; filename=&quot;</span> + format(DateUtil.now(), <span class="string">&quot;YYYY-MM-dd HH:mm:ss&quot;</span>) + <span class="string">&quot;.sql&quot;</span>);</span><br><span class="line"></span><br><span class="line">            response.getWriter().write(sqlBuilder.toString());</span><br><span class="line"></span><br><span class="line">            executorService.shutdown();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–æ‰€æœ‰è¡¨å</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> java.util.List&lt;java.lang.String&gt;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> &lt;a href = &quot;mailto:zysicyj@163.com&quot; &gt; å…¬ä¼—å·ï¼šã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘ ä¸ªäººåšå®¢ï¼šã€blog.zysicyj.toã€‘  &lt;/a &gt;</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2023/8/10</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getTableNames</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> jdbcTemplate.queryForList(<span class="string">&quot;SHOW TABLES&quot;</span>, String.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¼å‡ºæŒ‡å®šè¡¨SQL</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> tableName</span></span><br><span class="line"><span class="comment">     *         è¡¨æ˜</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sqlBuilder</span></span><br><span class="line"><span class="comment">     *         æ‹¼æ¥sql</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:zysicyj@163.com&quot; &gt; å…¬ä¼—å·ï¼šã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘ ä¸ªäººåšå®¢ï¼šã€blog.zysicyj.toã€‘ &lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2023/8/10</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">downloadTable</span><span class="params">(String tableName, StringBuilder sqlBuilder)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢è¡¨æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;SELECT * FROM ??&quot;</span>;</span><br><span class="line">        List&lt;Map&lt;String, Object&gt;&gt; tableData = jdbcTemplate.queryForList(sql, tableName);</span><br><span class="line">        <span class="comment">// æ‹¼æ¥SQLæ’å…¥è¯­å¥</span></span><br><span class="line">        <span class="keyword">for</span> (Map&lt;String, Object&gt; row : tableData) &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">valuesBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">columnsBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;String, Object&gt; entry : row.entrySet()) &#123;</span><br><span class="line">                columnsBuilder.append(entry.getKey()).append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (entry.getValue() <span class="keyword">instanceof</span> <span class="type">byte</span>[]) &#123;</span><br><span class="line">                    <span class="type">byte</span>[] binaryData = (<span class="type">byte</span>[]) entry.getValue();</span><br><span class="line">                    <span class="type">String</span> <span class="variable">hexString</span> <span class="operator">=</span> bytesToHexString(binaryData);</span><br><span class="line">                    valuesBuilder.append(<span class="string">&quot;0x&quot;</span>).append(hexString).append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    valuesBuilder.append(<span class="string">&quot;&#x27;&quot;</span>).append(entry.getValue()).append(<span class="string">&quot;&#x27;, &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">columns</span> <span class="operator">=</span> columnsBuilder.substring(<span class="number">0</span>, columnsBuilder.length() - <span class="number">2</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">values</span> <span class="operator">=</span> valuesBuilder.substring(<span class="number">0</span>, valuesBuilder.length() - <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">            sqlBuilder.append(<span class="string">&quot;INSERT INTO &quot;</span>).append(tableName).append(<span class="string">&quot; (&quot;</span>).append(columns).append(<span class="string">&quot;) VALUES (&quot;</span>)</span><br><span class="line">                    .append(values).append(<span class="string">&quot;);\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¯¼å‡ºæ¥çš„å°±æ˜¯è¿™ç§æ ¼å¼çš„æ–‡ä»¶</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308102210122.png" alt="image-20230810221022867"></p><h2 id="å¯¼å…¥æ‰¹é‡ä½œä¸š"><a href="#å¯¼å…¥æ‰¹é‡ä½œä¸š" class="headerlink" title="å¯¼å…¥æ‰¹é‡ä½œä¸š"></a>å¯¼å…¥æ‰¹é‡ä½œä¸š</h2><p>æä¾›çš„ä»£ç ç‰‡æ®µæ¼”ç¤ºäº†å¦‚ä½•å¯¼å…¥åŒ…å«æ‰¹é‡ä½œä¸šæ•°æ®çš„ SQL æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ä»£ç çš„è¯¦ç»†è¯´æ˜ï¼š</p><ol><li><p><code>executeSqlFile</code> æ–¹æ³•å¤„ç†å¯¼å…¥è¿‡ç¨‹ã€‚å®ƒæ¥å—ä¸€ä¸ª SQL æ–‡ä»¶ä½œä¸º <code>MultipartFile</code> å¹¶è¯»å–å…¶å†…å®¹ã€‚</p></li><li><p>ä½¿ç”¨åˆ†å·ï¼ˆ<code>;</code>ï¼‰åˆ†éš”ç¬¦å°† SQL æ–‡ä»¶å†…å®¹æ‹†åˆ†ä¸ºå•ä¸ªè¯­å¥ã€‚</p></li><li><p>ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢æ‰§è¡Œæ¯ä¸ªè¯­å¥ï¼Œç¡®ä¿å®‰å…¨æ€§å¹¶é˜²æ­¢ SQL æ³¨å…¥æ”»å‡»ã€‚</p></li><li><p>å¦‚æœ SQL æ–‡ä»¶æˆåŠŸæ‰§è¡Œï¼Œåˆ™æ–¹æ³•è¿”å›æˆåŠŸæ¶ˆæ¯ã€‚å¦åˆ™ï¼Œå®ƒä¼šè®°å½•å¯¼å…¥è¿‡ç¨‹ä¸­å‡ºç°çš„ä»»ä½•é”™è¯¯ã€‚</p></li></ol><p>ä¸ºäº†ä¼˜åŒ–è¿™æ®µä»£ç ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ä»¥ä¸‹æ”¹è¿›ï¼š</p><ul><li><p>å®ç°é”™è¯¯å¤„ç†ï¼Œå¹¶æä¾›æ›´è¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯ï¼Œä»¥å¸®åŠ©ç”¨æˆ·æ’é™¤å¯¼å…¥è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„ä»»ä½•é—®é¢˜ã€‚</p></li><li><p>è€ƒè™‘åœ¨æ‰§è¡Œè¯­å¥ä¹‹å‰éªŒè¯ SQL æ–‡ä»¶å†…å®¹ã€‚è¿™å¯ä»¥å¸®åŠ©é˜²æ­¢ç”±æ ¼å¼é”™è¯¯æˆ–ä¸å…¼å®¹çš„ SQL è¯­å¥å¼•èµ·çš„æ½œåœ¨é”™è¯¯ã€‚</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¼å…¥SQL</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> com.nari.common.core.domain.AjaxResult</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> &lt;a href = &quot;mailto:zysicyj@163.com&quot; &gt; å…¬ä¼—å·ï¼šã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘ ä¸ªäººåšå®¢ï¼šã€blog.zysicyj.toã€‘ &lt;/a &gt;</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 2023/8/10</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/importBatchJobs&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> AjaxResult <span class="title function_">executeSqlFile</span><span class="params">(<span class="meta">@RequestParam(&quot;filePath&quot;)</span> MultipartFile file)</span> &#123;</span><br><span class="line">        List&lt;String&gt; results = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Read the SQL file content</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(file.getBytes());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Split the SQL file content into individual statements</span></span><br><span class="line">            String[] statements = sql.split(<span class="string">&quot;;&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Execute each statement using parameterized queries</span></span><br><span class="line">            <span class="keyword">for</span> (String statement : statements) &#123;</span><br><span class="line">                <span class="comment">// Skip empty statements</span></span><br><span class="line">                <span class="keyword">if</span> (statement.trim().isEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// Execute the statement using parameterized queries</span></span><br><span class="line">                jdbcTemplate.update(statement);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> AjaxResult.success(<span class="string">&quot;SQL file executed successfully&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            results.add(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;å¯¼å…¥å¤±è´¥çš„SQLæ•°é‡:&#123;&#125;,&#123;&#125;&quot;</span>, results.size(), results);</span><br><span class="line">        <span class="keyword">return</span> success();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>æ€»ä¹‹ï¼Œæœ¬æ–‡æ¢è®¨äº†ä¸€ç§åŸºäºJavaçš„è§£å†³æ–¹æ¡ˆï¼Œç”¨äºå¯¼å‡ºå’Œå¯¼å…¥æ‰¹é‡ä½œä¸šã€‚å¯¼å‡ºè¿‡ç¨‹æ£€ç´¢è¡¨æ•°æ®å¹¶ç”Ÿæˆ SQL æ’å…¥è¯­å¥ï¼Œå…è®¸ç”¨æˆ·ä¸‹è½½ SQL æ–‡ä»¶ã€‚å¯¼å…¥è¿‡ç¨‹è¯»å– SQL æ–‡ä»¶ï¼Œå°†å…¶æ‹†åˆ†ä¸ºå•ä¸ªè¯­å¥ï¼Œå¹¶ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢æ‰§è¡Œè¿™äº›è¯­å¥ã€‚é€šè¿‡ä¼˜åŒ–ä»£ç å¹¶å®ç°é”™è¯¯å¤„ç†ï¼Œæ‚¨å¯ä»¥æé«˜æ‰¹é‡ä½œä¸šå¯¼å‡ºå’Œå¯¼å…¥åŠŸèƒ½çš„æ•ˆç‡å’Œå¯é æ€§ã€‚</p><p>å¸Œæœ›è¿™ç¯‡ä¼˜åŒ–å’Œä¸°å¯Œçš„æ–‡ç« èƒ½å¸®åŠ©æ‚¨ä¸ºè¯»è€…æä¾›æœ‰ä»·å€¼çš„è§è§£ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•è¿›ä¸€æ­¥çš„é—®é¢˜æˆ–éœ€è¦é¢å¤–çš„å¸®åŠ©ï¼Œè¯·éšæ—¶æé—®ï¼</p><p>ï¿½åŠ©ï¼Œè¯·éšæ—¶æé—®ï¼</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> sql </tag>
            
            <tag> java </tag>
            
            <tag> æ‰¹é‡ä½œä¸š </tag>
            
            <tag> å¯¼å‡º </tag>
            
            <tag> å¯¼å…¥ </tag>
            
            <tag> å¤šçº¿ç¨‹ </tag>
            
            <tag> å‚æ•°åŒ–æŸ¥è¯¢ </tag>
            
            <tag> é”™è¯¯å¤„ç† </tag>
            
            <tag> ä¼˜åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbootç”Ÿæˆè¡¨ç»“æ„å’Œè¡¨æ•°æ®sql</title>
      <link href="/196b7a2b.html"/>
      <url>/196b7a2b.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>ä¸šåŠ¡èƒŒæ™¯æ˜¯éœ€è¦æŸå•æœºç¨‹åºéœ€è¦æŠŠæ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡å¯¼å‡ºï¼Œç„¶åå¦ä¸€å°ç”µè„‘ä¸Šå•æœºç»§ç»­è¿è¡Œï¼Œæˆ‘è¿™é‡Œé€‰æ‹©çš„æ–¹æ¡ˆæ˜¯åŒæ­¥SQLå½¢å¼ï¼Œå¹¶ä¿è¯IDéšæœºï¼Œå¤šä¸ªæ•°æ®åº“ä¸ä¼šé‡å¤ã€‚</p><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nari.</span><br><span class="line">![](image.png)</span><br><span class="line">web.controller.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.io.FileUtil;</span><br><span class="line"><span class="keyword">import</span> cn.hutool.core.util.StrUtil;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.io.InputStreamResource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpHeaders;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.MediaType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.ResponseEntity;</span><br><span class="line"><span class="keyword">import</span> org.springframework.jdbc.core.JdbcTemplate;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/download&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DemoController</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * äºŒè¿›åˆ¶è½¬æˆåå…­è¿›åˆ¶</span></span><br><span class="line"><span class="comment">     * è¿™é‡Œä¸»è¦æ˜¯å¤„ç†å›¾ç‰‡æ•°æ®ï¼Œå› ä¸ºæ•°æ®åº“å­˜äº†å›¾ç‰‡Base64</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">bytesToHexString</span><span class="params">(<span class="type">byte</span>[] bytes)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">hexString</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">byte</span> b : bytes) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">hex</span> <span class="operator">=</span> Integer.toHexString(<span class="number">0xff</span> &amp; b);</span><br><span class="line">            <span class="keyword">if</span> (hex.length() == <span class="number">1</span>) &#123;</span><br><span class="line">                hexString.append(<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            hexString.append(hex);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hexString.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¼å‡ºæŒ‡å®šè¡¨SQL</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/table/&#123;tableName&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">downloadTable</span><span class="params">(<span class="meta">@PathVariable</span> String tableName, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢è¡¨æ•°æ®</span></span><br><span class="line">        List&lt;Map&lt;String, Object&gt;&gt; tableData = jdbcTemplate.queryForList(<span class="string">&quot;SELECT * FROM &quot;</span> + tableName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŸ¥è¯¢è¡¨ç»“æ„</span></span><br><span class="line">        List&lt;Map&lt;String, Object&gt;&gt; tableStructure = jdbcTemplate.queryForList(<span class="string">&quot;SHOW CREATE TABLE &quot;</span> + tableName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‹¼æ¥SQLæ’å…¥è¯­å¥</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sqlBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        sqlBuilder.append(tableStructure.get(<span class="number">0</span>).get(<span class="string">&quot;Create Table&quot;</span>)).append(<span class="string">&quot;;\n\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Map&lt;String, Object&gt; row : tableData) &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">valuesBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">columnsBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;String, Object&gt; entry : row.entrySet()) &#123;</span><br><span class="line">                columnsBuilder.append(entry.getKey()).append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (entry.getValue() <span class="keyword">instanceof</span> <span class="type">byte</span>[]) &#123;</span><br><span class="line">                    <span class="type">byte</span>[] binaryData = (<span class="type">byte</span>[]) entry.getValue();</span><br><span class="line">                    <span class="type">String</span> <span class="variable">hexString</span> <span class="operator">=</span> bytesToHexString(binaryData);</span><br><span class="line">                    valuesBuilder.append(<span class="string">&quot;0x&quot;</span>).append(hexString).append(<span class="string">&quot;, &quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    valuesBuilder.append(<span class="string">&quot;&#x27;&quot;</span>).append(entry.getValue()).append(<span class="string">&quot;&#x27;, &quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">columns</span> <span class="operator">=</span> columnsBuilder.substring(<span class="number">0</span>, columnsBuilder.length() - <span class="number">2</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">values</span> <span class="operator">=</span> valuesBuilder.substring(<span class="number">0</span>, valuesBuilder.length() - <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">            sqlBuilder.append(<span class="string">&quot;INSERT INTO &quot;</span>).append(tableName).append(<span class="string">&quot; (&quot;</span>).append(columns).append(<span class="string">&quot;) VALUES (&quot;</span>).append(values).append(<span class="string">&quot;);\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ„å»ºå“åº”</span></span><br><span class="line">        response.setHeader(HttpHeaders.CONTENT_DISPOSITION, <span class="string">&quot;attachment; filename=&quot;</span> + tableName+<span class="string">&quot;.sql&quot;</span>);</span><br><span class="line">        response.getWriter().write(sqlBuilder.toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><p>èƒ½çœ‹åˆ°è¿™è¾¹å›¾ç‰‡å·²ç»æ­£å¸¸å¯¼å‡ºäº†</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308082133731.png" alt="image-20230808213359441"><br>ud.com&#x2F;blog&#x2F;202308082133731.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> jdbc </tag>
            
            <tag> sql </tag>
            
            <tag> å¯¼å‡º </tag>
            
            <tag> springboot </tag>
            
            <tag> ä¸‹è½½ </tag>
            
            <tag> è¡¨æ•°æ® </tag>
            
            <tag> è¡¨ç»“æ„ </tag>
            
            <tag> æ’å…¥è¯­å¥ </tag>
            
            <tag> å“åº” </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åšå®¢ä¼˜åŒ–å·®ä¸å¤šäº†</title>
      <link href="/c37612c9.html"/>
      <url>/c37612c9.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><p>åšå®¢åœ°å€ï¼š<a href="https://blog.zysicyj.top/">https://blog.zysicyj.top/</a></p><p>è¿™ç¯‡æ–‡ç« ä¸æ˜¯æ•™å­¦åšå®¢ï¼Œåç»­è€ƒè™‘çœ‹æ˜¯å¦å‡ºæ•™å­¦</p><p>å…·ä½“ä¼˜åŒ–è§†é¢‘å¯ä»¥è§‚çœ‹Bç«™è§†é¢‘</p><p><a href="https://space.bilibili.com/258577429">https://space.bilibili.com/258577429</a></p><p>è¿™ä¸ªåšå®¢æ˜¯Hexo+Github Pagesæ­å»ºçš„ï¼Œå¦‚ä½•æ­å»ºå¯ä»¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ï¼Œä¸»é¢˜æ˜¯Butterflyï¼Œå›¾åºŠæ˜¯è…¾è®¯äº‘COSï¼Œè€æ–‡ç« ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘OOSï¼Œæ¢æˆCOSä¸»è¦æ˜¯å‡ºäºæˆæœ¬ï¼Œè…¾è®¯çš„ä¾¿å®œå¤ªå¤šäº†ï¼Œè€Œä¸”æœ‰å¾ˆå¤šå…è´¹é¢åº¦<img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072341119.png" alt="image-20230807234107815"></p><p>é˜¿é‡Œäº‘å·²ç»å¼€å§‹æ‰£è´¹äº†ï¼Œä»·æ ¼æ˜¯0.5å…ƒ&#x2F;Gæµé‡ï¼Œä¸åŒ…æ‹¬å­˜å‚¨è´¹ç”¨ï¼Œä¸Šä¸ªæœˆæ‰£äº†å‡ å—é’±äº†ã€‚ã€‚çœ‹äº†ä¸‹ï¼Œæœ€ä½çš„æµé‡åŒ…æ˜¯100Gã€‚ã€‚è…¾è®¯æ˜¯10Gå¥½åƒï¼Œä»·æ ¼ä¸Šä¹Ÿè´µä¸å°‘</p><p>æ€»æ„Ÿè§‰æµé‡æ‰£çš„ä¸å¯¹ï¼Œæ²¡åŠæ³•ï¼Œå¼€å§‹ä¸Šé˜²ç›—é“¾äº†ã€‚ã€‚ã€‚COSå’ŒOSSéƒ½ä¸Šäº†ã€‚ã€‚åç»­æœ‰æ—¶é—´å†æŠŠOSSæ–‡æ¡£è¿ç§»åˆ°COSå§ï¼Œâ•®(â•¯â–½â•°)â•­</p><h2 id="æ–°å¢æœç´¢åŠŸèƒ½"><a href="#æ–°å¢æœç´¢åŠŸèƒ½" class="headerlink" title="æ–°å¢æœç´¢åŠŸèƒ½"></a>æ–°å¢æœç´¢åŠŸèƒ½</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072348757.png" alt="image-20230807234835404"></p><h2 id="æ–°å¢è¯„è®ºç³»ç»Ÿ"><a href="#æ–°å¢è¯„è®ºç³»ç»Ÿ" class="headerlink" title="æ–°å¢è¯„è®ºç³»ç»Ÿ"></a>æ–°å¢è¯„è®ºç³»ç»Ÿ</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072337879.png" alt="image-20230807233701749"></p><h2 id="æ–°å¢åœ¨çº¿èŠå¤©ç³»ç»Ÿ"><a href="#æ–°å¢åœ¨çº¿èŠå¤©ç³»ç»Ÿ" class="headerlink" title="æ–°å¢åœ¨çº¿èŠå¤©ç³»ç»Ÿ"></a>æ–°å¢åœ¨çº¿èŠå¤©ç³»ç»Ÿ</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072337780.png" alt="image-20230807233728451"></p><h2 id="è¯­è¨€æ”¹ä¸ºä¸­æ–‡"><a href="#è¯­è¨€æ”¹ä¸ºä¸­æ–‡" class="headerlink" title="è¯­è¨€æ”¹ä¸ºä¸­æ–‡"></a>è¯­è¨€æ”¹ä¸ºä¸­æ–‡</h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072338122.png" alt="image-20230807233812817"></p><h2 id="å»æ‰äº†é»˜è®¤é‚£ä¸ªå¤§å›¾ï¼Œç›´æ¥å±•ç¤ºæ–‡ç« "><a href="#å»æ‰äº†é»˜è®¤é‚£ä¸ªå¤§å›¾ï¼Œç›´æ¥å±•ç¤ºæ–‡ç« " class="headerlink" title="å»æ‰äº†é»˜è®¤é‚£ä¸ªå¤§å›¾ï¼Œç›´æ¥å±•ç¤ºæ–‡ç« "></a>å»æ‰äº†é»˜è®¤é‚£ä¸ªå¤§å›¾ï¼Œç›´æ¥å±•ç¤ºæ–‡ç« </h2><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072347459.png" alt="image-20230807234701110"></p><h2 id="æ–°å¢å‹é“¾"><a href="#æ–°å¢å‹é“¾" class="headerlink" title="æ–°å¢å‹é“¾"></a>æ–°å¢å‹é“¾</h2><p>è¿™ä¸ªå‹é“¾ä¹Ÿéœ€è¦å®Œå–„ï¼Œæ—¶é—´ä¸Šä¸å¤Ÿå•Šï¼Œæœ‰æ—¶é—´å†å¼„å§</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072349572.png" alt="image-20230807234921266"><br>log&#x2F;202308072349572.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æ—¥è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterflyå®‰è£…æ–‡æ¡£(ä¸‰)ä¸»é¢˜é…ç½®-1</title>
      <link href="/9effb4a6.html"/>
      <url>/9effb4a6.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h2 id="è¯­è¨€"><a href="#è¯­è¨€" class="headerlink" title="è¯­è¨€"></a>è¯­è¨€</h2><p>ä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.yml</p><p>é»˜è®¤è¯­è¨€æ˜¯ en</p><p>ä¸»é¢˜æ”¯æŒä¸‰ç§è¯­è¨€</p><ul><li>default(en)</li><li>zh-CN (ç®€ä½“ä¸­æ–‡)</li><li>zh-TW (ç¹ä½“ä¸­æ–‡)</li></ul><h2 id="ç½‘ç«™èµ„æ–™"><a href="#ç½‘ç«™èµ„æ–™" class="headerlink" title="ç½‘ç«™èµ„æ–™"></a>ç½‘ç«™èµ„æ–™</h2><p>ä¿®æ”¹ç½‘ç«™å„ç§èµ„æ–™ï¼Œä¾‹å¦‚æ ‡é¢˜ã€å‰¯æ ‡é¢˜å’Œé‚®ç®±ç­‰ä¸ªäººèµ„æ–™ï¼Œè¯·ä¿®æ”¹åšå®¢æ ¹ç›®å½•çš„_config.yml</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072057104.png" alt="img"></p><h2 id="å¯¼èˆªæ è®¾ç½®-Navigation-bar-settings"><a href="#å¯¼èˆªæ è®¾ç½®-Navigation-bar-settings" class="headerlink" title="å¯¼èˆªæ è®¾ç½® (Navigation bar settings)"></a>å¯¼èˆªæ è®¾ç½® (Navigation bar settings)</h2><h3 id="å‚æ•°è®¾ç½®"><a href="#å‚æ•°è®¾ç½®" class="headerlink" title="å‚æ•°è®¾ç½®"></a>å‚æ•°è®¾ç½®</h3><p>ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">nav:</span></span><br><span class="line">  <span class="attr">logo:</span> <span class="comment">#image</span></span><br><span class="line">  <span class="attr">display_title:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">fixed:</span> <span class="literal">false</span> <span class="comment"># fixed navigation bar</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072058163.png" alt="image-20230807205821105"></p><h3 id="èœå•-ç›®å½•"><a href="#èœå•-ç›®å½•" class="headerlink" title="èœå•&#x2F;ç›®å½•"></a>èœå•&#x2F;ç›®å½•</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">Home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line"><span class="attr">Archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line"><span class="attr">Tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line"><span class="attr">Categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line"><span class="string">List||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">  <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">  <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line"><span class="attr">Link:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line"><span class="attr">About:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><p>å¿…é¡»æ˜¯ &#x2F;xxx&#x2F;ï¼Œåé¢||åˆ†å¼€ï¼Œç„¶åå†™å›¾æ ‡åã€‚</p><p>å¦‚æœä¸å¸Œæœ›æ˜¾ç¤ºå›¾æ ‡ï¼Œå›¾æ ‡åå¯ä¸å†™ã€‚</p><p>é»˜è®¤å­ç›®å½•æ˜¯å±•å¼€çš„ï¼Œå¦‚æœä½ æƒ³è¦éšè—ï¼Œåœ¨å­ç›®å½•é‡Œæ·»åŠ  hide ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">List||fas</span> <span class="string">fa-list||hide:</span></span><br><span class="line">  <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">  <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š å¯¼èˆªçš„æ–‡å­—å¯è‡ªè¡Œæ›´æ”¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">é¦–é¡µ:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">æ—¶é—´è½´:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">æ ‡ç­¾:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">åˆ†ç±»:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="string">æ¸…å•||fa</span> <span class="attr">fa-heartbeat:</span></span><br><span class="line">    <span class="string">éŸ³ä¹:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">    <span class="string">ç…§ç‰‡:</span> <span class="string">/Gallery/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-images</span></span><br><span class="line">    <span class="string">ç”µå½±:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br><span class="line">  <span class="string">å‹é“¾:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">å…³äº:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072059133.png" alt="img"></p><h2 id="ä»£ç -Code-Blocks"><a href="#ä»£ç -Code-Blocks" class="headerlink" title="ä»£ç  (Code Blocks)"></a>ä»£ç  (Code Blocks)</h2><blockquote><p>ä»£ç å—ä¸­çš„æ‰€æœ‰åŠŸèƒ½åªé€‚ç”¨äº Hexo è‡ªå¸¦çš„ä»£ç æ¸²æŸ“</p><p>å¦‚æœä½¿ç”¨ç¬¬ä¸‰æ–¹çš„æ¸²æŸ“å™¨ï¼Œä¸ä¸€å®šä¼šæœ‰æ•ˆ</p></blockquote><h3 id="ä»£ç é«˜äº®ä¸»é¢˜"><a href="#ä»£ç é«˜äº®ä¸»é¢˜" class="headerlink" title="ä»£ç é«˜äº®ä¸»é¢˜"></a>ä»£ç é«˜äº®ä¸»é¢˜</h3><p>Butterfly æ”¯æŒ6ç§ä»£ç é«˜äº®æ ·å¼ï¼š</p><ul><li>darker</li><li>pale night</li><li>light</li><li>ocean</li><li>mac</li><li>mac light</li></ul><p>ä¿®æ”¹ ä¸»é¢˜é…ç½®æ–‡ä»¶</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_theme:</span> <span class="string">light</span></span><br></pre></td></tr></table></figure><blockquote><p>darker</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072100889.png" alt="img"></p><blockquote><p>pale night</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072100334.png" alt="img"></p><blockquote><p>light</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072100700.png" alt="img"></p><blockquote><p>ocean</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072101386.png" alt="img"></p><blockquote><p>mac</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072101737.png" alt="img"></p><blockquote><p>mac light</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072101442.png" alt="image-20200731175026827"></p><h3 id="ä»£ç å¤åˆ¶"><a href="#ä»£ç å¤åˆ¶" class="headerlink" title="ä»£ç å¤åˆ¶"></a>ä»£ç å¤åˆ¶</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072101594.png" alt="img"></p><h3 id="ä»£ç æ¡†å±•å¼€-å…³é—­"><a href="#ä»£ç æ¡†å±•å¼€-å…³é—­" class="headerlink" title="ä»£ç æ¡†å±•å¼€&#x2F;å…³é—­"></a>ä»£ç æ¡†å±•å¼€&#x2F;å…³é—­</h3><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä»£ç æ¡†è‡ªåŠ¨å±•å¼€ï¼Œå¯è®¾ç½®æ˜¯å¦æ‰€æœ‰ä»£ç æ¡†éƒ½å…³é—­çŠ¶æ€ï¼Œç‚¹å‡»&gt;å¯å±•å¼€ä»£ç </p><ul><li>true å…¨éƒ¨ä»£ç æ¡†ä¸å±•å¼€ï¼Œéœ€ç‚¹å‡»&gt;æ‰“å¼€</li><li>false ä»£ç æ¡†å±•å¼€ï¼Œæœ‰&gt;ç‚¹å‡»æŒ‰é’®</li><li>none ä¸æ˜¾ç¤º&gt;æŒ‰é’®</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">true</span> <span class="comment">#ä»£ç æ¡†ä¸å±•å¼€ï¼Œéœ€ç‚¹å‡» &#x27;&gt;&#x27; æ‰“å¼€</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½ ä¹Ÿå¯ä»¥åœ¨post&#x2F;pageé¡µå¯¹åº”çš„markdownæ–‡ä»¶front-matteræ·»åŠ highlight_shrinkæ¥ç‹¬ç«‹é…ç½®ã€‚</p><p>å½“ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„ highlight_shrink è®¾ä¸ºtrueæ—¶ï¼Œå¯åœ¨front-matteræ·»åŠ highlight_shrink: falseæ¥å•ç‹¬é…ç½®æ–‡ç« å±•å¼€ä»£ç æ¡†ã€‚</p><p>å½“ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„ highlight_shrink è®¾ä¸ºfalseæ—¶ï¼Œå¯åœ¨front-matteræ·»åŠ highlight_shrink: trueæ¥å•ç‹¬é…ç½®æ–‡ç« æ”¶ç¼©ä»£ç æ¡†ã€‚</p></blockquote><p><code>highlight_shrink: true</code></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072102616.png" alt="img"></p><p><code>highlight_shrink: false</code></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072103552.png" alt="img"></p><p><code>highlight_shrink: none</code></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072103366.png" alt="img"></p><h3 id="ä»£ç æ¢è¡Œ"><a href="#ä»£ç æ¢è¡Œ" class="headerlink" title="ä»£ç æ¢è¡Œ"></a>ä»£ç æ¢è¡Œ</h3><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒHexo åœ¨ç¼–è¯‘çš„æ—¶å€™ä¸ä¼šå®ç°ä»£ç è‡ªåŠ¨æ¢è¡Œã€‚å¦‚æœä½ ä¸å¸Œæœ›åœ¨ä»£ç å—çš„åŒºåŸŸé‡Œæœ‰æ¨ªå‘æ»šåŠ¨æ¡çš„è¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥è€ƒè™‘å¼€å¯è¿™ä¸ªåŠŸèƒ½ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ˜¯ä½¿ç”¨ highlight æ¸²æŸ“ï¼Œéœ€è¦æ‰¾åˆ°ä½ ç«™ç‚¹çš„ Hexo é…ç½®æ–‡ä»¶_config.ymlï¼Œå°†line_numberæ”¹æˆfalse:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span> <span class="comment"># &lt;- æ”¹è¿™é‡Œ</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æ˜¯ä½¿ç”¨ prismjs æ¸²æŸ“ï¼Œéœ€è¦æ‰¾åˆ°ä½ ç«™ç‚¹çš„ Hexo é…ç½®æ–‡ä»¶_config.ymlï¼Œå°†line_numberæ”¹æˆfalse:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span> <span class="comment"># &lt;- æ”¹è¿™é‡Œ</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>è®¾ç½®code_word_wrapä¹‹å‰:</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072104470.png" alt="img"></p><p>è®¾ç½®code_word_wrapä¹‹å:</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072104153.png" alt="img"></p><h3 id="ä»£ç é«˜åº¦é™åˆ¶"><a href="#ä»£ç é«˜åº¦é™åˆ¶" class="headerlink" title="ä»£ç é«˜åº¦é™åˆ¶"></a>ä»£ç é«˜åº¦é™åˆ¶</h3><blockquote><p>3.7.0 åŠä»¥ä¸Šæ”¯æŒ</p></blockquote><p>å¯é…ç½®ä»£ç é«˜åº¦é™åˆ¶ï¼Œè¶…å‡ºçš„éƒ¨åˆ†ä¼šéšè—ï¼Œå¹¶æ˜¾ç¤ºå±•å¼€æŒ‰é’®ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight_height_limit:</span> <span class="literal">false</span> <span class="comment"># unit: px</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ol><li>å•ä½æ˜¯ pxï¼Œç›´æ¥æ·»åŠ æ•°å­—ï¼Œå¦‚ 200</li><li>å®é™…é™åˆ¶é«˜åº¦ä¸º highlight_height_limit + 30 px ï¼Œå¤šå¢åŠ  30px é™åˆ¶ï¼Œç›®çš„æ˜¯é¿å…ä»£ç é«˜åº¦åªè¶…å‡ºhighlight_height_limit ä¸€ç‚¹æ—¶ï¼Œå‡ºç°å±•å¼€æŒ‰é’®ï¼Œå±•å¼€æ²¡å†…å®¹ã€‚</li><li>ä¸é€‚ç”¨äºéšè—åçš„ä»£ç å—ï¼ˆ css è®¾ç½® display: noneï¼‰</li></ol><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072105585.gif" alt="hexo-theme-butterfly-docs-highlight-heigh-limit"></p><h2 id="ç¤¾äº¤å›¾æ ‡-Social-Settings"><a href="#ç¤¾äº¤å›¾æ ‡-Social-Settings" class="headerlink" title="ç¤¾äº¤å›¾æ ‡ (Social Settings)"></a>ç¤¾äº¤å›¾æ ‡ (Social Settings)</h2><p>Butterflyæ”¯æŒ font-awesome v6 å›¾æ ‡.</p><p>ä¹¦å†™æ ¼å¼ å›¾æ ‡åï¼šurl || æè¿°æ€§æ–‡å­— || color</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">fab fa-github:</span> <span class="string">https://github.com/xxxxx</span> <span class="string">||</span> <span class="string">Github</span> <span class="string">||</span> <span class="string">&quot;#hdhfbb&quot;</span></span><br><span class="line">  <span class="attr">fas fa-envelope:</span> <span class="string">mailto:xxxxxx@gmail.com</span> <span class="string">||</span> <span class="string">Email</span> <span class="string">||</span> <span class="string">&quot;#000000&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072105121.png" alt="img"></p><p>PC:</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072105313.png" alt="img"></p><p>Mobile:</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072105225.png" alt="1560603353743"></p><h2 id="å¤´åƒ"><a href="#å¤´åƒ" class="headerlink" title="å¤´åƒ"></a>å¤´åƒ</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/img/avatar.png</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">true</span> <span class="comment"># å¤´åƒä¼šä¸€ç›´è½¬åœˆ</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072106042.png" alt="img"></p><h2 id="é¡¶éƒ¨å›¾"><a href="#é¡¶éƒ¨å›¾" class="headerlink" title="é¡¶éƒ¨å›¾"></a>é¡¶éƒ¨å›¾</h2><blockquote><p>å¦‚æœä¸è¦æ˜¾ç¤ºé¡¶éƒ¨å›¾ï¼Œå¯ç›´æ¥é…ç½® disable_top_img: true</p></blockquote><blockquote><p>é¡¶éƒ¨å›¾çš„è·å–é¡ºåºï¼Œå¦‚æœéƒ½æ²¡æœ‰é…ç½®ï¼Œåˆ™ä¸æ˜¾ç¤ºé¡¶éƒ¨å›¾ã€‚</p><ol><li><p>é¡µé¢é¡¶éƒ¨å›¾çš„è·å–é¡ºåºï¼š</p><p>å„è‡ªé…ç½®çš„ top_img &gt; é…ç½®æ–‡ä»¶çš„ default_top_img</p></li><li><p>æ–‡ç« é¡µé¡¶éƒ¨å›¾çš„è·å–é¡ºåºï¼š</p><p>å„è‡ªé…ç½®çš„ top_img &gt; cover &gt; é…ç½®æ–‡ä»¶çš„ default_top_img</p></li></ol></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072106295.png" alt="image-20230807210647228"></p><p>å…¶å®ƒé¡µé¢ ï¼ˆtags&#x2F;categories&#x2F;è‡ªå»ºé¡µé¢ï¼‰å’Œ æ–‡ç« é¡µ çš„ top_img ï¼Œè¯·åˆ°å¯¹åº”çš„ md é¡µé¢è®¾ç½®front-matterä¸­çš„top_img</p><p>ä»¥ä¸Šæ‰€æœ‰çš„ top_img å¯é…ç½®ä»¥ä¸‹å€¼</p><blockquote><p> 3.2.0 ä»¥ä¸‹ç‰ˆæœ¬çš„é…ç½®åªæ”¯æŒ</p><ul><li>ç•™ç©ºï¼Œtrue å’Œ false - æ˜¾ç¤ºé»˜è®¤çš„é¡”è‰²</li><li>imgé“¾æ¥ - æ˜¾ç¤ºæ‰€é…ç½®çš„å›¾ç‰‡</li></ul></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072107929.png" alt="image-20230807210721862"></p><p>tag_per_img å’Œ category_per_img æ˜¯ 3.2.0 æ–°å¢çš„å†…å®¹ï¼Œå¯å¯¹ tag å’Œ category è¿›è¡Œå•ç‹¬çš„é…ç½®</p><p>å¹¶ä¸æ¨èä¸ºæ¯ä¸ª tag å’Œæ¯ä¸ª category éƒ½é…ç½®ä¸åŒçš„é¡¶éƒ¨å›¾ï¼Œå› ä¸ºé…ç½®å¤ªå¤šä¼šæ‹–æ…¢ç”Ÿæˆé€Ÿåº¦</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">tag_per_imgï¼š</span></span><br><span class="line">  <span class="attr">aplayer:</span> <span class="string">https://xxxxxx.png</span></span><br><span class="line">  <span class="attr">android:</span> <span class="string">ddddddd.png</span></span><br><span class="line">  </span><br><span class="line"><span class="string">category_per_imgï¼š</span></span><br><span class="line">  <span class="string">éšæƒ³:</span> <span class="string">hdhdh.png</span></span><br><span class="line">  <span class="string">æ¨è:</span> <span class="string">ddjdjdjd.png</span></span><br></pre></td></tr></table></figure><blockquote><p>top_img: false</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072107443.png" alt="image-20200924224536013"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072107817.png" alt="image-20201027210949089"></p><blockquote><p>top_img: orange</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072108160.png" alt="image-20200924225024153"></p><blockquote><p>top_img: â€˜linear-gradient(20deg, #0062be, #925696, #cc426e, #fb0347)â€™</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072108023.png" alt="image-20200924225300934"></p><h2 id="æ–‡ç« å°é¢"><a href="#æ–‡ç« å°é¢" class="headerlink" title="æ–‡ç« å°é¢"></a>æ–‡ç« å°é¢</h2><p>æ–‡ç« çš„ markdown æ–‡æ¡£ä¸Š,åœ¨ Front-matter æ·»åŠ  cover ,å¹¶å¡«ä¸Šè¦æ˜¾ç¤ºçš„å›¾ç‰‡åœ°å€ã€‚</p><p>å¦‚æœä¸é…ç½® cover,å¯ä»¥è®¾ç½®æ˜¾ç¤ºé»˜è®¤çš„ coverã€‚</p><p>å¦‚æœä¸æƒ³åœ¨é¦–é¡µæ˜¾ç¤º cover, å¯ä»¥è®¾ç½®ä¸º falseã€‚</p><blockquote><p>æ–‡ç« å°é¢çš„è·å–é¡ºåº Front-matter çš„ cover &gt; é…ç½®æ–‡ä»¶çš„ default_cover &gt; false</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># æ˜¯å¦æ˜¾ç¤ºæ–‡ç« å°é¢</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># å°é¢æ˜¾ç¤ºçš„ä½ç½®</span></span><br><span class="line">  <span class="comment"># ä¸‰ä¸ªå€¼å¯é…ç½® left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># å½“æ²¡æœ‰è®¾ç½®coveræ—¶ï¼Œé»˜è®¤çš„å°é¢æ˜¾ç¤º</span></span><br><span class="line">  <span class="attr">default_cover:</span> </span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072110069.png" alt="image-20230807211011003"></p><p>å½“é…ç½®å¤šå¼ å›¾ç‰‡æ—¶,ä¼šéšæœºé€‰æ‹©ä¸€å¼ ä½œä¸ºcover.æ­¤æ—¶å†™æ³•åº”ä¸º</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">default_cover:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg2.png</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg3.png</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072110869.png" alt="img"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072110295.png" alt="img"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072110971.png" alt="img"></p><blockquote><p>left</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072110677.png" alt="img"></p><blockquote><p>right</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072111478.png" alt="img"></p><blockquote><p>both</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072111182.png" alt="img"></p><h2 id="é¡µé¢-meta-æ˜¾ç¤º"><a href="#é¡µé¢-meta-æ˜¾ç¤º" class="headerlink" title="é¡µé¢ meta æ˜¾ç¤º"></a>é¡µé¢ meta æ˜¾ç¤º</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both ä¸»é¡µæ–‡ç« æ—¥æœŸæ˜¯åˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯ç›¸å¯¹æ—¥æœŸ</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†ç±»</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false ä¸»é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both æ–‡ç« é¡µæ—¥æœŸæ˜¯åˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥æˆ–éƒ½æ˜¾ç¤º</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">relative</span> <span class="comment"># date/relative æ˜¾ç¤ºæ—¥æœŸè¿˜æ˜¯ç›¸å¯¹æ—¥æœŸ</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºåˆ†ç±»</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false æ–‡ç« é¡µæ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false æ˜¾ç¤ºæè¿°æ€§æ–‡å­—</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸»é¡µ</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072111713.png" alt="img"></p><blockquote><p>æ–‡ç« é¡µ</p></blockquote><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072112598.png" alt="img"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072112995.png" alt="img"></p><p>date_format æ˜¯ 3.2.0 æ–°å¢çš„å†…å®¹ï¼Œé…ç½®æ—¶é—´æ˜¾ç¤ºæ˜ç¡®æ—¶é—´è¿˜æ˜¯ç›¸å¯¹æ—¶é—´</p><h2 id="ä¸»é¡µæ–‡ç« èŠ‚é€‰-è‡ªåŠ¨èŠ‚é€‰å’Œæ–‡ç« é¡µdescription"><a href="#ä¸»é¡µæ–‡ç« èŠ‚é€‰-è‡ªåŠ¨èŠ‚é€‰å’Œæ–‡ç« é¡µdescription" class="headerlink" title="ä¸»é¡µæ–‡ç« èŠ‚é€‰(è‡ªåŠ¨èŠ‚é€‰å’Œæ–‡ç« é¡µdescription)"></a>ä¸»é¡µæ–‡ç« èŠ‚é€‰(è‡ªåŠ¨èŠ‚é€‰å’Œæ–‡ç« é¡µdescription)</h2><p>å› ä¸ºä¸»é¢˜UIçš„å…³ä¿‚ï¼Œä¸»é¡µæ–‡ç« èŠ‚é€‰åªæ”¯æŒè‡ªåŠ¨èŠ‚é€‰å’Œæ–‡ç« é¡µdescriptionã€‚</p><p>åœ¨butterflyé‡Œï¼Œæœ‰å››ç§å¯ä¾›é€‰æ‹©</p><ol><li>descriptionï¼š åªæ˜¾ç¤ºdescription</li><li>bothï¼š ä¼˜å…ˆé€‰æ‹©descriptionï¼Œå¦‚æœæ²¡æœ‰é…ç½®descriptionï¼Œåˆ™æ˜¾ç¤ºè‡ªåŠ¨èŠ‚é€‰çš„å†…å®¹</li><li>auto_excerptï¼šåªæ˜¾ç¤ºè‡ªåŠ¨èŠ‚é€‰</li><li>falseï¼š ä¸æ˜¾ç¤ºæ–‡ç« å†…å®¹</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> <span class="comment"># if you set method to 2 or 3, the length need to config</span></span><br></pre></td></tr></table></figure><p>descriptionåœ¨front-matteré‡Œæ·»åŠ </p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072113793.png" alt="img"></p><h2 id="é¡µé¢é”šç‚¹"><a href="#é¡µé¢é”šç‚¹" class="headerlink" title="é¡µé¢é”šç‚¹"></a>é¡µé¢é”šç‚¹</h2><p>å¼€å¯é¡µé¢é”šç‚¹åï¼Œå½“ä½ åœ¨è¿›è¡Œæ»šåŠ¨æ—¶ï¼Œé¡µé¢é“¾æ¥ä¼šæ ¹æ®æ ‡é¢˜IDè¿›è¡Œæ›¿æ¢<br>(æ³¨æ„: æ¯æ›¿æ¢ä¸€æ¬¡ï¼Œä¼šç•™ä¸‹ä¸€ä¸ªå†å²è®°å½•ã€‚æ‰€ä»¥å¦‚æœä¸€ç¯‡æ–‡ç« æœ‰å¾ˆå¤šé”šç‚¹çš„è¯ï¼Œç½‘é¡µçš„å†å²è®°å½•ä¼šå¾ˆå¤šã€‚)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="comment"># when you scroll in post , the url will update according to header id.</span></span><br><span class="line"><span class="attr">anchor:</span></span><br><span class="line">  <span class="attr">button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">always_show:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="comment"># the unicode value of Font Awesome icon, such as &#x27;\3423&#x27;</span></span><br><span class="line">  <span class="attr">auto_update:</span> <span class="literal">false</span> <span class="comment"># when you scroll in post, the URL will update according to header id.</span></span><br></pre></td></tr></table></figure><h2 id="å›¾ç‰‡æè¿°"><a href="#å›¾ç‰‡æè¿°" class="headerlink" title="å›¾ç‰‡æè¿°"></a>å›¾ç‰‡æè¿°</h2><p>å¯å¼€å¯å›¾ç‰‡Figcaptionæè¿°æ–‡å­—æ˜¾ç¤º</p><p>ä¼˜å…ˆæ˜¾ç¤ºå›¾ç‰‡çš„ title å±æ€§ï¼Œç„¶åæ˜¯ alt å±æ€§</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072114836.png" alt="img"></p><h2 id="å¤åˆ¶ç›¸å…³é…ç½®"><a href="#å¤åˆ¶ç›¸å…³é…ç½®" class="headerlink" title="å¤åˆ¶ç›¸å…³é…ç½®"></a>å¤åˆ¶ç›¸å…³é…ç½®</h2><p>å¯é…ç½®ç½‘ç«™æ˜¯å¦å¯ä»¥å¤åˆ¶ã€å¤åˆ¶çš„å†…å®¹æ˜¯å¦æ·»åŠ ç‰ˆæƒä¿¡æ¯</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># copy settings</span></span><br><span class="line"><span class="section"># copyright: Add the copyright information after copied content (å¤åˆ¶çš„å†…å®¹åé¢åŠ ä¸Šç‰ˆæƒä¿¡æ¯)</span></span><br><span class="line">copy:</span><br><span class="line">  enable: true</span><br><span class="line">  copyright:</span><br><span class="line"><span class="code">    enable: true</span></span><br><span class="line"><span class="code">    limit_count: 50</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072114926.png" alt="image-20230807211429858"></p><blockquote><p>æ·»åŠ ç‰ˆæƒä¿¡æ¯å</p></blockquote><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Lorem ipsum dolor sit amet, test link consectetur adipiscing elit. Strong text pellentesque ligula commodo viverra vehicula. Italic text at ullamcorper enim. Morbi a euismod nibh. Underline text non elit nisl. Deleted text tristique, sem id condimentum tempus, metus lectus venenatis mauris, sit amet semper lorem felis a eros. Fusce egestas nibh at sagittis auctor. Sed ultricies ac arcu quis molestie. Donec dapibus nunc in nibh egestas, vitae volutpat sem iaculis. Curabitur sem tellus, elementum nec quam id, fermentum laoreet mi. Ut mollis ullamcorper turpis, vitae facilisis velit ultricies sit amet. Etiam laoreet dui odio, id tempus justo tincidunt id. Phasellus scelerisque nunc sed nunc ultricies accumsan.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä½œè€…: Jerry</span><br><span class="line">è¿ç»“: http://localhost:4000/posts/bd3c650b/<span class="params">#</span>Paragraph</span><br><span class="line">æ¥æº: Butterfly</span><br><span class="line">ç€ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç»œä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure><h2 id="æ–‡ç« é¡µç›¸å…³é…ç½®"><a href="#æ–‡ç« é¡µç›¸å…³é…ç½®" class="headerlink" title="æ–‡ç« é¡µç›¸å…³é…ç½®"></a>æ–‡ç« é¡µç›¸å…³é…ç½®</h2><h3 id="æ–‡ç« ç‰ˆæƒ"><a href="#æ–‡ç« ç‰ˆæƒ" class="headerlink" title="æ–‡ç« ç‰ˆæƒ"></a>æ–‡ç« ç‰ˆæƒ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">author_href:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072115931.png" alt="image-20210130161913121"></p><h3 id="æ–‡ç« æ‰“èµ"><a href="#æ–‡ç« æ‰“èµ" class="headerlink" title="æ–‡ç« æ‰“èµ"></a>æ–‡ç« æ‰“èµ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">reward:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">QR_code:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/wechat.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">å¾®ä¿¡</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/img/alipay.jpg</span></span><br><span class="line">      <span class="attr">link:</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">æ”¯ä»˜å®</span></span><br></pre></td></tr></table></figure><h3 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post</span></span><br><span class="line">  <span class="attr">scroll_percent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072116217.png" alt="image-20230807211609151"></p><h3 id="ä¸ºç‰¹å®šçš„æ–‡ç« é…ç½®"><a href="#ä¸ºç‰¹å®šçš„æ–‡ç« é…ç½®" class="headerlink" title="ä¸ºç‰¹å®šçš„æ–‡ç« é…ç½®"></a>ä¸ºç‰¹å®šçš„æ–‡ç« é…ç½®</h3><p>åœ¨ä½ çš„æ–‡ç« mdæ–‡ä»¶çš„å¤´éƒ¨ï¼ŒåŠ å…¥toc_numberå’Œtocï¼Œå¹¶é…ç½®trueæˆ–è€…falseå³å¯ã€‚</p><p>ä¸»é¢˜ä¼šä¼˜å…ˆåˆ¤æ–­æ–‡ç« Markdownçš„Front-matteræ˜¯å¦æœ‰é…ç½®ï¼Œå¦‚æœ‰ï¼Œåˆ™ä»¥Front-matterçš„é…ç½®ä¸ºå‡†ã€‚å¦åˆ™ï¼Œä»¥ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ä¸ºå‡†</p><h3 id="ç›¸å…³æ–‡ç« "><a href="#ç›¸å…³æ–‡ç« " class="headerlink" title="ç›¸å…³æ–‡ç« "></a>ç›¸å…³æ–‡ç« </h3><blockquote><p>å½“æ–‡ç« å°é¢è®¾ç½®ä¸º false æ—¶ï¼Œæˆ–è€…æ²¡æœ‰è·å–åˆ°å°é¢é…ç½®ï¼Œç›¸å…³æ–‡ç« èƒŒæ™¯å°†ä¼šæ˜¾ç¤ºä¸»é¢˜è‰²ã€‚</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># æ˜¾ç¤ºæ¨èæ–‡ç« æ•°ç›®</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated æ–‡ç« æ—¥æœŸæ˜¾ç¤ºåˆ›å»ºæ—¥æˆ–è€…æ›´æ–°æ—¥</span></span><br></pre></td></tr></table></figure><h3 id="æ–‡ç« è¿‡æœŸæé†’"><a href="#æ–‡ç« è¿‡æœŸæé†’" class="headerlink" title="æ–‡ç« è¿‡æœŸæé†’"></a>æ–‡ç« è¿‡æœŸæé†’</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (æ–‡ç« è¿‡æœŸæé†’)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">365</span> <span class="comment"># When will it be shown</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span></span><br></pre></td></tr></table></figure><p>limit_dayï¼š è·ç¦»æ›´æ–°æ—¶é—´å¤šå°‘å¤©æ‰æ˜¾ç¤ºæ–‡ç« è¿‡æœŸæé†’</p><p>message_prev ï¼š å¤©æ•°ä¹‹å‰çš„æ–‡å­—</p><p>message_nextï¼šå¤©æ•°ä¹‹åçš„æ–‡å­—</p><h4 id="æ–‡ç« ç¼–è¾‘æŒ‰é’®"><a href="#æ–‡ç« ç¼–è¾‘æŒ‰é’®" class="headerlink" title="æ–‡ç« ç¼–è¾‘æŒ‰é’®"></a>æ–‡ç« ç¼–è¾‘æŒ‰é’®</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Post edit</span></span><br><span class="line"><span class="comment"># Easily browse and edit blog source code online.</span></span><br><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/jerryc127/butterfly.js.org/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure><h3 id="æ–‡ç« åˆ†é¡µæŒ‰é’®"><a href="#æ–‡ç« åˆ†é¡µæŒ‰é’®" class="headerlink" title="æ–‡ç« åˆ†é¡µæŒ‰é’®"></a>æ–‡ç« åˆ†é¡µæŒ‰é’®</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># post_pagination (åˆ†é¡µ)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072117788.png" alt="image-20230807211745729"></p><h2 id="Footer-è®¾ç½®"><a href="#Footer-è®¾ç½®" class="headerlink" title="Footer è®¾ç½®"></a>Footer è®¾ç½®</h2><h3 id="åšå®¢å¹´ä»½"><a href="#åšå®¢å¹´ä»½" class="headerlink" title="åšå®¢å¹´ä»½"></a>åšå®¢å¹´ä»½</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2018</span></span><br></pre></td></tr></table></figure><h2 id="é¡µè„šè‡ªå®šä¹‰æ–‡æœ¬"><a href="#é¡µè„šè‡ªå®šä¹‰æ–‡æœ¬" class="headerlink" title="é¡µè„šè‡ªå®šä¹‰æ–‡æœ¬"></a>é¡µè„šè‡ªå®šä¹‰æ–‡æœ¬</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">Hi,</span> <span class="string">welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">&lt;a</span> <span class="string">href=&quot;https://butterfly.js.org/&quot;&gt;blog&lt;/a&gt;!</span></span><br></pre></td></tr></table></figure><h3 id="ICP"><a href="#ICP" class="headerlink" title="ICP"></a>ICP</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;icpé“¾æ¥&quot;&gt;&lt;img</span> <span class="string">class=&quot;icp-icon&quot;</span> <span class="string">src=&quot;icpå›¾ç‰‡&quot;&gt;&lt;span&gt;å¤‡æ¡ˆå·ï¼šxxxxxx&lt;/span&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><h2 id="ä¾§è¾¹æ è®¾ç½®-aside"><a href="#ä¾§è¾¹æ è®¾ç½®-aside" class="headerlink" title="ä¾§è¾¹æ è®¾ç½® (aside)"></a>ä¾§è¾¹æ è®¾ç½® (aside)</h2><h3 id="ä¾§è¾¹æ’ç‰ˆ"><a href="#ä¾§è¾¹æ’ç‰ˆ" class="headerlink" title="ä¾§è¾¹æ’ç‰ˆ"></a>ä¾§è¾¹æ’ç‰ˆ</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Follow</span> <span class="string">Me</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/xxxxxx</span></span><br><span class="line">  <span class="attr">card_announcement:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">This</span> <span class="string">is</span> <span class="string">my</span> <span class="string">Blog</span></span><br><span class="line">  <span class="attr">card_recent_post:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">orderby:</span> <span class="string">random</span> <span class="comment"># Order of tags, random/name/length</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYYå¹´MMæœˆ</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è®¿é—®äººæ•°-busuanzi-UV-å’Œ-PV"><a href="#è®¿é—®äººæ•°-busuanzi-UV-å’Œ-PV" class="headerlink" title="è®¿é—®äººæ•° busuanzi (UV å’Œ PV)"></a>è®¿é—®äººæ•° busuanzi (UV å’Œ PV)</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦ä¿®æ”¹ busuanzi çš„ CDN é“¾æ¥ï¼Œå¯é€šè¿‡ ä¸»é¢˜é…ç½®æ–‡ä»¶ çš„ CDN ä¸­çš„ option è¿›è¡Œä¿®æ”¹</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">CDN:</span></span><br><span class="line">  <span class="attr">option:</span></span><br><span class="line">  <span class="attr">busuanzi:</span> <span class="string">xxxxxxxxx</span></span><br></pre></td></tr></table></figure><h3 id="è¿è¡Œæ—¶é—´"><a href="#è¿è¡Œæ—¶é—´" class="headerlink" title="è¿è¡Œæ—¶é—´"></a>è¿è¡Œæ—¶é—´</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">publish_date:</span> <span class="number">6</span><span class="string">/7/2018</span> <span class="number">00</span><span class="string">:00:00</span>  </span><br><span class="line">  <span class="comment">##ç½‘é¡µå¼€é€šæ—¶é—´</span></span><br><span class="line">  <span class="comment">#æ ¼å¼: æœˆ/æ—¥/å¹´ æ—¶é—´</span></span><br><span class="line">  <span class="comment">#ä¹Ÿå¯ä»¥å†™æˆ å¹´/æœˆ/æ—¥ æ—¶é—´</span></span><br></pre></td></tr></table></figure><h3 id="æœ€æ–°è¯„è®º"><a href="#æœ€æ–°è¯„è®º" class="headerlink" title="æœ€æ–°è¯„è®º"></a>æœ€æ–°è¯„è®º</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Aside widget - Newest Comments</span></span><br><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># unit: mins, save data to localStorage</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072120491.png" alt="image-20230807212012418"></p><h3 id="è‡ªå®šä¹‰æ·»åŠ æ ç›®"><a href="#è‡ªå®šä¹‰æ·»åŠ æ ç›®" class="headerlink" title="è‡ªå®šä¹‰æ·»åŠ æ ç›®"></a>è‡ªå®šä¹‰æ·»åŠ æ ç›®</h3><p><a href="https://butterfly.js.org/posts/ea33ab97/">https://butterfly.js.org/posts/ea33ab97/</a></p><h2 id="å³ä¸‹è§’æŒ‰é’®-Bottom-right-button"><a href="#å³ä¸‹è§’æŒ‰é’®-Bottom-right-button" class="headerlink" title="å³ä¸‹è§’æŒ‰é’® (Bottom right button)"></a>å³ä¸‹è§’æŒ‰é’® (Bottom right button)</h2><h3 id="ç®€ç¹è½¬æ¢"><a href="#ç®€ç¹è½¬æ¢" class="headerlink" title="ç®€ç¹è½¬æ¢"></a>ç®€ç¹è½¬æ¢</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># é»˜è®¤æŒ‰é’®æ˜¾ç¤ºæ–‡å­—(ç½‘ç«™æ˜¯ç®€ä½“ï¼Œåº”è®¾ç½®ä¸º&#x27;default: ç¹&#x27;)</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">ç®€</span></span><br><span class="line">  <span class="comment">#ç½‘ç«™é»˜è®¤è¯­è¨€ï¼Œ1: ç¹ä½“ä¸­æ–‡, 2: ç®€ä½“ä¸­æ–‡</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">#å»¶è¿Ÿæ—¶é—´,è‹¥ä¸åœ¨å‰, è¦è®¾å®šå»¶è¿Ÿç¿»è¯‘æ—¶é—´, å¦‚100è¡¨ç¤º100ms,é»˜è®¤ä¸º0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment">#å½“æ–‡å­—æ˜¯ç®€ä½“æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&quot;ç¹&quot;</span></span><br><span class="line">  <span class="comment">#å½“æ–‡å­—æ˜¯ç¹ä½“æ—¶ï¼ŒæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&quot;ç®€&quot;</span></span><br></pre></td></tr></table></figure><h3 id="é–²è¯»æ¨¡å¼"><a href="#é–²è¯»æ¨¡å¼" class="headerlink" title="é–²è¯»æ¨¡å¼"></a>é–²è¯»æ¨¡å¼</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="å¤œé—´æ¨¡å¼"><a href="#å¤œé—´æ¨¡å¼" class="headerlink" title="å¤œé—´æ¨¡å¼"></a>å¤œé—´æ¨¡å¼</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># dark modeå’Œ light modeåˆ‡æ¢æŒ‰é’®</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">autoChangeMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18</span></span><br><span class="line">  <span class="attr">start:</span> <span class="comment"># 8</span></span><br><span class="line">  <span class="attr">end:</span> <span class="comment"># 22</span></span><br></pre></td></tr></table></figure><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072121962.png" alt="image-20230807212134887"></p><h3 id="æ»šåŠ¨çŠ¶æ€ç™¾åˆ†æ¯”"><a href="#æ»šåŠ¨çŠ¶æ€ç™¾åˆ†æ¯”" class="headerlink" title="æ»šåŠ¨çŠ¶æ€ç™¾åˆ†æ¯”"></a>æ»šåŠ¨çŠ¶æ€ç™¾åˆ†æ¯”</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show scroll percent in scroll-to-top button</span></span><br><span class="line"><span class="attr">rightside_scroll_percent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="æŒ‰é’®æ’åº"><a href="#æŒ‰é’®æ’åº" class="headerlink" title="æŒ‰é’®æ’åº"></a>æŒ‰é’®æ’åº</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (éå¿…è¦è¯·ä¸è¦ä¿®æ”¹ )</span></span><br><span class="line"><span class="comment"># Choose: readmode,translate,darkmode,hideAside,toc,chat,comment</span></span><br><span class="line"><span class="comment"># Don&#x27;t repeat ä¸è¦é‡å¤</span></span><br><span class="line"><span class="attr">rightside_item_order:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="comment"># readmode,translate,darkmode,hideAside</span></span><br><span class="line">  <span class="attr">show:</span> <span class="comment"># toc,chat,comment</span></span><br></pre></td></tr></table></figure><h3 id="æ ‡ç­¾å¤–æŒ‚ï¼ˆTag-Pluginsï¼‰"><a href="#æ ‡ç­¾å¤–æŒ‚ï¼ˆTag-Pluginsï¼‰" class="headerlink" title="æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Pluginsï¼‰"></a>æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Pluginsï¼‰</h3><p><a href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89</a></p><h2 id="Galleryç›¸å†Œå›¾åº“"><a href="#Galleryç›¸å†Œå›¾åº“" class="headerlink" title="Galleryç›¸å†Œå›¾åº“"></a>Galleryç›¸å†Œå›¾åº“</h2><p><a href="https://butterfly.js.org/posts/4aa8abbe/#Gallery%E7%9B%B8%E5%86%8A%E5%9C%96%E5%BA%AB">https://butterfly.js.org/posts/4aa8abbe/#Gallery%E7%9B%B8%E5%86%8A%E5%9C%96%E5%BA%AB</a><br>%86%8A%E5%9C%96%E5%BA%AB</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å®‰è£…æ–‡æ¡£ </tag>
            
            <tag> butterfly </tag>
            
            <tag> è¯­è¨€ </tag>
            
            <tag> ç½‘ç«™èµ„æ–™ </tag>
            
            <tag> å¯¼èˆªæ è®¾ç½® </tag>
            
            <tag> å‚æ•°è®¾ç½® </tag>
            
            <tag> èœå•/ç›®å½• </tag>
            
            <tag> ä»£ç  </tag>
            
            <tag> ä»£ç é«˜äº®ä¸»é¢˜ </tag>
            
            <tag> ä»£ç å¤åˆ¶ </tag>
            
            <tag> ä»£ç æ¡†å±•å¼€/å…³é—­ </tag>
            
            <tag> ä»£ç æ¢è¡Œ </tag>
            
            <tag> ä»£ç é«˜åº¦é™åˆ¶ </tag>
            
            <tag> ç¤¾äº¤å›¾æ ‡ </tag>
            
            <tag> å¤´åƒ </tag>
            
            <tag> é¡¶éƒ¨å›¾ </tag>
            
            <tag> å›¾ç‰‡æè¿° </tag>
            
            <tag> å¤åˆ¶ç›¸å…³é…ç½® </tag>
            
            <tag> æ–‡ç« é¡µç›¸å…³é…ç½® </tag>
            
            <tag> æ–‡ç« ç‰ˆæƒ </tag>
            
            <tag> æ–‡ç« æ‰“èµ </tag>
            
            <tag> toc </tag>
            
            <tag> ç›¸å…³æ–‡ç«  </tag>
            
            <tag> æ–‡ç« è¿‡æœŸæé†’ </tag>
            
            <tag> æ–‡ç« ç¼–è¾‘æŒ‰é’® </tag>
            
            <tag> æ–‡ç« åˆ†é¡µæŒ‰é’® </tag>
            
            <tag> footerè®¾ç½® </tag>
            
            <tag> é¡µè„šè‡ªå®šä¹‰æ–‡æœ¬ </tag>
            
            <tag> icp </tag>
            
            <tag> ä¾§è¾¹æ è®¾ç½® </tag>
            
            <tag> ä¾§è¾¹æ’ç‰ˆ </tag>
            
            <tag> è®¿é—®äººæ•° </tag>
            
            <tag> è¿è¡Œæ—¶é—´ </tag>
            
            <tag> æœ€æ–°è¯„è®º </tag>
            
            <tag> è‡ªå®šä¹‰æ·»åŠ æ ç›® </tag>
            
            <tag> å³ä¸‹è§’æŒ‰é’® </tag>
            
            <tag> ç®€ç¹è½¬æ¢ </tag>
            
            <tag> é–²è¯»æ¨¡å¼ </tag>
            
            <tag> å¤œé—´æ¨¡å¼ </tag>
            
            <tag> æ»šåŠ¨çŠ¶æ€ç™¾åˆ†æ¯” </tag>
            
            <tag> æŒ‰é’®æ’åº </tag>
            
            <tag> æ ‡ç­¾å¤–æŒ‚ </tag>
            
            <tag> galleryç›¸å†Œå›¾åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹</title>
      <link href="/9c175aca.html"/>
      <url>/9c175aca.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><p>åœ¨ä½ çš„Hexoæ ¹ç›®å½•é‡Œé¢</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><h2 id="åº”ç”¨ä¸»é¢˜"><a href="#åº”ç”¨ä¸»é¢˜" class="headerlink" title="åº”ç”¨ä¸»é¢˜"></a>åº”ç”¨ä¸»é¢˜</h2><p>ä¿®æ”¹ Hexo æ ¹ç›®å½•ä¸‹çš„ _config.ymlï¼ŒæŠŠä¸»é¢˜æ”¹ä¸º butterfly</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><p>å¦‚æœä½ æ²¡æœ‰ pug ä»¥åŠ stylus çš„æ¸²æŸ“å™¨ï¼Œè¯·ä¸‹è½½å®‰è£…ï¼š</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo<span class="literal">-renderer-pug</span> hexo<span class="literal">-renderer-stylus</span> <span class="literal">--save</span></span><br></pre></td></tr></table></figure><h2 id="å‡çº§å»ºè®®"><a href="#å‡çº§å»ºè®®" class="headerlink" title="å‡çº§å»ºè®®"></a>å‡çº§å»ºè®®</h2><blockquote><p>å‡çº§å®Œæˆåï¼Œè¯·åˆ° Github çš„ Releases ç•Œé¢ æˆ–è€… æ–‡æ¡£ä¸ƒ æŸ¥çœ‹æ–°ç‰ˆçš„æ›´æ–°å†…å®¹ã€‚</p><p>é‡Œé¢æœ‰æ ‡æ³¨ _config æ–‡ä»¶çš„å˜æ›´å†…å®¹ï¼ˆå¦‚æœ‰ï¼‰ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µæ›´æ–°ä½ çš„é…ç½®å†…å®¹ã€‚</p></blockquote><p>ä¸ºäº†å‡å°‘å‡çº§ä¸»é¢˜åå¸¦æ¥çš„ä¸ä¾¿ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼ˆå»ºè®®ï¼Œå¯ä»¥ä¸åšï¼‰ã€‚</p><p>åœ¨ hexo çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ _config.butterfly.ymlï¼Œå¹¶æŠŠä¸»é¢˜ç›®å½•çš„ _config.yml å†…å®¹å¤åˆ¶åˆ° _config.butterfly.yml å»ã€‚( æ³¨æ„: å¤åˆ¶çš„æ˜¯ä¸»é¢˜çš„ _config.yml ï¼Œè€Œä¸æ˜¯ hexo çš„ _config.yml)</p><blockquote><p>æ³¨æ„ï¼š ä¸è¦æŠŠä¸»é¢˜ç›®å½•çš„ _config.yml åˆ æ‰</p></blockquote><blockquote><p>æ³¨æ„ï¼š ä»¥ååªéœ€è¦åœ¨ _config.butterfly.yml è¿›è¡Œé…ç½®å°±è¡Œã€‚<br>        å¦‚æœä½¿ç”¨äº† _config.butterfly.ymlï¼Œ é…ç½®ä¸»é¢˜çš„ _config.yml å°†ä¸ä¼šæœ‰æ•ˆæœã€‚</p></blockquote><p>Hexoä¼šè‡ªåŠ¨åˆä½µä¸»é¢˜ä¸­çš„ _config.yml å’Œ _config.butterfly.yml é‡Œçš„é…ç½®ï¼Œå¦‚æœå­˜åœ¨åŒåé…ç½®ï¼Œä¼šä½¿ç”¨ _config.butterfly.yml çš„é…ç½®ï¼Œå…¶ä¼˜å…ˆåº¦è¾ƒé«˜ã€‚</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072043458.png" alt="image-20200805191531090"></p><p>g&#x2F;202308072043458.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> æ’ä»¶ </tag>
            
            <tag> å®‰è£…æ–‡æ¡£ </tag>
            
            <tag> butterfly </tag>
            
            <tag> ä¸»é¢˜ </tag>
            
            <tag> pug </tag>
            
            <tag> stylus </tag>
            
            <tag> å‡çº§å»ºè®® </tag>
            
            <tag> _config.yml </tag>
            
            <tag> releases </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é…ç½®Picgoå›¾åºŠä¹‹COSã€OSSã€Githubå›¾åºŠ</title>
      <link href="/e27b9279.html"/>
      <url>/e27b9279.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>PicGoæ˜¯ä¸€æ¬¾å¼€æºçš„å›¾ç‰‡ä¸Šä¼ å’Œç®¡ç†å·¥å…·ï¼Œå®ƒæä¾›äº†ç®€å•æ˜“ç”¨çš„ç•Œé¢å’Œä¸°å¯Œçš„åŠŸèƒ½ï¼Œæ–¹ä¾¿ç”¨æˆ·ä¸Šä¼ ã€ç®¡ç†å’Œåˆ†äº«å›¾ç‰‡ã€‚</p><p>ä»¥ä¸‹æ˜¯PicGoçš„ä¸€äº›ä¸»è¦ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼š</p><ol><li><p>å›¾ç‰‡ä¸Šä¼ ï¼šPicGoæ”¯æŒå°†æœ¬åœ°å›¾ç‰‡å¿«é€Ÿä¸Šä¼ åˆ°äº‘å­˜å‚¨æœåŠ¡ï¼Œå¦‚ä¸ƒç‰›äº‘ã€è…¾è®¯äº‘ã€é˜¿é‡Œäº‘ç­‰ã€‚ä½ å¯ä»¥é€‰æ‹©è‡ªå·±å–œæ¬¢çš„äº‘å­˜å‚¨æœåŠ¡ï¼Œå¹¶é€šè¿‡PicGoå°†å›¾ç‰‡æ‰¹é‡ä¸Šä¼ åˆ°äº‘ç«¯ã€‚</p></li><li><p>å›¾ç‰‡å‹ç¼©ï¼šPicGoå†…ç½®äº†å›¾ç‰‡å‹ç¼©åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä½ åœ¨ä¸Šä¼ å›¾ç‰‡ä¹‹å‰å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼Œå‡å°å›¾ç‰‡æ–‡ä»¶å¤§å°ï¼Œæé«˜ç½‘é¡µåŠ è½½é€Ÿåº¦ã€‚</p></li><li><p>å›¾ç‰‡ç¼–è¾‘ï¼šPicGoæä¾›äº†ç®€å•çš„å›¾ç‰‡ç¼–è¾‘åŠŸèƒ½ï¼ŒåŒ…æ‹¬è£å‰ªã€æ—‹è½¬ã€è°ƒæ•´äº®åº¦ã€å¯¹æ¯”åº¦ç­‰ã€‚ä½ å¯ä»¥åœ¨ä¸Šä¼ å›¾ç‰‡ä¹‹å‰å¯¹å›¾ç‰‡è¿›è¡Œä¸€äº›åŸºæœ¬çš„ç¼–è¾‘æ“ä½œã€‚</p></li><li><p>å›¾ç‰‡ç®¡ç†ï¼šPicGoå¯ä»¥å¸®åŠ©ä½ ç®¡ç†ä¸Šä¼ çš„å›¾ç‰‡ï¼ŒåŒ…æ‹¬æŸ¥çœ‹ä¸Šä¼ è®°å½•ã€å¤åˆ¶å›¾ç‰‡é“¾æ¥ã€åˆ é™¤å›¾ç‰‡ç­‰ã€‚ä½ å¯ä»¥æ–¹ä¾¿åœ°ç®¡ç†è‡ªå·±ä¸Šä¼ çš„å›¾ç‰‡ï¼Œå¹¶åœ¨éœ€è¦æ—¶è·å–å›¾ç‰‡é“¾æ¥è¿›è¡Œåˆ†äº«ã€‚</p></li><li><p>è‡ªå®šä¹‰é…ç½®ï¼šPicGoæ”¯æŒè‡ªå®šä¹‰é…ç½®ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è®¾ç½®ä¸Šä¼ çš„å‘½åè§„åˆ™ã€å­˜å‚¨è·¯å¾„ã€å›¾ç‰‡æ ·å¼ç­‰ã€‚è¿™æ ·å¯ä»¥æ›´å¥½åœ°æ»¡è¶³ä¸ªæ€§åŒ–çš„éœ€æ±‚ã€‚</p></li></ol><p>æ€»çš„æ¥è¯´ï¼ŒPicGoæ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºä½¿ç”¨çš„å›¾ç‰‡ä¸Šä¼ å’Œç®¡ç†å·¥å…·ï¼Œé€‚ç”¨äºä¸ªäººç”¨æˆ·ã€å¼€å‘è€…å’Œåšä¸»ç­‰å¤šç§åœºæ™¯ã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ æ›´é«˜æ•ˆåœ°ä¸Šä¼ ã€ç®¡ç†å’Œåˆ†äº«å›¾ç‰‡ã€‚</p><h2 id="å‡†å¤‡PicGo"><a href="#å‡†å¤‡PicGo" class="headerlink" title="å‡†å¤‡PicGo"></a>å‡†å¤‡PicGo</h2><p>å®˜ç½‘ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/Molunerfinn/picgo/releases">https://github.com/Molunerfinn/picgo/releases</a></p><p>å…³æ³¨ã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘å›å¤ã€1012ã€‘è·å–å®‰è£…åŒ…ï¼Œå…è´¹é«˜é€Ÿä¸‹è½½</p><h2 id="é…ç½®Github"><a href="#é…ç½®Github" class="headerlink" title="é…ç½®Github"></a>é…ç½®Github</h2><h3 id="è·å–Token"><a href="#è·å–Token" class="headerlink" title="è·å–Token"></a>è·å–Token</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072004107.png" alt="image-20230807200430847"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072005596.png"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072005838.png"></p><h3 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h3><p>éšä¾¿åˆ›å»ºä¸€ä¸ªä»“åº“å³å¯ï¼Œæˆ‘åˆ›å»ºçš„æ˜¯<code>pic</code>ä»“åº“</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072007898.png" alt="image-20230807200705649"></p><h3 id="é…ç½®PicGo"><a href="#é…ç½®PicGo" class="headerlink" title="é…ç½®PicGo"></a>é…ç½®PicGo</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072007590.png"></p><h2 id="é…ç½®è…¾è®¯äº‘COS"><a href="#é…ç½®è…¾è®¯äº‘COS" class="headerlink" title="é…ç½®è…¾è®¯äº‘COS"></a>é…ç½®è…¾è®¯äº‘COS</h2><h3 id="è·å–Token-1"><a href="#è·å–Token-1" class="headerlink" title="è·å–Token"></a>è·å–Token</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072008733.png" alt="image-20230807200848497"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072009686.png" alt="image-20230807200924438"></p><h3 id="åˆ›å»ºå­˜å‚¨æ¡¶"><a href="#åˆ›å»ºå­˜å‚¨æ¡¶" class="headerlink" title="åˆ›å»ºå­˜å‚¨æ¡¶"></a>åˆ›å»ºå­˜å‚¨æ¡¶</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072010800.png"></p><p>è®¾ç½®ä¸ºå…¬æœ‰è¯»ç§æœ‰å†™</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072011353.png" alt="image-20230807201130106"></p><p>å‚è€ƒä¸‹é¢æ¨¡ç‰ˆå¡«å†™</p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072011921.png" alt="image-20230807201157858"></p><h2 id="è®¾ç½®é˜¿é‡Œäº‘OSS"><a href="#è®¾ç½®é˜¿é‡Œäº‘OSS" class="headerlink" title="è®¾ç½®é˜¿é‡Œäº‘OSS"></a>è®¾ç½®é˜¿é‡Œäº‘OSS</h2><h3 id="è·å–å¯†é’¥"><a href="#è·å–å¯†é’¥" class="headerlink" title="è·å–å¯†é’¥"></a>è·å–å¯†é’¥</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072013528.png" alt="image-20230807201312297"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072013156.png" alt="image-20230807201333924"></p><h3 id="åˆ›å»ºBucket"><a href="#åˆ›å»ºBucket" class="headerlink" title="åˆ›å»ºBucket"></a>åˆ›å»ºBucket</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072014937.png" alt="image-20230807201403715"></p><h3 id="å‚è€ƒä¸‹é¢æ¨¡ç‰ˆ"><a href="#å‚è€ƒä¸‹é¢æ¨¡ç‰ˆ" class="headerlink" title="å‚è€ƒä¸‹é¢æ¨¡ç‰ˆ"></a>å‚è€ƒä¸‹é¢æ¨¡ç‰ˆ</h3><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072014966.png" alt="image-20230807201422903"></p><p><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072015802.png" alt="image-20230807201500562"><br>qcloud.com&#x2F;blog&#x2F;202308072015802.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åºŠ </tag>
            
            <tag> github </tag>
            
            <tag> picgo </tag>
            
            <tag> cos </tag>
            
            <tag> oss </tag>
            
            <tag> å›¾ç‰‡ä¸Šä¼  </tag>
            
            <tag> å›¾ç‰‡å‹ç¼© </tag>
            
            <tag> å›¾ç‰‡ç¼–è¾‘ </tag>
            
            <tag> å›¾ç‰‡ç®¡ç† </tag>
            
            <tag> è‡ªå®šä¹‰é…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Jrebelä¸Xrebelæ¿€æ´»</title>
      <link href="/db82e5f2.html"/>
      <url>/db82e5f2.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>JRebelå’ŒXRebelæ˜¯ä¸¤ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå¯ä»¥æ˜¾è‘—æå‡Javaå¼€å‘äººå‘˜çš„ç”Ÿäº§åŠ›å’Œåº”ç”¨ç¨‹åºæ€§èƒ½ã€‚</p><p>JRebelæ˜¯ä¸€ä¸ªå¼ºå¤§çš„Javaå¼€å‘å·¥å…·ï¼Œå®ƒå…è®¸å¼€å‘äººå‘˜åœ¨ä¸é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºçš„æƒ…å†µä¸‹è¿›è¡Œä»£ç ä¿®æ”¹å’Œè°ƒè¯•ã€‚ä¼ ç»Ÿä¸Šï¼Œæ¯æ¬¡ä¿®æ”¹Javaä»£ç éƒ½éœ€è¦é‡æ–°ç¼–è¯‘å’Œé‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œè¿™ä¼šæµªè´¹å¤§é‡çš„æ—¶é—´ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨JRebelï¼Œä½ å¯ä»¥å³æ—¶çœ‹åˆ°ä½ çš„ä»£ç ä¿®æ”¹çš„æ•ˆæœï¼Œæ— éœ€é‡æ–°å¯åŠ¨åº”ç”¨ç¨‹åºã€‚è¿™ç§å³æ—¶åé¦ˆçš„èƒ½åŠ›æå¤§åœ°æé«˜äº†å¼€å‘æ•ˆç‡ï¼Œç¼©çŸ­äº†å¼€å‘å‘¨æœŸã€‚</p><p>JRebelé€šè¿‡åœ¨è¿è¡Œæ—¶é‡æ–°åŠ è½½ä¿®æ”¹çš„ç±»æ–‡ä»¶ï¼Œä½¿å¾—ä»£ç ä¿®æ”¹èƒ½å¤Ÿç«‹å³ç”Ÿæ•ˆã€‚å®ƒæ”¯æŒå„ç§Javaæ¡†æ¶å’ŒæœåŠ¡å™¨ï¼ŒåŒ…æ‹¬Springã€Hibernateã€Tomcatç­‰ã€‚æ­¤å¤–ï¼ŒJRebelè¿˜æä¾›äº†ä¸å¸¸è§IDEï¼ˆå¦‚Eclipseã€IntelliJ IDEAï¼‰çš„é›†æˆï¼Œä½¿å¾—ä½¿ç”¨JRebelå˜å¾—æ›´åŠ æ–¹ä¾¿ã€‚</p><p>XRebelæ˜¯å¦ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œä¸“æ³¨äºJavaåº”ç”¨ç¨‹åºçš„æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–ã€‚å®ƒå¯ä»¥å®æ—¶ç›‘æµ‹å’Œåˆ†æåº”ç”¨ç¨‹åºçš„æ€§èƒ½ç“¶é¢ˆï¼Œå¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿå®šä½å’Œè§£å†³æ€§èƒ½é—®é¢˜ã€‚XRebelæä¾›äº†ä¸€ä¸ªç›´è§‚çš„ç”¨æˆ·ç•Œé¢ï¼Œæ˜¾ç¤ºäº†åº”ç”¨ç¨‹åºçš„è¯·æ±‚å’Œå“åº”æ—¶é—´ã€æ•°æ®åº“æŸ¥è¯¢ã€HTTPä¼šè¯ç­‰å…³é”®æŒ‡æ ‡ã€‚å®ƒè¿˜èƒ½å¤Ÿæ£€æµ‹æ½œåœ¨çš„æ€§èƒ½é—®é¢˜ï¼Œå¦‚æ…¢æŸ¥è¯¢ã€å†…å­˜æ³„æ¼ç­‰ï¼Œå¹¶æä¾›ç›¸åº”çš„å»ºè®®å’Œè§£å†³æ–¹æ¡ˆã€‚</p><p>XRebelæ”¯æŒå„ç§Javaåº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬Webåº”ç”¨ç¨‹åºã€ä¼ä¸šåº”ç”¨ç¨‹åºç­‰ã€‚å®ƒå¯ä»¥ä¸å¸¸è§çš„Javaå¼€å‘å·¥å…·å’ŒæœåŠ¡å™¨é›†æˆï¼Œå¦‚Eclipseã€IntelliJ IDEAã€Tomcatç­‰ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼ŒJRebelå’ŒXRebelæ˜¯ä¸¤ä¸ªéå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå¯ä»¥æå¤§åœ°æå‡Javaå¼€å‘äººå‘˜çš„ç”Ÿäº§åŠ›å’Œåº”ç”¨ç¨‹åºæ€§èƒ½ã€‚JRebelå…è®¸å³æ—¶æŸ¥çœ‹ä»£ç ä¿®æ”¹çš„æ•ˆæœï¼Œè€ŒXRebelå¸®åŠ©å¼€å‘äººå‘˜å®æ—¶ç›‘æµ‹å’Œä¼˜åŒ–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚è¿™ä¸¤ä¸ªå·¥å…·çš„ç»“åˆå°†ä¸ºä½ çš„Javaå¼€å‘å¸¦æ¥æ›´é«˜æ•ˆå’Œä¼˜åŒ–çš„ä½“éªŒã€‚</p><h2 id="ä¸‹è½½ä»£ç†è½¯ä»¶"><a href="#ä¸‹è½½ä»£ç†è½¯ä»¶" class="headerlink" title="ä¸‹è½½ä»£ç†è½¯ä»¶"></a>ä¸‹è½½ä»£ç†è½¯ä»¶</h2><p>è¯·å…³æ³¨æŸç»¿è‰²è½¯ä»¶ã€ç¨‹åºå‘˜æœ±æ°¸èƒœã€‘å›å¤<code>1011</code>è·å–</p><h2 id="åŒå‡»æ‰“å¼€"><a href="#åŒå‡»æ‰“å¼€" class="headerlink" title="åŒå‡»æ‰“å¼€"></a>åŒå‡»æ‰“å¼€</h2><h2 id=""><a href="#" class="headerlink" title=""></a><img src="https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308072033983.png" alt="image-20230806204843304"></h2><h2 id="è·å–UUID"><a href="#è·å–UUID" class="headerlink" title="è·å–UUID"></a>è·å–UUID</h2><p>æ‰“å¼€<a href="https://www.guidgen.com/">https://www.guidgen.com/</a> ç”Ÿæˆä¸€ä¸ªUUID</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308062049509.png" alt="image-20230806204943298"></p><h2 id="æ¿€æ´»"><a href="#æ¿€æ´»" class="headerlink" title="æ¿€æ´»"></a>æ¿€æ´»</h2><p>æ‹·è´UUIDåˆ°è¿™é‡Œå³å¯æ¿€æ´»</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308062051024.png" alt="image-20230806205133975"></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308062052295.png"><br>com&#x2F;202308062052295.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¼€å‘æ•ˆç‡ </tag>
            
            <tag> jrebel </tag>
            
            <tag> xrebel </tag>
            
            <tag> javaå¼€å‘å·¥å…· </tag>
            
            <tag> å³æ—¶æŸ¥çœ‹ä»£ç ä¿®æ”¹çš„æ•ˆæœ </tag>
            
            <tag> å®æ—¶ç›‘æµ‹å’Œä¼˜åŒ–åº”ç”¨ç¨‹åºçš„æ€§èƒ½ </tag>
            
            <tag> å¼€å‘å‘¨æœŸ </tag>
            
            <tag> æ€§èƒ½ç›‘æ§ </tag>
            
            <tag> æ€§èƒ½ç“¶é¢ˆ </tag>
            
            <tag> æ€§èƒ½é—®é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IntelliJ IDEA 2023.2 æœ€æ–°å˜åŒ–</title>
      <link href="/571b0dbd.html"/>
      <url>/571b0dbd.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><p>IntelliJ IDEA 2023.2 å¼•å…¥ AI Assistantï¼Œé€šè¿‡ä¸€ç»„ç”± AI æä¾›æ”¯æŒçš„åŠŸèƒ½åŠ©åŠ›å¼€å‘ã€‚ å‡çº§çš„ IntelliJ åˆ†æå™¨ç°åœ¨æä¾›ç¼–è¾‘å™¨å†…æç¤ºï¼Œä½¿åˆ†æè¿›ç¨‹æ›´åŠ ç›´è§‚è¯¦å°½ã€‚ æ­¤ç‰ˆæœ¬è¿˜åŒ…æ‹¬æœ‰åŠ©äºç®€åŒ–å¼€å‘å·¥ä½œæµçš„ GitLab é›†æˆï¼Œä»¥åŠå…¶ä»–å¤šé¡¹å€¼å¾—å…³æ³¨çš„æ›´æ–°å’Œæ”¹è¿›ï¼Œå¦‚ä¸‹æ‰€è¿°ï¼š</p><h1 id="ä¸»è¦æ›´æ–°"><a href="#ä¸»è¦æ›´æ–°" class="headerlink" title="ä¸»è¦æ›´æ–°"></a>ä¸»è¦æ›´æ–°</h1><p> <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959533.png">  </p><h3 id="AI-Assistant"><a href="#AI-Assistant" class="headerlink" title="AI Assistant"></a>AI Assistant</h3><p>é™å®šè®¿é—® Ultimate åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¸º IntelliJ IDEA å¼•å…¥äº†ä¸€é¡¹é‡è¦è¡¥å…… â€“ AI Assistantã€‚ AI Assistant å½“å‰å…·å¤‡ä¸€ç»„ç”± AI æä¾›æ”¯æŒçš„åˆå§‹åŠŸèƒ½ï¼Œæä¾›é›†æˆå¼ AI èŠå¤©ï¼Œå¯ä»¥å®Œæˆä¸€äº›ä»»åŠ¡ï¼Œä¾‹å¦‚è‡ªåŠ¨ç¼–å†™æ–‡æ¡£æ³¨é‡Šã€å»ºè®®åç§°ã€ç”Ÿæˆæäº¤æ¶ˆæ¯ç­‰ã€‚ JetBrains AI æœåŠ¡ä¸º AI Assistant æä¾›æŠ€æœ¯æ”¯æŒï¼Œæ­¤æœåŠ¡ç›®å‰å¯ä»¥è¿æ¥åˆ° OpenAIï¼Œåç»­è¿˜å°†åŒ…å«å…¶ä»–è¯­è¨€æ¨¡å‹æä¾›å•†ã€‚ è¦è®¿é—® Assistant çš„ AI åŠŸèƒ½ï¼Œæ‚¨éœ€è¦å®‰è£… AI Assistant æ’ä»¶å¹¶ä½¿ç”¨ JetBrains Account ç™»å½• JetBrains AI æœåŠ¡ã€‚ JetBrains AI æœåŠ¡çš„åˆå§‹å¯ç”¨æ€§å¯èƒ½å—é™ã€‚ æœ‰å…³ AI Assistant çš„æ›´å¤šä¿¡æ¯ä»¥åŠè®¿é—®è¯´æ˜ï¼Œè¯·æŸ¥é˜…<a href="https://blog.jetbrains.com/idea/2023/06/ai-assistant-in-jetbrains-ides/">è¿™ç¯‡åšæ–‡</a>ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959642.png"></p><h3 id="ç¼–è¾‘å™¨å†…æ€§èƒ½æç¤º"><a href="#ç¼–è¾‘å™¨å†…æ€§èƒ½æç¤º" class="headerlink" title="ç¼–è¾‘å™¨å†…æ€§èƒ½æç¤º"></a>ç¼–è¾‘å™¨å†…æ€§èƒ½æç¤º</h3><p>Ultimate åœ¨ IntelliJ IDEA 2023.2 ä¸­ï¼Œæˆ‘ä»¬å¢å¼ºäº† IntelliJ åˆ†æå™¨ï¼Œä¸ºåº”ç”¨ç¨‹åºæ€§èƒ½æä¾›æ›´æœ‰ä»·å€¼ä¸”æ˜“äºç†è§£çš„æ´å¯Ÿã€‚ æ–°çš„ç¼–è¾‘å™¨å†…æç¤ºå¯ä¾›å¿«é€Ÿé€è¡Œåˆ†æä»£ç æ€§èƒ½ï¼Œå¸®åŠ©æ‚¨æ›´å¿«è¯†åˆ«å’Œè§£å†³é—®é¢˜ã€‚ ç¼–è¾‘å™¨è£…è®¢åŒºåŸŸä¸­çš„é¢œè‰²ç¼–ç æ³¨è§£å¯ä»¥é«˜äº®æ˜¾ç¤ºå…³é”®æ–¹æ³•ï¼Œè®©æ‚¨ä¸“æ³¨äºæ€§èƒ½ç“¶é¢ˆã€‚ å› æ­¤ï¼Œæ‚¨ä¸å†éœ€è¦ä½¿ç”¨ _Flame Graph_ï¼ˆç«ç„°å›¾ï¼‰å’Œ _Call Tree_ï¼ˆè°ƒç”¨æ ‘ï¼‰è§†å›¾æ‰§è¡Œå½»åº•ã€è€—æ—¶çš„åˆ†æã€‚ åœ¨è¿™ç¯‡<a href="https://blog.jetbrains.com/idea/2023/05/intellij-idea-2023-2-eap/#In-editorperformancehints">åšæ–‡</a>ä¸­äº†è§£è¯¦æƒ…ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959607.png"> </p><h3 id="GitLab-é›†æˆ"><a href="#GitLab-é›†æˆ" class="headerlink" title="GitLab é›†æˆ"></a>GitLab é›†æˆ</h3><p> IntelliJ IDEA 2023.2 å¼•å…¥äº†ä¸ GitLab çš„é›†æˆï¼Œå¸®åŠ©ç®€åŒ–æ‚¨çš„å¼€å‘å·¥ä½œæµã€‚ ç°åœ¨ï¼Œæ‚¨å¯ä»¥ç›´æ¥åœ¨ IDE ä¸­ä½¿ç”¨ _Merge Requests_ï¼ˆåˆå¹¶è¯·æ±‚ï¼‰åŠŸèƒ½ï¼šæŸ¥çœ‹è¯·æ±‚åˆ—è¡¨ã€æ£€æŸ¥æ›´æ”¹ã€ç•™ä¸‹è¯„è®ºï¼Œä»¥åŠå¯¼èˆªåˆ°ç›¸å…³è§†å›¾ã€‚ <a href="https://blog.jetbrains.com/2023/07/25/gitlab-support-in-jetbrains-ides/">äº†è§£è¯¦æƒ…</a>ã€‚ </p><h1 id="ç”¨æˆ·ä½“éªŒ"><a href="#ç”¨æˆ·ä½“éªŒ" class="headerlink" title="ç”¨æˆ·ä½“éªŒ"></a>ç”¨æˆ·ä½“éªŒ</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959553.png"> </p><h3 id="Search-Everywhere-ï¼ˆéšå¤„æœç´¢ï¼‰ä¸­çš„æ–‡æœ¬æœç´¢"><a href="#Search-Everywhere-ï¼ˆéšå¤„æœç´¢ï¼‰ä¸­çš„æ–‡æœ¬æœç´¢" class="headerlink" title="Search Everywhere_ï¼ˆéšå¤„æœç´¢ï¼‰ä¸­çš„æ–‡æœ¬æœç´¢"></a>Search Everywhere_ï¼ˆéšå¤„æœç´¢ï¼‰ä¸­çš„æ–‡æœ¬æœç´¢</h3><p>Search Everywhere_ï¼ˆéšå¤„æœç´¢ï¼‰ï¼ˆæŒ‰ä¸¤æ¬¡ Shiftï¼‰ä¸»è¦ç”¨äºæœç´¢æ–‡ä»¶ã€ç±»ã€æ–¹æ³•ã€æ“ä½œå’Œè®¾ç½®ã€‚ åœ¨æ­¤æ›´æ–°åï¼Œå®ƒå°†åŒ…å«ç±»ä¼¼äº _Find in Files_ï¼ˆåœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾ï¼‰çš„æ–‡æœ¬æœç´¢åŠŸèƒ½ã€‚ ç°åœ¨ï¼Œå½“ç»™å®šæŸ¥è¯¢çš„å…¶ä»–æœç´¢ç»“æœå¾ˆå°‘æˆ–æ²¡æœ‰æ—¶ï¼Œå°†æ˜¾ç¤ºæ–‡æœ¬æœç´¢ç»“æœã€‚ æ­¤åŠŸèƒ½é»˜è®¤å¯ç”¨ï¼Œå¯ä»¥åœ¨ _Settings&#x2F;Preferences | Advanced Settings | Search Everywhere_ï¼ˆè®¾ç½®&#x2F;åå¥½è®¾ç½® | é«˜çº§è®¾ç½® | éšå¤„æœç´¢ï¼‰ä¸­ç®¡ç†ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959581.png"> </p><h3 id="æ–°-UI-ä¸­çš„å½©è‰²é¡¹ç›®æ ‡é¢˜"><a href="#æ–°-UI-ä¸­çš„å½©è‰²é¡¹ç›®æ ‡é¢˜" class="headerlink" title="æ–° UI ä¸­çš„å½©è‰²é¡¹ç›®æ ‡é¢˜"></a>æ–° UI ä¸­çš„å½©è‰²é¡¹ç›®æ ‡é¢˜</h3><p>IntelliJ IDEA 2023.2 å¼•å…¥äº†å½©è‰²æ ‡é¢˜ï¼Œå¯ä»¥ç®€åŒ–å¤šä¸ªæ‰“å¼€çš„é¡¹ç›®ä¹‹é—´çš„å¯¼èˆªã€‚ ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ªé¡¹ç›®åˆ†é…å”¯ä¸€çš„é¢œè‰²å’Œå›¾æ ‡ï¼Œä½¿å…¶åœ¨å·¥ä½œåŒºä¸­æ›´æ˜“åŒºåˆ†ã€‚ æ ‡é¢˜ç°åœ¨é»˜è®¤å¸¦æœ‰é¢„å®šä¹‰çš„é¢œè‰²ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚ è¦ä¸ºé¡¹ç›®è®¾ç½®æ–°çš„é¢œè‰²ï¼Œé¦–å…ˆå³é”®ç‚¹å‡»æ ‡é¢˜ï¼Œç„¶åè®¿é—®ä¸Šä¸‹æ–‡èœå•ã€‚ ç„¶åï¼Œé€‰æ‹© _Change Project Color_ï¼ˆæ›´æ”¹é¡¹ç›®é¢œè‰²ï¼‰é€‰é¡¹ï¼Œå¹¶ä»å»ºè®®çš„åˆ—è¡¨ä¸­é€‰æ‹©æ‰€éœ€é¢œè‰²ï¼Œæˆ–è€…æµè§ˆè°ƒè‰²ç›˜ã€‚ å¦‚æœæ‚¨æƒ³ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œåªéœ€åœ¨ä¸Šä¸‹æ–‡èœå•ä¸­å–æ¶ˆé€‰æ‹© _Show Project Gradient_ï¼ˆæ˜¾ç¤ºé¡¹ç›®æ¸å˜ï¼‰é€‰é¡¹ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959569.png"> </p><h3 id="åœ¨-Windows-å’Œ-Linux-ä¸Šçš„ä¸»å·¥å…·æ ä¸­é‡åšäº†æ±‰å ¡åŒ…èœå•"><a href="#åœ¨-Windows-å’Œ-Linux-ä¸Šçš„ä¸»å·¥å…·æ ä¸­é‡åšäº†æ±‰å ¡åŒ…èœå•" class="headerlink" title="åœ¨ Windows å’Œ Linux ä¸Šçš„ä¸»å·¥å…·æ ä¸­é‡åšäº†æ±‰å ¡åŒ…èœå•"></a>åœ¨ Windows å’Œ Linux ä¸Šçš„ä¸»å·¥å…·æ ä¸­é‡åšäº†æ±‰å ¡åŒ…èœå•</h3><p>æˆ‘ä»¬æ”¹è¿›äº† Windows å’Œ Linux ä¸Šæ–° UI ä¸­ä¸»å·¥å…·æ æ±‰å ¡åŒ…èœå•çš„è¡Œä¸ºã€‚ ç‚¹å‡»èœå•å›¾æ ‡åï¼Œå…ƒç´ ç°åœ¨æ°´å¹³æ˜¾ç¤ºåœ¨å·¥å…·æ ä¸Šæ–¹ã€‚ æ­¤å¤–ï¼Œç°åœ¨è¿˜æœ‰ä¸€ä¸ªé€‰é¡¹å¯ä»¥å°†æ­¤èœå•è½¬æ¢ä¸ºå•ç‹¬çš„å·¥å…·æ ï¼Œæ­¤é€‰é¡¹çš„è·¯å¾„ä¸º _View | Appearance | Main menu as a Separate Toolbar_ï¼ˆè§†å›¾ | å¤–è§‚ | ä¸»èœå•ä½œä¸ºå•ç‹¬çš„å·¥å…·æ ï¼‰ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959104.png"> </p><h3 id="åœ¨-Project-ï¼ˆé¡¹ç›®ï¼‰è§†å›¾ä¸­æŒ‰ä¿®æ”¹æ—¶é—´å¯¹æ–‡ä»¶è¿›è¡Œæ’åº"><a href="#åœ¨-Project-ï¼ˆé¡¹ç›®ï¼‰è§†å›¾ä¸­æŒ‰ä¿®æ”¹æ—¶é—´å¯¹æ–‡ä»¶è¿›è¡Œæ’åº" class="headerlink" title="åœ¨ _Project_ï¼ˆé¡¹ç›®ï¼‰è§†å›¾ä¸­æŒ‰ä¿®æ”¹æ—¶é—´å¯¹æ–‡ä»¶è¿›è¡Œæ’åº"></a>åœ¨ _Project_ï¼ˆé¡¹ç›®ï¼‰è§†å›¾ä¸­æŒ‰ä¿®æ”¹æ—¶é—´å¯¹æ–‡ä»¶è¿›è¡Œæ’åº</h3><p>IntelliJ IDEA 2023.2 æ·»åŠ äº†å¤‡å—æœŸå¾…çš„åŠŸèƒ½ï¼Œè®©æ‚¨å¯ä»¥æ ¹æ®ä¿®æ”¹æ—¶é—´åœ¨ _Project_ï¼ˆé¡¹ç›®ï¼‰è§†å›¾ä¸­æ’åˆ—æ–‡ä»¶ã€‚ æ¯å½“é¡¹ç›®ä¸­æœ‰æ›´æ”¹è¢«ä¿å­˜æ—¶ï¼Œè¿™ä¸ªæ–°åŠŸèƒ½å°±ä¼šè‡ªåŠ¨é‡æ’æ–‡ä»¶ã€‚ è¦å¯ç”¨æ­¤åŠŸèƒ½ï¼Œé¦–å…ˆæ‰“å¼€ _Project_ï¼ˆé¡¹ç›®ï¼‰è§†å›¾ä¸­çš„ç«–ä¸‰ç‚¹èœå•ï¼Œç„¶åé€‰æ‹© _Tree Appearance | Sort by Modification Time_ï¼ˆæ ‘å¤–è§‚ | æŒ‰ä¿®æ”¹æ—¶é—´æ’åºï¼‰ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959174.png"> </p><h3 id="æ–°-UI-ä¸­å¸¦æœ‰æµ…è‰²æ ‡é¢˜çš„æµ…è‰²ä¸»é¢˜"><a href="#æ–°-UI-ä¸­å¸¦æœ‰æµ…è‰²æ ‡é¢˜çš„æµ…è‰²ä¸»é¢˜" class="headerlink" title="æ–° UI ä¸­å¸¦æœ‰æµ…è‰²æ ‡é¢˜çš„æµ…è‰²ä¸»é¢˜"></a>æ–° UI ä¸­å¸¦æœ‰æµ…è‰²æ ‡é¢˜çš„æµ…è‰²ä¸»é¢˜</h3><p>åœ¨ v2023.2 ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å¼•å…¥æ›¿ä»£çš„ _Light with Light Header_ï¼ˆå¸¦æœ‰æµ…è‰²æ ‡é¢˜çš„æµ…è‰²ä¸»é¢˜ï¼‰é€‰é¡¹æå‡äº†_æµ…è‰²_ä¸»é¢˜çš„ç”¨æˆ·ä½“éªŒï¼Œè¯¥é€‰é¡¹å¯ä¸ºçª—å£æ ‡é¢˜ã€å·¥å…·æç¤ºå’Œé€šçŸ¥æ°”çƒæä¾›åŒ¹é…çš„æµ…è‰²ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959161.png"> </p><h3 id="æ›´æ–°äº†-macOS-ä¸Šçš„çª—å£æ§ä»¶"><a href="#æ›´æ–°äº†-macOS-ä¸Šçš„çª—å£æ§ä»¶" class="headerlink" title="æ›´æ–°äº† macOS ä¸Šçš„çª—å£æ§ä»¶"></a>æ›´æ–°äº† macOS ä¸Šçš„çª—å£æ§ä»¶</h3><p>åœ¨ macOS ä¸Šä»¥å…¨å±æ¨¡å¼ä½¿ç”¨æ–° UI æ—¶ï¼Œçª—å£æ§ä»¶ç°åœ¨å°†åœ¨ä¸»å·¥å…·æ ä¸Šæ˜¾ç¤ºï¼Œè€Œä¸æ˜¯åƒä»¥å‰ä¸€æ ·åœ¨æµ®åŠ¨æ ä¸Šæ˜¾ç¤ºã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959213.png"> </p><h3 id="åœ¨æ–°-UI-ä¸­ç§»é™¤äº†-Linux-ä¸Šçš„æ ‡é¢˜æ "><a href="#åœ¨æ–°-UI-ä¸­ç§»é™¤äº†-Linux-ä¸Šçš„æ ‡é¢˜æ " class="headerlink" title="åœ¨æ–° UI ä¸­ç§»é™¤äº† Linux ä¸Šçš„æ ‡é¢˜æ "></a>åœ¨æ–° UI ä¸­ç§»é™¤äº† Linux ä¸Šçš„æ ‡é¢˜æ </h3><p>ä¸ºäº†æ–¹ä¾¿ Linux ç”¨æˆ·ï¼Œæ–° UI ä¸­ç§»é™¤äº†æ“ä½œç³»ç»Ÿçš„åŸç”Ÿæ ‡é¢˜ï¼Œä½¿ç•Œé¢æ›´åŠ æ•´æ´ã€‚ é»˜è®¤å°†æ˜¾ç¤º IDE çš„è‡ªå®šä¹‰æ ‡é¢˜ï¼Œè¯¥æ ‡é¢˜æä¾›äº†ä¸€ç³»åˆ—å·¥ä½œåŒºè‡ªå®šä¹‰é€‰é¡¹ã€‚ å¦‚æœæ‚¨å¸Œæœ›å°†æ ‡é¢˜è¿˜åŸä¸ºä¹‹å‰çš„å¤–è§‚ï¼Œè¯·å–æ¶ˆé€‰æ‹© _Settings | Appearance &amp; Behavior | Appearance | UI Options_ï¼ˆè®¾ç½® | å¤–è§‚ä¸è¡Œä¸º | å¤–è§‚ | UI é€‰é¡¹ï¼‰ä¸­çš„ <em>Merge main menu with window title</em> ï¼ˆå°†ä¸»èœå•ä¸çª—å£æ ‡é¢˜åˆå¹¶ï¼‰é€‰é¡¹ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959154.png"></p><h3 id="æ£€æŸ¥æè¿°ä¸­çš„è¯­æ³•é«˜äº®æ˜¾ç¤º"><a href="#æ£€æŸ¥æè¿°ä¸­çš„è¯­æ³•é«˜äº®æ˜¾ç¤º" class="headerlink" title="æ£€æŸ¥æè¿°ä¸­çš„è¯­æ³•é«˜äº®æ˜¾ç¤º"></a>æ£€æŸ¥æè¿°ä¸­çš„è¯­æ³•é«˜äº®æ˜¾ç¤º</h3><p>åœ¨ _Settings &#x2F; Preferences | Editor | Inspections_ï¼ˆè®¾ç½®&#x2F;åå¥½è®¾ç½® | ç¼–è¾‘å™¨ | æ£€æŸ¥ï¼‰ä¸­ï¼Œä»£ç ç¤ºä¾‹ç°åœ¨å°†åŒ…å«è¯­æ³•é«˜äº®æ˜¾ç¤ºï¼Œè®©æ‚¨å¯ä»¥æ›´å®¹æ˜“ç†è§£æ˜¯ä»€ä¹ˆè§¦å‘äº†æ£€æŸ¥å¹¶å†³å®šä½¿å…¶å¤„äºæ´»è·ƒçŠ¶æ€è¿˜æ˜¯åœç”¨çŠ¶æ€ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959183.png"> </p><h3 id="åœ¨é¡¹ç›®ç›®å½•ä¹‹é—´å•å‡»å¯¼èˆª"><a href="#åœ¨é¡¹ç›®ç›®å½•ä¹‹é—´å•å‡»å¯¼èˆª" class="headerlink" title="åœ¨é¡¹ç›®ç›®å½•ä¹‹é—´å•å‡»å¯¼èˆª"></a>åœ¨é¡¹ç›®ç›®å½•ä¹‹é—´å•å‡»å¯¼èˆª</h3><p>åœ¨ _Project_ï¼ˆé¡¹ç›®ï¼‰è§†å›¾ä¸­ï¼Œæ–°å¢äº† _Open Directories with Single Click_ï¼ˆå•å‡»æ‰“å¼€ç›®å½•ï¼‰é€‰é¡¹ï¼Œå¯ä»¥æ›´å¿«å±•å¼€å’Œæ”¶èµ·é¡¹ç›®æ–‡ä»¶å¤¹ï¼Œæ›´å¿«å“åº”ã€‚ ç‚¹å‡»ç«–ä¸‰ç‚¹èœå•åï¼Œå¯ä»¥ä»ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©è¯¥é€‰é¡¹ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959630.png"> </p><h3 id="æ”¹è¿›äº†ä¸»å·¥å…·æ è‡ªå®šä¹‰"><a href="#æ”¹è¿›äº†ä¸»å·¥å…·æ è‡ªå®šä¹‰" class="headerlink" title="æ”¹è¿›äº†ä¸»å·¥å…·æ è‡ªå®šä¹‰"></a>æ”¹è¿›äº†ä¸»å·¥å…·æ è‡ªå®šä¹‰</h3><p>æˆ‘ä»¬æ‰©å±•äº†æ–° UI ä¸»å·¥å…·æ çš„è‡ªå®šä¹‰é€‰é¡¹ã€‚ ç°åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸‹æ‹‰èœå•å¿«é€Ÿé€‰æ‹©è¦æ·»åŠ åˆ°å·¥å…·æ çš„æ“ä½œã€‚ å³é”®ç‚¹å‡»ä»»æ„å¾®ä»¶ï¼Œé€‰æ‹© _Add to Main Toolbar_ï¼ˆæ·»åŠ åˆ°ä¸»å·¥å…·æ ï¼‰ï¼Œç„¶åæµè§ˆå¯ç”¨é€‰é¡¹ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959584.png"> </p><h3 id="Settings-Preferences-ï¼ˆè®¾ç½®-åå¥½è®¾ç½®ï¼‰ä¸­çš„æ¨èæ’ä»¶"><a href="#Settings-Preferences-ï¼ˆè®¾ç½®-åå¥½è®¾ç½®ï¼‰ä¸­çš„æ¨èæ’ä»¶" class="headerlink" title="Settings&#x2F;Preferences_ï¼ˆè®¾ç½®&#x2F;åå¥½è®¾ç½®ï¼‰ä¸­çš„æ¨èæ’ä»¶"></a>Settings&#x2F;Preferences_ï¼ˆè®¾ç½®&#x2F;åå¥½è®¾ç½®ï¼‰ä¸­çš„æ¨èæ’ä»¶</h3><p>ä¸ºäº†è®©æ‚¨å¯ä»¥æ›´è½»æ¾åœ°ä¸ºç‰¹å®šé¡¹ç›®é…ç½® IDE ä»¥åŠé€šè¿‡æ’ä»¶æ‰©å±•å…¶åŠŸèƒ½ï¼Œæˆ‘ä»¬æ›´æ–°äº† _Settings&#x2F;Preferences | Plugins_ï¼ˆè®¾ç½®&#x2F;åå¥½è®¾ç½® | æ’ä»¶ï¼‰éƒ¨åˆ†çš„ UIã€‚ å®ƒç°åœ¨åŒ…å«ä¸€ç»„æ¨èæ’ä»¶ï¼Œæ ¹æ®æ‚¨çš„é¡¹ç›®å…·ä½“æƒ…å†µè‡ªåŠ¨å®šä¹‰ï¼Œå¹¶åœ¨åˆ—è¡¨é¡¶éƒ¨æ˜¾ç¤ºã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959577.png"> </p><h3 id="æ›´æ–°äº†Servicesï¼ˆæœåŠ¡ï¼‰å·¥å…·çª—å£ä¸­-Run-Debug-ï¼ˆè¿è¡Œ-è°ƒè¯•ï¼‰"><a href="#æ›´æ–°äº†Servicesï¼ˆæœåŠ¡ï¼‰å·¥å…·çª—å£ä¸­-Run-Debug-ï¼ˆè¿è¡Œ-è°ƒè¯•ï¼‰" class="headerlink" title="æ›´æ–°äº†Servicesï¼ˆæœåŠ¡ï¼‰å·¥å…·çª—å£ä¸­ _Run&#x2F;Debug_ï¼ˆè¿è¡Œ&#x2F;è°ƒè¯•ï¼‰"></a>æ›´æ–°äº†Servicesï¼ˆæœåŠ¡ï¼‰å·¥å…·çª—å£ä¸­ _Run&#x2F;Debug_ï¼ˆè¿è¡Œ&#x2F;è°ƒè¯•ï¼‰</h3><p>å¾®ä»¶çš„ UI æˆ‘ä»¬é‡åšäº† _Services_ï¼ˆæœåŠ¡ï¼‰å·¥å…·çª—å£ä¸­è¿è¡Œå’Œè°ƒè¯•æ“ä½œçš„ UIï¼Œä½¿å·¥å…·æ å¤–è§‚ä¸ä¸» _Run&#x2F;Debug_ï¼ˆè¿è¡Œ&#x2F;è°ƒè¯•ï¼‰å¾®ä»¶ä¸€è‡´ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959619.png"> </p><h3 id="åœ¨-Run-ï¼ˆè¿è¡Œï¼‰å¾®ä»¶ä¸­å›ºå®šè¿è¡Œé…ç½®"><a href="#åœ¨-Run-ï¼ˆè¿è¡Œï¼‰å¾®ä»¶ä¸­å›ºå®šè¿è¡Œé…ç½®" class="headerlink" title="åœ¨ _Run_ï¼ˆè¿è¡Œï¼‰å¾®ä»¶ä¸­å›ºå®šè¿è¡Œé…ç½®"></a>åœ¨ _Run_ï¼ˆè¿è¡Œï¼‰å¾®ä»¶ä¸­å›ºå®šè¿è¡Œé…ç½®</h3><p>ä¸ºäº†ç®€åŒ–å¤šä¸ªè¿è¡Œé…ç½®çš„ç®¡ç†ï¼Œæˆ‘ä»¬åœ¨ _Run_ï¼ˆè¿è¡Œï¼‰å¾®ä»¶ä¸­å®ç°äº†å›ºå®šé¦–é€‰é…ç½®çš„é€‰é¡¹ã€‚ è¦å°†è¿è¡Œé…ç½®æ·»åŠ åˆ° _Pinned_ï¼ˆå›ºå®šï¼‰éƒ¨åˆ†ï¼Œé¦–å…ˆæ‰“å¼€å…¶åç§°æ—è¾¹çš„ç«–ä¸‰ç‚¹èœå•ï¼Œç„¶åé€‰æ‹© _Pin_ï¼ˆå›ºå®šï¼‰ã€‚ å¦‚æœæœ‰å¤šä¸ªå›ºå®šçš„é…ç½®ï¼Œåœ¨åˆ—è¡¨ä¸­æ‹–æ”¾å³å¯è½»æ¾æ’åˆ—ã€‚<br>#Java </p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959626.png"> </p><h3 id="æ–°æ£€æŸ¥å’Œå…¶ä»–ä»£ç åˆ†ææ”¹è¿›"><a href="#æ–°æ£€æŸ¥å’Œå…¶ä»–ä»£ç åˆ†ææ”¹è¿›" class="headerlink" title="æ–°æ£€æŸ¥å’Œå…¶ä»–ä»£ç åˆ†ææ”¹è¿›"></a>æ–°æ£€æŸ¥å’Œå…¶ä»–ä»£ç åˆ†ææ”¹è¿›</h3><p>æˆ‘ä»¬æ”¹è¿›å¹¶æ‰©å±•äº† Java æ£€æŸ¥ï¼Œå¸®åŠ©æ‚¨ç»´æŠ¤ä¼˜è´¨ä»£ç å¹¶æ›´æœ‰æ•ˆåœ°æ£€æµ‹æ½œåœ¨é—®é¢˜ã€‚ å½“æ¨¡å¼å¼•ç”¨ä¸å®å‚ä¸åŒ¹é…æ—¶ï¼Œæ–°çš„ _Incorrect â€˜MessageFormatâ€™ pattern_ï¼ˆâ€™MessageFormatâ€™ æ¨¡å¼ä¸æ­£ç¡®ï¼‰æ£€æŸ¥ä¼šå‘å‡ºè­¦å‘Šï¼Œå¹¶ä¸”å®ƒè¿˜ä¼šæ£€æµ‹ <code>MessageFormat</code> æ¨¡å¼ä¸­å¼•å·å’Œå¤§æ‹¬å·çš„é”™è¯¯ç”¨æ³•ã€‚ æ­¤å¤–ï¼ŒIDE ç°åœ¨å°†æŠ¥å‘Šå¸¦æœ‰æ˜¾å¼ <code>ChronoField</code> æˆ– <code>ChronoUnit</code> å®å‚çš„è°ƒç”¨ï¼Œå¹¶å»ºè®®å°†å…¶æ›¿æ¢ä¸ºæ›´å…·ä½“çš„æ–¹æ³•çš„è°ƒç”¨ï¼Œä»è€Œç®€åŒ–ä»£ç ã€‚ åœ¨è¿™ç¯‡<a href="https://blog.jetbrains.com/idea/2023/05/intellij-idea-2023-2-eap-2/#Newinspectionsandothercodeanalysisimprovementss_and_other_improvements">åšæ–‡</a>ä¸­è¯¦ç»†äº†è§£ IntelliJ IDEA 2023.2 ä¸­çš„æ–°æ£€æŸ¥å’Œå…¶ä»–ä»£ç åˆ†ææ”¹è¿›ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959640.png"> </p><h3 id="æ ¼å¼å­—ç¬¦ä¸²çš„ä»£ç é«˜äº®æ˜¾ç¤ºå’Œå¯¼èˆª"><a href="#æ ¼å¼å­—ç¬¦ä¸²çš„ä»£ç é«˜äº®æ˜¾ç¤ºå’Œå¯¼èˆª" class="headerlink" title="æ ¼å¼å­—ç¬¦ä¸²çš„ä»£ç é«˜äº®æ˜¾ç¤ºå’Œå¯¼èˆª"></a>æ ¼å¼å­—ç¬¦ä¸²çš„ä»£ç é«˜äº®æ˜¾ç¤ºå’Œå¯¼èˆª</h3><p>ç°åœ¨ï¼Œå°†æ–‡æœ¬å…‰æ ‡ç½®äºæ ¼å¼è¯´æ˜ç¬¦ä¸Šåï¼ŒIDE å°†é«˜äº®æ˜¾ç¤ºç›¸åº”å®å‚å’ŒæŒ‡å‘å®ƒçš„å…¶ä»–è¯´æ˜ç¬¦ã€‚ æ­¤å¤–ï¼Œæ‚¨ç°åœ¨å¯ä»¥ä½¿ç”¨ _Go To Declaration_ï¼ˆè½¬åˆ°å£°æ˜ï¼‰(Ctrl+B) è·³è½¬åˆ°ç‰¹å®šæ ¼å¼å­—ç¬¦ä¸²å ä½ç¬¦çš„å…³è”ä»£ç ä½ç½®ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959020.png"> </p><h3 id="æ”¹è¿›äº†å¯¹-Javadoc-æ³¨é‡Šä¸­-snippet-æ ‡è®°çš„æ”¯æŒ"><a href="#æ”¹è¿›äº†å¯¹-Javadoc-æ³¨é‡Šä¸­-snippet-æ ‡è®°çš„æ”¯æŒ" class="headerlink" title="æ”¹è¿›äº†å¯¹ Javadoc æ³¨é‡Šä¸­ @snippet æ ‡è®°çš„æ”¯æŒ"></a>æ”¹è¿›äº†å¯¹ Javadoc æ³¨é‡Šä¸­ <code>@snippet</code> æ ‡è®°çš„æ”¯æŒ</h3><p>IntelliJ IDEA æ”¹è¿›äº† Javadoc æ³¨é‡Šä¸­çš„ <code>@snippet</code> æ ‡è®°åŠŸèƒ½ã€‚ å®ƒå…è®¸åœ¨ <code>@snippet</code> æ ‡è®°å†…æ·»åŠ æ ‡è®°æ³¨é‡Šï¼Œå¹¶åœ¨æ–‡æ¡£ä¸­æ­£ç¡®å‘ˆç°ã€‚ ä»£ç åŒºåŸŸå·²å¾—åˆ°æ”¯æŒï¼Œæ‚¨å¯ä»¥æŒ‡å®šè¦åœ¨ Javadoc æ³¨é‡Šä¸­å¼•ç”¨çš„ä»£ç éƒ¨åˆ†ã€‚ æ­¤å¤–ï¼ŒIDE ç°åœ¨è¿˜æ”¯æŒåœ¨ <code>@snippet</code> æ ‡è®°å†…åŒ…å«å¤–éƒ¨ä»£ç æ®µï¼Œè¿™å°†å…è®¸æ‚¨å¼•ç”¨å­˜å‚¨åœ¨å•ç‹¬æ–‡ä»¶æˆ–æºä¸­çš„ä»£ç æ®µï¼Œå¹¶å°†å…¶åŒ…å«åœ¨ Javadoc æ–‡æ¡£ä¸­ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959078.png"> </p><h3 id="æ‰©å±•äº†å¤šä¸ªé€‰å®šæˆå‘˜çš„é‡æ„é€‰é¡¹"><a href="#æ‰©å±•äº†å¤šä¸ªé€‰å®šæˆå‘˜çš„é‡æ„é€‰é¡¹" class="headerlink" title="æ‰©å±•äº†å¤šä¸ªé€‰å®šæˆå‘˜çš„é‡æ„é€‰é¡¹"></a>æ‰©å±•äº†å¤šä¸ªé€‰å®šæˆå‘˜çš„é‡æ„é€‰é¡¹</h3><p>æˆ‘ä»¬æ·»åŠ äº†æ–°æ–¹å¼ï¼Œå¯ä¾›åŒæ—¶å°†ç‰¹å®šé‡æ„åº”ç”¨äºå¤šä¸ªæˆå‘˜ã€‚ ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ _Project_ï¼ˆé¡¹ç›®ï¼‰æˆ– _Structure_ï¼ˆç»“æ„ï¼‰å·¥å…·çª—å£ä¸­ç›´æ¥é€‰æ‹©å¤šä¸ªæˆå‘˜ï¼ŒåŒæ—¶å¯¹å…¶è°ƒç”¨ _Extract Delegate_ï¼ˆæå–å§”æ‰˜ï¼‰ã€_Extract Interface_ï¼ˆæå–æ¥å£ï¼‰ã€_Extract Superclass_ï¼ˆæå–è¶…ç±»ï¼‰ã€_Pull Members Up_ï¼ˆå‘ä¸Šæ‹‰å–æˆå‘˜ï¼‰å’Œ _Push Members Down_ï¼ˆå‘ä¸‹æ¨é€æˆå‘˜ï¼‰ã€‚ æ­¤å¤–ï¼ŒIntelliJ IDEA ç°åœ¨æ”¯æŒä»¥å¤šæ–‡æœ¬å…‰æ ‡é€‰æ‹©è¿›è¡Œæ‰©å±•èŒƒå›´çš„é‡æ„ï¼ŒåŒ…æ‹¬ _Encapsulate Fields_ï¼ˆå°è£…å­—æ®µï¼‰ã€_Move Static Members_ï¼ˆç§»åŠ¨ static æˆå‘˜ï¼‰ã€_Extract Delegate_ï¼ˆæå–å§”æ‰˜ï¼‰ã€_Extract Interface_ï¼ˆæå–æ¥å£ï¼‰å’Œ _Extract Superclass_ï¼ˆæå–è¶…ç±»ï¼‰ã€‚ è¦åˆ©ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·å°†æ–‡æœ¬å…‰æ ‡æ”¾ç½®åœ¨æ‚¨å¸Œæœ›åº”ç”¨é‡æ„çš„å„æˆå‘˜ä¸­ï¼ŒIDE å°†è‡ªåŠ¨åœ¨é‡æ„å¯¹è¯æ¡†ä¸­é¢„é€‰å¹¶æ£€æŸ¥è¿™äº›æˆå‘˜ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959060.png"> </p><h3 id="æ”¹è¿›äº†å †æ ˆè·Ÿè¸ªåˆ†æçš„å¯¼èˆª"><a href="#æ”¹è¿›äº†å †æ ˆè·Ÿè¸ªåˆ†æçš„å¯¼èˆª" class="headerlink" title="æ”¹è¿›äº†å †æ ˆè·Ÿè¸ªåˆ†æçš„å¯¼èˆª"></a>æ”¹è¿›äº†å †æ ˆè·Ÿè¸ªåˆ†æçš„å¯¼èˆª</h3><p>ä¸ºäº†æ”¹è¿›å †æ ˆè·Ÿè¸ªåˆ†æå¹¶æ›´å¿«åœ°è§£å†³ bugï¼ŒIntelliJ IDEA ç°åœ¨å¯ä»¥å‡†ç¡®çŒœæµ‹æŠ¥å‘Šä¸­æ–¹æ³•çš„ä½ç½®ï¼Œå³ä½¿è¡Œå·ä¸å¯ç”¨æˆ–å·²åç¦»ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959089.png"> </p><h3 id="å¢å¼ºäº†åŠ¨æ€-SQL-æŸ¥è¯¢çš„æ±¡ç‚¹åˆ†æ"><a href="#å¢å¼ºäº†åŠ¨æ€-SQL-æŸ¥è¯¢çš„æ±¡ç‚¹åˆ†æ" class="headerlink" title="å¢å¼ºäº†åŠ¨æ€ SQL æŸ¥è¯¢çš„æ±¡ç‚¹åˆ†æ"></a>å¢å¼ºäº†åŠ¨æ€ SQL æŸ¥è¯¢çš„æ±¡ç‚¹åˆ†æ</h3><p>Ultimate IntelliJ IDEA ç°åœ¨å¯ä»¥æ›´å¥½åœ°åˆ†æ Java å’Œ Kotlin ä¸­ SQL çš„ä¸²è”å’Œå†…æ’ï¼Œæ£€æµ‹æ½œåœ¨çš„ä¸å®‰å…¨æŸ¥è¯¢ï¼Œä½¿ä»£ç é¿å…å¯èƒ½çš„ SQL æ³¨å…¥æ¼æ´ã€‚ </p><h1 id="Scala"><a href="#Scala" class="headerlink" title="Scala"></a>Scala</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959113.png"> </p><h3 id="æ›´å‡ºè‰²çš„-Scala-3-æ”¯æŒ"><a href="#æ›´å‡ºè‰²çš„-Scala-3-æ”¯æŒ" class="headerlink" title="æ›´å‡ºè‰²çš„ Scala 3 æ”¯æŒ"></a>æ›´å‡ºè‰²çš„ Scala 3 æ”¯æŒ</h3><p>IntelliJ IDEA 2023.2 å¢å¼ºäº† Scala 3 æ”¯æŒï¼Œä¸“æ³¨äºç®€åŒ–å¼€å‘ä½“éªŒã€‚ å€¼å¾—æ³¨æ„çš„æ”¹è¿›åŒ…æ‹¬å¯¹ Scala 3 æšä¸¾é«˜äº®æ˜¾ç¤ºçš„ä¿®æ­£ã€æšä¸¾å®šä¹‰å¯¼èˆªï¼Œä»¥åŠå¤šç§ä¸Šä¸‹æ–‡ä¸­æšä¸¾ case çš„æ­£ç¡®è§£æã€‚ TASTy åç¼–è¯‘å™¨å¾—åˆ°æ˜¾è‘—å¢å¼ºï¼Œç¡®ä¿å¯¹ Akkaã€Catsã€Playã€ZIO ç­‰æµè¡Œ Scala åº“è¿›è¡Œå‡†ç¡®çš„åç¼–è¯‘ã€‚ æ­¤å¤–ï¼Œè°ƒè¯•å™¨ä¸­çš„ <code>scala-expression-compiler</code> é›†æˆä¹Ÿå°†ä¸º Scala å¼€å‘è€…æä¾›æ›´å¥½çš„è°ƒè¯•ä½“éªŒã€‚ å…¶ä»–æ”¹è¿›åŒ…æ‹¬ Scala 3 é€šç”¨åº”ç”¨æ–¹æ³•çš„å¢å¼ºè¡¥å…¨æç¤ºã€å¯¹ IArray çš„ç¼–è¾‘å™¨å†…æ”¯æŒï¼Œä»¥åŠå¯¹â€œæ›´å°‘å¤§æ‹¬å·â€è¯­æ³•çš„æ”¹è¿›æ”¯æŒã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959170.png"> </p><h3 id="æ›´å¥½çš„-sbt-æ”¯æŒ"><a href="#æ›´å¥½çš„-sbt-æ”¯æŒ" class="headerlink" title="æ›´å¥½çš„ sbt æ”¯æŒ"></a>æ›´å¥½çš„ sbt æ”¯æŒ</h3><p>æ­¤ç‰ˆæœ¬å¯¹ IntelliJ IDEA çš„ sbt æ”¯æŒè¿›è¡Œäº†è®¸å¤šæ”¹è¿›ã€‚ é‡æ–°æ‰“å¼€é¡¹ç›®åï¼Œä¸º sbt è®¾ç½®çš„ç¯å¢ƒå˜é‡å°†è¢«ä¿ç•™å¹¶æ­£ç¡®å¤„ç†ã€‚ é‡æ–°è®¾è®¡çš„è®¾ç½®é¡µé¢ _File | Settings | Build, Execution, Deployment | Build Tools | sbt_ï¼ˆæ–‡ä»¶ | è®¾ç½® | æ„å»ºã€æ‰§è¡Œã€éƒ¨ç½² | æ„å»ºå·¥å…· | sbtï¼‰æ›´ä¸ºæ˜“ç”¨ï¼Œå¹¶æ–°å¢äº† _Environment variables_ï¼ˆç¯å¢ƒå˜é‡ï¼‰å­—æ®µï¼Œå› æ­¤ï¼Œæ‚¨å¯ä»¥å°†è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ä¼ é€’åˆ° sbt-shell è¿›ç¨‹ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959482.png"> </p><h3 id="ScalaDoc-å‘ˆç°"><a href="#ScalaDoc-å‘ˆç°" class="headerlink" title="ScalaDoc å‘ˆç°"></a>ScalaDoc å‘ˆç°</h3><p>åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼ŒScalaDoc çš„å¿«é€Ÿæ–‡æ¡£ä¸ Javadoc çš„æ›´åŠ ä¸€è‡´ã€‚ ç°åœ¨ï¼Œæ˜¾ç¤ºçš„å£°æ˜ä¸­çš„æ³¨è§£ã€å…³é”®å­—å’Œæ–‡å­—å°†æ ¹æ®æ‰€é€‰ä¸»é¢˜é«˜äº®æ˜¾ç¤ºã€‚ å¦‚æœè¶…å‡ºå¯ç”¨ç©ºé—´ï¼Œæ‰©å±•çš„ç‰¹å¾å’Œç±»çš„åˆ—è¡¨å°†åˆ†æˆå¤šè¡Œã€‚ æ­¤å¤–ï¼Œæ–‡æ¡£ä¸­ç°åœ¨ä¹Ÿæ”¯æŒ Scala 3 å…³é”®å­—ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959505.png"> </p><h3 id="ä¿®æ­£äº†ç±»å‹æ¨æ–­é”™è¯¯"><a href="#ä¿®æ­£äº†ç±»å‹æ¨æ–­é”™è¯¯" class="headerlink" title="ä¿®æ­£äº†ç±»å‹æ¨æ–­é”™è¯¯"></a>ä¿®æ­£äº†ç±»å‹æ¨æ–­é”™è¯¯</h3><p>æ–°ç‰ˆæœ¬å¯¹æŸäº›å¤æ‚æˆ–ç½•è§æƒ…å†µä¸‹çš„æ— æ•ˆç±»å‹æ¨æ–­è¿›è¡Œäº†è®¸å¤šä¿®æ­£ï¼Œä¾‹å¦‚ç±»å‹å…·æœ‰å¤æ‚è¾¹ç•Œã€sealed ç‰¹å¾å±‚æ¬¡ç»“æ„å¯èƒ½ä¸æ¸…æ™°æˆ–åœ¨å¤æ‚æ¨¡å¼åŒ¹é…ä¸­çš„æƒ…å†µã€‚</p><h3 id="Zinc-ä½œä¸ºé»˜è®¤ç¼–è¯‘å™¨"><a href="#Zinc-ä½œä¸ºé»˜è®¤ç¼–è¯‘å™¨" class="headerlink" title="Zinc ä½œä¸ºé»˜è®¤ç¼–è¯‘å™¨"></a>Zinc ä½œä¸ºé»˜è®¤ç¼–è¯‘å™¨</h3><p>é‰´äº Zinc æœ€è¿‘çš„æ€§èƒ½æ”¹è¿›ï¼Œæˆ‘ä»¬åœ¨ v2023.2 ä¸­å°†å…¶è®¾ä¸ºé»˜è®¤å¢é‡ç¼–è¯‘å™¨ã€‚ è¿™ç¡®ä¿äº†å¯¹ Scala 3 æ–°åŠŸèƒ½ï¼ˆåŒ…æ‹¬ <code>inline</code> æ–¹æ³•ï¼‰çš„å¢é‡ç¼–è¯‘çš„å…¨é¢æ”¯æŒã€‚</p><h3 id="æ”¹è¿›äº†æºç›®å½•å’Œç›®æ ‡ç›®å½•çš„ç®¡ç†"><a href="#æ”¹è¿›äº†æºç›®å½•å’Œç›®æ ‡ç›®å½•çš„ç®¡ç†" class="headerlink" title="æ”¹è¿›äº†æºç›®å½•å’Œç›®æ ‡ç›®å½•çš„ç®¡ç†"></a>æ”¹è¿›äº†æºç›®å½•å’Œç›®æ ‡ç›®å½•çš„ç®¡ç†</h3><p>ç›®æ ‡æ–‡ä»¶å¤¹çš„å­æ–‡ä»¶å¤¹ä¸å†è‡ªåŠ¨åŒ…å«ä¸ºæºï¼Œé™¤éå®ƒä»¬è¢«æ ‡è®°ä¸ºæ‰˜ç®¡ã€‚ è¿™å°†åŠ å¿«åœ¨ç”Ÿæˆæºä»£ç çš„é¡¹ç›®ä¸­è¿›è¡Œæœç´¢çš„é€Ÿåº¦ã€‚ æ­¤å¤–ï¼ŒIDE è¿˜ä¸º <code>sbt-projectmatrix</code> æä¾›äº†æ›´å¥½çš„æ”¯æŒã€‚ </p><h1 id="æ€§èƒ½åˆ†æå™¨"><a href="#æ€§èƒ½åˆ†æå™¨" class="headerlink" title="æ€§èƒ½åˆ†æå™¨"></a>æ€§èƒ½åˆ†æå™¨</h1><p>â€”â€“ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959514.png"> </p><h3 id="ä»-Run-ï¼ˆè¿è¡Œï¼‰å·¥å…·çª—å£ä½¿ç”¨åˆ†æåŠŸèƒ½"><a href="#ä»-Run-ï¼ˆè¿è¡Œï¼‰å·¥å…·çª—å£ä½¿ç”¨åˆ†æåŠŸèƒ½" class="headerlink" title="ä» _Run_ï¼ˆè¿è¡Œï¼‰å·¥å…·çª—å£ä½¿ç”¨åˆ†æåŠŸèƒ½"></a>ä» _Run_ï¼ˆè¿è¡Œï¼‰å·¥å…·çª—å£ä½¿ç”¨åˆ†æåŠŸèƒ½</h3><p>Ultimate åœ¨ IntelliJ IDEA 2023.2 ä¸­ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä» _Run_ï¼ˆè¿è¡Œï¼‰å·¥å…·çª—å£è½»æ¾è®¿é—® IntelliJ åˆ†æå™¨çš„åŠŸèƒ½ã€‚ ä½¿ç”¨æ–°æŒ‰é’®ï¼Œç‚¹å‡»ä¸€ä¸‹å³å¯è°ƒç”¨ _Attach IntelliJ Profiler_ï¼ˆé™„åŠ  IntelliJ åˆ†æå™¨ï¼‰å’Œ _Capture Memory Snapshot_ï¼ˆæ•è·å†…å­˜å¿«ç…§ï¼‰æ“ä½œï¼Œæ— éœ€æ‰“å¼€ _Profiler_ï¼ˆåˆ†æå™¨ï¼‰å·¥å…·çª—å£æˆ–ä»å¤´å¯åŠ¨åº”ç”¨ç¨‹åºã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959496.png"> </p><h3 id="é»˜è®¤æŒ‚é’Ÿåˆ†ææ¨¡å¼"><a href="#é»˜è®¤æŒ‚é’Ÿåˆ†ææ¨¡å¼" class="headerlink" title="é»˜è®¤æŒ‚é’Ÿåˆ†ææ¨¡å¼"></a>é»˜è®¤æŒ‚é’Ÿåˆ†ææ¨¡å¼</h3><p>Ultimate æˆ‘ä»¬å°†æŒ‚é’Ÿåˆ†ææ¨¡å¼è®¾ä¸ºé»˜è®¤é€‰é¡¹ï¼Œå¢å¼ºäº† IntelliJ IDEA 2023.2 ä¸­çš„åˆ†æä½“éªŒã€‚ æ­¤åˆ†ææ–¹æ³•ä¼šè€ƒè™‘åœ¨æ–¹æ³•ä¸­èŠ±è´¹çš„æ€»æ—¶é—´ï¼ŒåŒ…æ‹¬ç­‰å¾…æ—¶é—´ã€‚ å®ƒä»¥æ¯«ç§’ä¸ºæµ‹é‡å•ä½ï¼Œæ˜¯æ›´å¼ºå¤§ã€æ›´ç›´è§‚çš„é€‰é¡¹ã€‚</p><h1 id="è¿è¡Œ-è°ƒè¯•"><a href="#è¿è¡Œ-è°ƒè¯•" class="headerlink" title="è¿è¡Œ&#x2F;è°ƒè¯•"></a>è¿è¡Œ&#x2F;è°ƒè¯•</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959539.png"> </p><h3 id="Reactor-Mono-å’Œ-Flux-å€¼æ±‚ç®—"><a href="#Reactor-Mono-å’Œ-Flux-å€¼æ±‚ç®—" class="headerlink" title="Reactor Mono å’Œ Flux å€¼æ±‚ç®—"></a>Reactor <code>Mono</code> å’Œ <code>Flux</code> å€¼æ±‚ç®—</h3><p>Ultimate è°ƒè¯•ååº”å¼åº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨ç°åœ¨å¯ä»¥è½»æ¾æ±‚ç®— <code>Mono</code> å’Œ <code>Flux</code> ç±»å‹çš„ç›‘è§†å’Œå±€éƒ¨å˜é‡çš„å€¼ã€‚ IDE ç°åœ¨ä¼šåœ¨è°ƒè¯•ä¼šè¯æœŸé—´è¿›è¡Œæ£€æµ‹ï¼Œå¹¶åœ¨ _Variables_ï¼ˆå˜é‡ï¼‰è§†å›¾ä¸­æä¾›ç›¸åº”çš„ <code>get</code> æˆ– <code>collectList</code> é“¾æ¥ï¼Œç‚¹å‡»å³å¯ç«‹å³è®¡ç®— Reactive Streams æ¡ç›®ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè°ƒè¯•å™¨ä¼šè·å– <code>Flux</code> çš„å‰ 100 ä¸ªæ¡ç›®ã€‚ æ‚¨å¯ä»¥åœ¨ _File | Settings | Languages &amp; Frameworks | Reactive Streams_ï¼ˆæ–‡ä»¶ | è®¾ç½® | è¯­è¨€å’Œæ¡†æ¶ | Reactive Streamsï¼‰ä¸­é…ç½®æ­¤æ•°é‡ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959545.png"> </p><h3 id="Gradleã€Maven-å’Œ-JPS-é¡¹ç›®çš„æŒç»­æµ‹è¯•"><a href="#Gradleã€Maven-å’Œ-JPS-é¡¹ç›®çš„æŒç»­æµ‹è¯•" class="headerlink" title="Gradleã€Maven å’Œ JPS é¡¹ç›®çš„æŒç»­æµ‹è¯•"></a>Gradleã€Maven å’Œ JPS é¡¹ç›®çš„æŒç»­æµ‹è¯•</h3><p>æˆ‘ä»¬æ‰©å±•äº†è‡ªåŠ¨æµ‹è¯•åŠŸèƒ½ï¼Œä½¿å…¶ä¸ Mavenã€Gradle å’Œ JPS æ„å»ºç³»ç»Ÿå®Œå…¨å…¼å®¹ã€‚ æˆ‘ä»¬è¿˜ä½¿æŒç»­æµ‹è¯•æ¨¡å¼æ›´æ˜“æ¿€æ´»ã€‚ è¦å¯ç”¨è¯¥æ¨¡å¼ï¼Œè¯·ä½¿ç”¨ _Run&#x2F;Debug_ï¼ˆè¿è¡Œ&#x2F;è°ƒè¯•ï¼‰å·¥å…·çª—å£ä¸­æ–°å¢çš„ _Rerun Automatically_ï¼ˆè‡ªåŠ¨é‡æ–°è¿è¡Œï¼‰æŒ‰é’®ã€‚ æ¯å½“æ›´æ”¹ä¿å­˜æ—¶ï¼Œæµ‹è¯•éƒ½ä¼šè‡ªåŠ¨è¿è¡Œï¼Œå¯¹ä»£ç æ›´æ–°æä¾›å³æ—¶åé¦ˆã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959903.png"> </p><h3 id="return-è¯­å¥çš„å†…è”æ–­ç‚¹"><a href="#return-è¯­å¥çš„å†…è”æ–­ç‚¹" class="headerlink" title="return è¯­å¥çš„å†…è”æ–­ç‚¹"></a>return è¯­å¥çš„å†…è”æ–­ç‚¹</h3><p>IntelliJ IDEA æä¾›äº†å¯¹ç›´æ¥åœ¨ return è¯­å¥å¤„è®¾ç½®æ–­ç‚¹çš„æ”¹è¿›æ”¯æŒï¼Œç±»ä¼¼äºå·²åœ¨ lambda è¡¨è¾¾å¼ä¸­å®ç°çš„è®¾ç½®æ–¹å¼ã€‚ è¿™ä¸€æ”¹è¿›å°†ä¸ºå¼€å‘è€…æä¾›æ›´é«˜çš„è°ƒè¯•ç²¾åº¦å’Œæ›´æ·±å…¥çš„ä»£ç åˆ†æï¼Œå¸¦æ¥æ›´æœ‰ä»·å€¼çš„ä»£ç è¡Œä¸ºå’Œè¿”å›å€¼æ´å¯Ÿã€‚ è¦è®¾ç½®å†…è”æ–­ç‚¹ï¼Œåªéœ€å³é”®ç‚¹å‡»è¯­å¥æ—è¾¹çš„è£…è®¢åŒºåŸŸå¹¶é€‰æ‹© <em>return</em> é€‰é¡¹å³å¯ã€‚</p><h1 id="ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"><a href="#ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ" class="headerlink" title="ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ"></a>ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959958.png"> </p><h3 id="æäº¤ç‰¹å®šä»£ç è¡Œçš„é€‰é¡¹"><a href="#æäº¤ç‰¹å®šä»£ç è¡Œçš„é€‰é¡¹" class="headerlink" title="æäº¤ç‰¹å®šä»£ç è¡Œçš„é€‰é¡¹"></a>æäº¤ç‰¹å®šä»£ç è¡Œçš„é€‰é¡¹</h3><p>IntelliJ IDEA 2023.2 å¼•å…¥äº†ä¸€é¡¹å¤‡å—æœŸå¾…çš„åŠŸèƒ½ï¼Œå¯ä¾›æœ‰é€‰æ‹©åœ°æäº¤ä»£ç åŒºå—çš„ç‰¹å®šéƒ¨åˆ†ã€‚ è¦æ‰§è¡Œéƒ¨åˆ†æäº¤ï¼Œè¯·é€‰æ‹©åŒºå—ä¸­çš„è¡Œï¼Œç„¶åä»ä¸Šä¸‹æ–‡èœå•ä¸­è°ƒç”¨ _Include these lines into commit_ï¼ˆå°†æ‰€é€‰è¡ŒåŒ…å«åˆ°æäº¤ä¸­ï¼‰ã€‚ åŒºå—å°†è¢«åˆ†ä¸ºå•ç‹¬çš„è¡Œï¼Œæ‰€é€‰è¡Œå°†è¢«é«˜äº®æ˜¾ç¤ºã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å¤é€‰æ¡†æˆ–ä¸Šä¸‹æ–‡èœå•åœ¨é€‰åŒºä¸­æ·»åŠ æˆ–æ’é™¤è¡Œã€‚ </p><h1 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959046.png"> </p><h3 id="è½»æ¾ç”Ÿæˆå…±äº«ç´¢å¼•çš„æ–°å·¥å…·"><a href="#è½»æ¾ç”Ÿæˆå…±äº«ç´¢å¼•çš„æ–°å·¥å…·" class="headerlink" title="è½»æ¾ç”Ÿæˆå…±äº«ç´¢å¼•çš„æ–°å·¥å…·"></a>è½»æ¾ç”Ÿæˆå…±äº«ç´¢å¼•çš„æ–°å·¥å…·</h3><p>IntelliJ IDEA 2023.2 æä¾›äº†æ–°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºå¿«é€Ÿæ„å»ºå’Œä¸Šä¼ å…±äº«ç´¢å¼•ã€‚ å®ƒæ—¨åœ¨ç®€åŒ–å›¢é˜Ÿåˆä½œå¹¶æ¶ˆé™¤æœ¬åœ°ç´¢å¼•å¤§å‹é¡¹ç›®èŠ±è´¹çš„æ—¶é—´ã€‚ æ–°å·¥å…·å°†ç®€åŒ–ä¸ºå›¢é˜Ÿç”Ÿæˆå…±äº«ç´¢å¼•çš„è¿‡ç¨‹ï¼Œåªéœ€å‡ ä¸‹ç‚¹å‡»ï¼Œæ— éœ€å¤šä¸ªè„šæœ¬å’ŒæœåŠ¡ã€‚ <a href="https://blog.jetbrains.com/idea/2023/05/intellij-idea-2023-2-eap/#Newtoolforeasilygeneratingsharedindexes">äº†è§£è¯¦æƒ…</a>ã€‚ </p><h1 id="æ¡†æ¶å’ŒæŠ€æœ¯"><a href="#æ¡†æ¶å’ŒæŠ€æœ¯" class="headerlink" title="æ¡†æ¶å’ŒæŠ€æœ¯"></a>æ¡†æ¶å’ŒæŠ€æœ¯</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959036.png"> </p><h3 id="åœ¨-WSL-ä¸Šè¿è¡Œå’Œè°ƒè¯•"><a href="#åœ¨-WSL-ä¸Šè¿è¡Œå’Œè°ƒè¯•" class="headerlink" title="åœ¨ WSL ä¸Šè¿è¡Œå’Œè°ƒè¯•"></a>åœ¨ WSL ä¸Šè¿è¡Œå’Œè°ƒè¯•</h3><p>Tomcat Ultimate ä» IntelliJ IDEA 2023.2 å¼€å§‹ï¼Œæ‚¨å¯ä»¥åœ¨é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ (WSL) ä¸Šè¿è¡Œå’Œè°ƒè¯•éƒ¨ç½²åˆ° Tomcat çš„åº”ç”¨ç¨‹åºã€‚ è¦åœ¨ WSL ä¸Šä½¿ç”¨åŸºäº Tomcat çš„åº”ç”¨ç¨‹åºï¼Œæ‚¨éœ€è¦åœ¨ <code>/etc/environment</code> æˆ– <code>~/.bashrc</code> æ–‡ä»¶ä¸­å£°æ˜ <code>JAVA_HOME</code> ç¯å¢ƒå˜é‡ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959971.png"> </p><h3 id="åœ¨-HTTP-å®¢æˆ·ç«¯ä¸­ä½¿ç”¨-TLS-å‘é€-gRPC-è¯·æ±‚"><a href="#åœ¨-HTTP-å®¢æˆ·ç«¯ä¸­ä½¿ç”¨-TLS-å‘é€-gRPC-è¯·æ±‚" class="headerlink" title="åœ¨ HTTP å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ TLS å‘é€ gRPC è¯·æ±‚"></a>åœ¨ HTTP å®¢æˆ·ç«¯ä¸­ä½¿ç”¨ TLS å‘é€ gRPC è¯·æ±‚</h3><p>Ultimate æ‚¨ç°åœ¨å¯ä»¥åœ¨ HTTP å®¢æˆ·ç«¯ä¸­é€šè¿‡ä¼ è¾“å±‚å®‰å…¨ (TLS) å‘é€ gRPC è¯·æ±‚ã€‚ TLS æä¾›åŠ å¯†å’Œèº«ä»½éªŒè¯ï¼Œç¡®ä¿æ•°æ®ä¼ è¾“çš„ä¿å¯†æ€§å’Œå®Œæ•´æ€§ã€‚ è¯·æ±‚è¯­æ³•æ”¯æŒ <code>https://</code> å’Œ <code>grpcs://</code> æ¶æ„ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959025.png"> </p><h3 id="é’ˆå¯¹-Swagger-Codegen-çš„æ”¹è¿›"><a href="#é’ˆå¯¹-Swagger-Codegen-çš„æ”¹è¿›" class="headerlink" title="é’ˆå¯¹ Swagger Codegen çš„æ”¹è¿›"></a>é’ˆå¯¹ Swagger Codegen çš„æ”¹è¿›</h3><p>Ultimate è®¾ç½® Swagger Codegen é…ç½®æ—¶ï¼ŒIDE ç°åœ¨å°†æä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ æˆ‘ä»¬é‡åšäº† _Edit Swagger Codegen Configuration_ï¼ˆç¼–è¾‘ Swagger Codegen é…ç½®ï¼‰å¯¹è¯æ¡†ï¼Œè®©æ‚¨å¯ä»¥æ›´è½»æ¾åœ°æ ¹æ®éœ€æ±‚å®šåˆ¶è¿è¡Œé…ç½®ã€‚ å¦å¤–ï¼Œæ‚¨ç°åœ¨è¿˜å¯ä»¥ç›´æ¥ä»è£…è®¢åŒºåŸŸè®¿é—® Swagger Codegen è¿è¡Œé…ç½®ï¼Œæ— éœ€æŒ‡å®šé¢å¤–è®¾ç½®ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959353.png"></p><h3 id="HTTP-å®¢æˆ·ç«¯ä¸­å¯¹-Swagger-å’Œ-OpenAPI-æ¶æ„çš„æ”¯æŒ"><a href="#HTTP-å®¢æˆ·ç«¯ä¸­å¯¹-Swagger-å’Œ-OpenAPI-æ¶æ„çš„æ”¯æŒ" class="headerlink" title="HTTP å®¢æˆ·ç«¯ä¸­å¯¹ Swagger å’Œ OpenAPI æ¶æ„çš„æ”¯æŒ"></a>HTTP å®¢æˆ·ç«¯ä¸­å¯¹ Swagger å’Œ OpenAPI æ¶æ„çš„æ”¯æŒ</h3><p>Ultimate HTTP å®¢æˆ·ç«¯ç°åœ¨èƒ½å¤Ÿç†è§£ Swagger å’Œ OpenAPI è§„èŒƒï¼Œå¹¶ä¸º JSON è¯·æ±‚æ­£æ–‡æä¾›ç›¸åº”çš„ä»£ç è¡¥å…¨é€‰é¡¹ã€‚ <a href="https://www.jetbrains.com.cn/idea/whatsnew/2023-2/img/Redoc_UI_previews_for_OpenAPI_and_Swagger_files.png"><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959537.png"> </a> </p><h3 id="OpenAPI-å’Œ-Swagger-æ–‡ä»¶çš„-Redoc-UI-é¢„è§ˆ"><a href="#OpenAPI-å’Œ-Swagger-æ–‡ä»¶çš„-Redoc-UI-é¢„è§ˆ" class="headerlink" title="OpenAPI å’Œ Swagger æ–‡ä»¶çš„ Redoc UI é¢„è§ˆ"></a>OpenAPI å’Œ Swagger æ–‡ä»¶çš„ Redoc UI é¢„è§ˆ</h3><p>Ultimate IntelliJ IDEA ç°å·²æ”¯æŒ OpenAPI å’Œ Swagger è§„èŒƒæ–‡ä»¶ï¼ˆåŒ…æ‹¬ YAML å’Œ JSON æ–‡ä»¶ï¼‰çš„ <a href="https://redocly.com/">Redoc UI</a> é¢„è§ˆï¼Œå…è®¸æ‚¨åœ¨ IDE å†…çš„ Redoc å’Œ Swagger UI ä¹‹é—´åˆ‡æ¢ã€‚ é€šè¿‡ Redocly é›†æˆï¼Œæ‚¨å¯ä»¥ä» IntelliJ IDEA ä¸­è®¿é—® <em>Try it</em> æ§åˆ¶å°ï¼Œä½¿ç”¨å®ƒè®¾ç½®å‚æ•°å¹¶å‘ API å‘é€è¯·æ±‚ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959485.png"></p><h3 id="JavaScript-ä¸­çš„-JSON-æ­£æ–‡è¡¥å…¨"><a href="#JavaScript-ä¸­çš„-JSON-æ­£æ–‡è¡¥å…¨" class="headerlink" title="JavaScript ä¸­çš„ JSON æ­£æ–‡è¡¥å…¨"></a>JavaScript ä¸­çš„ JSON æ­£æ–‡è¡¥å…¨</h3><p>Ultimate IDE ç°åœ¨ä¸º JavaScript ä»£ç ä¸­çš„ JSON å¯¹è±¡é”®æä¾›è¡¥å…¨ï¼Œä¾‹å¦‚ä½¿ç”¨ <code>fetch()</code> è°ƒç”¨æˆ–å¼•ç”¨ Axios åº“çš„ä»£ç ã€‚ Spring MVC æœåŠ¡å™¨ç«¯ç‚¹ç°å·²å¾—åˆ°æ”¯æŒï¼Œæœªæ¥å°†æœ‰æ›´å¤šæœåŠ¡å™¨æ¡†æ¶åŠ å…¥æ”¯æŒåˆ—è¡¨ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959552.png"> ###  HTTP å®¢æˆ·ç«¯ä¸­å¯¹ JavaScript å¯¼å…¥çš„æ”¯æŒ Ultimate åœ¨ IntelliJ IDEA 2023.2 ä¸­ï¼Œç°åœ¨å¯ä»¥é€šè¿‡å¯¼å…¥çš„æ¨¡å—å…±äº« HTTP å®¢æˆ·ç«¯è¯·æ±‚å¤„ç†ç¨‹åºçš„é€šç”¨ JavaScript ä»£ç ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959618.png"> </p><h3 id="HTTP-å®¢æˆ·ç«¯ä¸­å“åº”çš„-PDF-å’Œ-HTML-é¢„è§ˆ"><a href="#HTTP-å®¢æˆ·ç«¯ä¸­å“åº”çš„-PDF-å’Œ-HTML-é¢„è§ˆ" class="headerlink" title="HTTP å®¢æˆ·ç«¯ä¸­å“åº”çš„ PDF å’Œ HTML é¢„è§ˆ"></a>HTTP å®¢æˆ·ç«¯ä¸­å“åº”çš„ PDF å’Œ HTML é¢„è§ˆ</h3><p>Ultimate IntelliJ IDEA ç°åœ¨èƒ½å¤Ÿåœ¨ HTTP å®¢æˆ·ç«¯çš„è¯·æ±‚ç»“æœä¸­æ˜¾ç¤º PDF å’Œ HTML æ–‡ä»¶çš„é¢„è§ˆã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959614.png"> </p><h3 id="HTTP-å®¢æˆ·ç«¯-CLI-ä¸­å¯¹-GraphQL-å’Œ-WebSocket-çš„æ”¯æŒ"><a href="#HTTP-å®¢æˆ·ç«¯-CLI-ä¸­å¯¹-GraphQL-å’Œ-WebSocket-çš„æ”¯æŒ" class="headerlink" title="HTTP å®¢æˆ·ç«¯ CLI ä¸­å¯¹ GraphQL å’Œ WebSocket çš„æ”¯æŒ"></a>HTTP å®¢æˆ·ç«¯ CLI ä¸­å¯¹ GraphQL å’Œ WebSocket çš„æ”¯æŒ</h3><p>Ultimate æ‚¨ç°åœ¨å¯ä»¥åœ¨ IntelliJ IDEA ä¸­ä½¿ç”¨ <a href="https://blog.jetbrains.com/idea/2022/12/http-client-cli-run-requests-and-tests-on-ci/">HTTP å®¢æˆ·ç«¯ CLI</a> ä¸ GraphQL API äº¤äº’ï¼Œå¹¶ä¸æœåŠ¡å»ºç«‹ WebSocket è¿æ¥ï¼Œç”¨äºæµ‹è¯•æˆ–è‡ªåŠ¨åŒ–è„šæœ¬ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959658.png"> </p><h3 id="VM-options-ï¼ˆè™šæ‹Ÿæœºé€‰é¡¹ï¼‰ä¸­-Spring-Boot-é…ç½®é”®çš„è‡ªåŠ¨è¡¥å…¨"><a href="#VM-options-ï¼ˆè™šæ‹Ÿæœºé€‰é¡¹ï¼‰ä¸­-Spring-Boot-é…ç½®é”®çš„è‡ªåŠ¨è¡¥å…¨" class="headerlink" title="_VM options_ï¼ˆè™šæ‹Ÿæœºé€‰é¡¹ï¼‰ä¸­ Spring Boot é…ç½®é”®çš„è‡ªåŠ¨è¡¥å…¨"></a>_VM options_ï¼ˆè™šæ‹Ÿæœºé€‰é¡¹ï¼‰ä¸­ Spring Boot é…ç½®é”®çš„è‡ªåŠ¨è¡¥å…¨</h3><p>Ultimate è®¾ç½®æ–°çš„ Spring Boot è¿è¡Œé…ç½®æ—¶ï¼Œ_VM options_ï¼ˆè™šæ‹Ÿæœºé€‰é¡¹ï¼‰å­—æ®µä¸º <code>-D</code> æ ‡å¿—åé¢å‡ºç°çš„é”®æä¾›è‡ªåŠ¨è¡¥å…¨é€‰é¡¹ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959859.png"> </p><h3 id="Spring-é…ç½®-Bean-ä¸å†éœ€è¦æ³¨è§£å¤„ç†å™¨"><a href="#Spring-é…ç½®-Bean-ä¸å†éœ€è¦æ³¨è§£å¤„ç†å™¨" class="headerlink" title="Spring é…ç½® Bean ä¸å†éœ€è¦æ³¨è§£å¤„ç†å™¨"></a>Spring é…ç½® Bean ä¸å†éœ€è¦æ³¨è§£å¤„ç†å™¨</h3><p>Ultimate æˆ‘ä»¬ç®€åŒ–äº†åœ¨ IntelliJ IDEA ä¸­ä½¿ç”¨ Spring çš„è‡ªå®šä¹‰é…ç½® Bean æ—¶çš„ç”¨æˆ·ä½“éªŒã€‚ IDE ç°åœ¨ä¼šåœ¨å±æ€§å’Œ YAML é…ç½®æ–‡ä»¶ä¸­æä¾›ä»£ç è¡¥å…¨å’ŒéªŒè¯ï¼Œæ— éœ€è®¾ç½® Spring Boot é…ç½®æ³¨è§£å¤„ç†å™¨ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959914.png"></p><h3 id="Kotlin-ä¸­å¯¹-Spring-AOP-çš„æ”¯æŒ"><a href="#Kotlin-ä¸­å¯¹-Spring-AOP-çš„æ”¯æŒ" class="headerlink" title="Kotlin ä¸­å¯¹ Spring AOP çš„æ”¯æŒ"></a>Kotlin ä¸­å¯¹ Spring AOP çš„æ”¯æŒ</h3><p>Ultimate æˆ‘ä»¬æ‰©å±•äº† IntelliJ IDEA å¯¹åœ¨ Spring åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ AspectJ çš„æ”¯æŒã€‚ IDE ç°åœ¨å¯ä¸º Kotlin ä»£ç æä¾›åˆ†æå’Œè¡¥å…¨ï¼Œæ­¤å‰å·²ç»ä¸º Java ä»£ç æä¾›ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959945.png"> </p><h3 id="é’ˆå¯¹æ£€æµ‹-YAML-æ–‡ä»¶ä¸­ä¸åŒ¹é…å€¼ç±»å‹çš„æ–°æ£€æŸ¥"><a href="#é’ˆå¯¹æ£€æµ‹-YAML-æ–‡ä»¶ä¸­ä¸åŒ¹é…å€¼ç±»å‹çš„æ–°æ£€æŸ¥" class="headerlink" title="é’ˆå¯¹æ£€æµ‹ YAML æ–‡ä»¶ä¸­ä¸åŒ¹é…å€¼ç±»å‹çš„æ–°æ£€æŸ¥"></a>é’ˆå¯¹æ£€æµ‹ YAML æ–‡ä»¶ä¸­ä¸åŒ¹é…å€¼ç±»å‹çš„æ–°æ£€æŸ¥</h3><p>Ultimate åœ¨ IntelliJ IDEA 2023.2 ä¸­ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€é¡¹æ–°æ£€æŸ¥ï¼Œæ—¨åœ¨æ¶ˆé™¤ <a href="https://hitchdev.com/strictyaml/why/implicit-typing-removed/">Norway Problem</a> å¹¶é˜²æ­¢å¯¹ YAML æ–‡ä»¶ä¸­å¸ƒå°”å€¼çš„æ„å¤–è¯¯è§£ã€‚ å½“åˆ—è¡¨ä¸»è¦ç”±å­—ç¬¦ä¸²ç»„æˆä½†åŒ…å«å¸ƒå°”å¼æ–‡å­—æ—¶ï¼ŒIntelliJ IDEA å°†é«˜äº®æ˜¾ç¤ºæ­¤æ–‡å­—ï¼ŒæŒ‡ç¤ºæ½œåœ¨çš„ä¸ä¸€è‡´ï¼Œå¹¶å»ºè®®ä¸ºå…¶æ·»åŠ å¼•å·ã€‚ å¦‚æœåˆ—è¡¨ä¸»è¦ç”±å¸ƒå°”å¼æ–‡å­—ï¼ˆä¾‹å¦‚ <code>true</code>ã€<code>false</code>ã€<code>off</code>ã€<code>on</code>ã€<code>yes</code> æˆ– <code>no</code>ï¼‰ç»„æˆï¼Œåˆ™åç¦»æ­¤æ¨¡å¼çš„ä»»ä½•æ–‡å­—éƒ½å°†è¢«é«˜äº®æ˜¾ç¤ºä¸ºå¯èƒ½çš„é”™è¯¯ï¼Œä¸è¿‡ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¸ä¼šå»ºè®®å…·ä½“çš„å¿«é€Ÿä¿®å¤ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959056.png"> </p><h3 id="å¯¹ç¼–è¾‘-AsyncAPI-æ–‡ä»¶çš„æ”¯æŒ"><a href="#å¯¹ç¼–è¾‘-AsyncAPI-æ–‡ä»¶çš„æ”¯æŒ" class="headerlink" title="å¯¹ç¼–è¾‘ AsyncAPI æ–‡ä»¶çš„æ”¯æŒ"></a>å¯¹ç¼–è¾‘ AsyncAPI æ–‡ä»¶çš„æ”¯æŒ</h3><p>Ultimate ç°åœ¨ï¼Œåœ¨ IntelliJ IDEA ä¸­ä½¿ç”¨ AsyncAPI è§„èŒƒæ ¼å¼æ›´åŠ ç®€å•ã€‚ IDE æ”¯æŒæ¶æ„éªŒè¯åŠŸèƒ½ï¼Œå¹¶ä¸ºå¼•ç”¨ã€_Endpoints_ï¼ˆç«¯ç‚¹ï¼‰è§†å›¾å’Œ _Editor Preview_ï¼ˆç¼–è¾‘å™¨é¢„è§ˆï¼‰çª—æ ¼æä¾›äº†ä»£ç è¡¥å…¨ã€‚ </p><h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959064.png"> </p><h3 id="åœ¨-Docker-é•œåƒå±‚å†…é¢„è§ˆæ–‡ä»¶"><a href="#åœ¨-Docker-é•œåƒå±‚å†…é¢„è§ˆæ–‡ä»¶" class="headerlink" title="åœ¨ Docker é•œåƒå±‚å†…é¢„è§ˆæ–‡ä»¶"></a>åœ¨ Docker é•œåƒå±‚å†…é¢„è§ˆæ–‡ä»¶</h3><p>ç°åœ¨å¯ä»¥åœ¨ _Services_ï¼ˆæœåŠ¡ï¼‰å·¥å…·çª—å£ä¸­è½»æ¾è®¿é—®å’Œé¢„è§ˆ Docker é•œåƒå±‚çš„å†…å®¹ã€‚ ä»åˆ—è¡¨é€‰æ‹©é•œåƒï¼Œé€‰æ‹© _Show layers_ï¼ˆæ˜¾ç¤ºå±‚ï¼‰ï¼Œç„¶åç‚¹å‡» _Analyze image for more information_ï¼ˆåˆ†æé•œåƒä»¥è·å¾—æ›´å¤šä¿¡æ¯ï¼‰ã€‚ è¿™å°†æ‰“å¼€å±‚ä¸­å­˜å‚¨çš„æ–‡ä»¶åˆ—è¡¨ï¼Œæ‚¨å¯ä»¥å³é”®ç‚¹å‡»æ–‡ä»¶ï¼Œç„¶åç‚¹å‡» _Open File_ï¼ˆæ‰“å¼€æ–‡ä»¶ï¼‰ï¼ˆå¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåˆ™ä¸º _Download File_ï¼ˆä¸‹è½½æ–‡ä»¶ï¼‰ï¼‰ï¼Œåœ¨ç¼–è¾‘å™¨ä¸­è½»æ¾æ‰“å¼€æ‰€é€‰æ–‡ä»¶ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959981.png"></p><h3 id="å°†-Docker-å®¹å™¨è®¾ä¸ºä½œä¸ºè¿è¡Œé…ç½®çš„-Before-Launch-ï¼ˆå¯åŠ¨å‰ï¼‰ä»»åŠ¡è¿è¡Œ"><a href="#å°†-Docker-å®¹å™¨è®¾ä¸ºä½œä¸ºè¿è¡Œé…ç½®çš„-Before-Launch-ï¼ˆå¯åŠ¨å‰ï¼‰ä»»åŠ¡è¿è¡Œ" class="headerlink" title="å°† Docker å®¹å™¨è®¾ä¸ºä½œä¸ºè¿è¡Œé…ç½®çš„ _Before Launch_ï¼ˆå¯åŠ¨å‰ï¼‰ä»»åŠ¡è¿è¡Œ"></a>å°† Docker å®¹å™¨è®¾ä¸ºä½œä¸ºè¿è¡Œé…ç½®çš„ _Before Launch_ï¼ˆå¯åŠ¨å‰ï¼‰ä»»åŠ¡è¿è¡Œ</h3><p>ç°åœ¨ï¼Œå¯ä»¥å°† Docker è¿è¡Œé…ç½®æŒ‡å®šä¸º _Before Launch_ï¼ˆå¯åŠ¨å‰ï¼‰ä»»åŠ¡ï¼Œä»è€Œåœ¨å¦ä¸€ä¸ªé…ç½®ä¹‹å‰è¿è¡Œã€‚ IDE å°†ç­‰å¾…å½“å‰è¿è¡Œçš„å®¹å™¨æ¢å¤æ­£å¸¸ï¼Œç„¶åå†å¯åŠ¨ä¸‹ä¸€ä¸ªè¿è¡Œé…ç½®ã€‚ è¦å°† Docker è¿è¡Œé…ç½®æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œé¦–å…ˆåˆ›å»ºé…ç½®ï¼Œç„¶åé€šè¿‡ _Modify options | Add before launch task | Run configuration_ï¼ˆä¿®æ”¹é€‰é¡¹ | æ·»åŠ å¯åŠ¨å‰ä»»åŠ¡ | è¿è¡Œé…ç½®ï¼‰å°†å…¶æ·»åŠ åˆ°ç›¸å…³å®¹å™¨ä¸­ã€‚ </p><h1 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959225.png"></p><h3 id="å¯¹å•ä¸ªé¡¹ç›®ä¸­å¤šä¸ª-kubeconfig-æ–‡ä»¶çš„æ”¯æŒ"><a href="#å¯¹å•ä¸ªé¡¹ç›®ä¸­å¤šä¸ª-kubeconfig-æ–‡ä»¶çš„æ”¯æŒ" class="headerlink" title="å¯¹å•ä¸ªé¡¹ç›®ä¸­å¤šä¸ª kubeconfig æ–‡ä»¶çš„æ”¯æŒ"></a>å¯¹å•ä¸ªé¡¹ç›®ä¸­å¤šä¸ª kubeconfig æ–‡ä»¶çš„æ”¯æŒ</h3><p>Ultimate è¿™é¡¹æ–°å¼•å…¥çš„åŠŸèƒ½å…è®¸æ‚¨åœ¨å•ä¸ªé¡¹ç›®ä¸­è®¾ç½®å¤šä¸ª kubeconfig æ–‡ä»¶ã€‚ è¿™ç®€åŒ–äº†å¤„ç†å¤šä¸ªé›†ç¾¤æˆ–åœ¨åŒä¸€é¡¹ç›®ä¸­çš„ä¸åŒé›†ç¾¤ä¸Šä½¿ç”¨ç¯å¢ƒçš„ä½“éªŒã€‚ è½¬åˆ° _File | Settings | Build, Execution, Deployment | Kubernetes_ï¼ˆæ–‡ä»¶ | è®¾ç½® | æ„å»ºã€æ‰§è¡Œã€éƒ¨ç½² | Kubernetesï¼‰å³å¯è®¾ç½®æ–‡ä»¶ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959309.png"></p><h3 id="æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—"><a href="#æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—" class="headerlink" title="æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—"></a>æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—</h3><p>Ultimate ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ _Services_ï¼ˆæœåŠ¡ï¼‰å·¥å…·çª—å£ä¸­æŸ¥çœ‹ Kubernetes é›†ç¾¤ä¸­çš„éƒ¨ç½²æ—¥å¿—ã€‚ å³é”®ç‚¹å‡»æ ‘ä¸­çš„ _Deployment_ï¼ˆéƒ¨ç½²ï¼‰ï¼Œç„¶åä»ä¸Šä¸‹æ–‡èœå•ä¸­é€‰æ‹© _Follow Log_ï¼ˆå…³æ³¨æ—¥å¿—ï¼‰æˆ– _Download Log_ï¼ˆä¸‹è½½æ—¥å¿—ï¼‰ã€‚ </p><h1 id="Web-å¼€å‘"><a href="#Web-å¼€å‘" class="headerlink" title="Web å¼€å‘"></a>Web å¼€å‘</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959321.png"> </p><h3 id="é’ˆå¯¹-JavaScript-å’Œ-TypeScript-æ”¹è¿›äº†é”™è¯¯æ ¼å¼è®¾ç½®"><a href="#é’ˆå¯¹-JavaScript-å’Œ-TypeScript-æ”¹è¿›äº†é”™è¯¯æ ¼å¼è®¾ç½®" class="headerlink" title="é’ˆå¯¹ JavaScript å’Œ TypeScript æ”¹è¿›äº†é”™è¯¯æ ¼å¼è®¾ç½®"></a>é’ˆå¯¹ JavaScript å’Œ TypeScript æ”¹è¿›äº†é”™è¯¯æ ¼å¼è®¾ç½®</h3><p>Ultimate æˆ‘ä»¬åœ¨ IntelliJ IDEA 2023.2 ä¸­å…³æ³¨å¦‚ä½•æ”¹è¿›å‘ˆç° JavaScript å’Œ TypeScript ä¸­ç±»å‹é”™è¯¯çš„æ–¹å¼ã€‚ ç°åœ¨ï¼Œæ‚¨çš„é”™è¯¯å’Œè­¦å‘Šå°†ä»¥å¯è¯»æ€§æ›´é«˜çš„æ–¹å¼æ ¼å¼åŒ–ï¼Œä½¿ä»£ç ä¸­çš„é—®é¢˜æ›´æ˜“å‘ç°ã€‚ è¿™é€‚ç”¨äºæ‰€æœ‰ TypeScript å’Œä¸€äº›æœ€å¸¸è§çš„ JavaScript é”™è¯¯ï¼Œç”šè‡³åŒ…æ‹¬æœ¬åœ°åŒ–åçš„é”™è¯¯ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959371.png"> </p><h3 id="CSS-åµŒå¥—æ”¯æŒ"><a href="#CSS-åµŒå¥—æ”¯æŒ" class="headerlink" title="CSS åµŒå¥—æ”¯æŒ"></a>CSS åµŒå¥—æ”¯æŒ</h3><p>Ultimate IntelliJ IDEA 2023.2 ç°åœ¨æ”¯æŒ <a href="https://www.w3.org/TR/css-nesting-1/">CSS åµŒå¥—</a>ã€‚ æˆ‘ä»¬å®ç°äº†è¯­æ³•æ”¯æŒå’Œæ£€æŸ¥ï¼Œæ–°æ£€æŸ¥ä¼šåœ¨åµŒå¥—é€‰æ‹©å™¨ä»¥æ ‡è¯†ç¬¦æˆ–å‡½æ•°ç¬¦å·å¼€å¤´æ—¶å‘å‡ºæé†’ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959418.png"> </p><h3 id="Vue-è¯­è¨€æœåŠ¡å™¨æ”¯æŒ"><a href="#Vue-è¯­è¨€æœåŠ¡å™¨æ”¯æŒ" class="headerlink" title="Vue è¯­è¨€æœåŠ¡å™¨æ”¯æŒ"></a>Vue è¯­è¨€æœåŠ¡å™¨æ”¯æŒ</h3><p>Ultimate Vue è¯­è¨€æœåŠ¡å™¨ï¼ˆVLSï¼Œåˆç§° Volarï¼‰æ”¯æŒå¯åœ¨å¿«é€Ÿå¯¼èˆªå’Œæ–‡æ¡£å¼¹å‡ºçª—å£ä¸­æä¾›æ›´å‡†ç¡®çš„é”™è¯¯æ£€æµ‹å’Œæ›´å¥½çš„ç±»å‹ä¿¡æ¯ã€‚ VLS é»˜è®¤å°†ç”¨äº TypeScript v5.0 åŠæ›´é«˜ç‰ˆæœ¬ï¼ŒTypeScript æœåŠ¡çš„åŒ…è£…å™¨å°†ç”¨äºæ›´ä½ç‰ˆæœ¬çš„ TypeScriptã€‚ åœ¨ _Settings | Languages &amp; Frameworks | TypeScript | Vue_ï¼ˆè®¾ç½® | è¯­è¨€å’Œæ¡†æ¶ | TypeScript | Vueï¼‰ä¸‹ï¼Œæ‚¨å¯ä»¥å°† Vue æœåŠ¡è®¾ç½®ä¸ºåœ¨æ‰€æœ‰ TypeScript ç‰ˆæœ¬ä¸Šä½¿ç”¨ VLS é›†æˆã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959448.png"> </p><h3 id="é€‚ç”¨äº-React-æŒ‚é’©çš„æ–°å®æ—¶æ¨¡æ¿"><a href="#é€‚ç”¨äº-React-æŒ‚é’©çš„æ–°å®æ—¶æ¨¡æ¿" class="headerlink" title="é€‚ç”¨äº React æŒ‚é’©çš„æ–°å®æ—¶æ¨¡æ¿"></a>é€‚ç”¨äº React æŒ‚é’©çš„æ–°å®æ—¶æ¨¡æ¿</h3><p>Ultimate æˆ‘ä»¬åœ¨ _Settings | Editor | Live Templates | React hooks_ï¼ˆè®¾ç½® | ç¼–è¾‘å™¨ | å®æ—¶æ¨¡æ¿ | React æŒ‚é’©ï¼‰ä¸‹ä¸º React æŒ‚é’©æ·»åŠ äº†ä¸€ç»„æ–°çš„å®æ—¶æ¨¡æ¿ã€‚ è¦ä½¿ç”¨å®æ—¶æ¨¡æ¿ï¼Œé¦–å…ˆåœ¨ç¼–è¾‘å™¨ä¸­è¾“å…¥ç¼©å†™ï¼Œç„¶åæŒ‰ <em>Tab</em> å°†å…¶å±•å¼€ã€‚ </p><h1 id="ä»£ç è´¨é‡å·¥ä½œæµ"><a href="#ä»£ç è´¨é‡å·¥ä½œæµ" class="headerlink" title="ä»£ç è´¨é‡å·¥ä½œæµ"></a>ä»£ç è´¨é‡å·¥ä½œæµ</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959591.png"> </p><h3 id="æ†ç»‘äº†-Qodana-ä»£ç è´¨é‡å¹³å°"><a href="#æ†ç»‘äº†-Qodana-ä»£ç è´¨é‡å¹³å°" class="headerlink" title="æ†ç»‘äº† Qodana ä»£ç è´¨é‡å¹³å°"></a>æ†ç»‘äº† Qodana ä»£ç è´¨é‡å¹³å°</h3><p>é€šè¿‡å®Œå…¨é›†æˆæˆ‘ä»¬æ—¨åœ¨é€‚åº”ä»»ä½• CI&#x2F;CD ç®¡é“çš„æ™ºèƒ½é™æ€åˆ†æå¼•æ“ <a href="https://www.jetbrains.com.cn/qodana/?utm_campaign=idea_x_qodana&utm_medium=referral&utm_source=whatsnew">JetBrains Qodana</a>ï¼ŒIntelliJ IDEA 2023.2 ç®€åŒ–äº†é™æ€åˆ†æå·¥å…·çš„é…ç½®ã€‚ è¿™ä¸€é›†æˆå…·å¤‡ä¸¤å¤§é‡è¦ä¼˜åŠ¿ã€‚ é¦–å…ˆï¼Œç®€å•çš„é…ç½®è®©æ‚¨åªéœ€ç‚¹å‡»å‡ ä¸‹å³å¯è§¦å‘åˆ†æã€æŸ¥çœ‹é¡¹ç›®çº§é—®é¢˜ï¼Œä»¥åŠåœ¨é¦–é€‰ CI&#x2F;CD ç³»ç»Ÿä¸­è®¾ç½®è´¨é‡é—¨ã€‚ å…¶æ¬¡ï¼Œæ‚¨ç°åœ¨æ— éœ€ç¦»å¼€ IDE å³å¯ç›´æ¥æŸ¥çœ‹æœåŠ¡å™¨ç«¯åˆ†æç»“æœã€‚ åœ¨è¿™ç¯‡<a href="https://blog.jetbrains.com/qodana/2023/07/qodana-is-out-of-preview-with-first-class-jetbrains-ide-integration/">åšæ–‡</a>ä¸­è¯¦ç»†äº†è§£ Qodana åŠå…¶æœ€æ–°ç‰ˆæœ¬ã€‚ </p><h1 id="æ•°æ®åº“å·¥å…·"><a href="#æ•°æ®åº“å·¥å…·" class="headerlink" title="æ•°æ®åº“å·¥å…·"></a>æ•°æ®åº“å·¥å…·</h1><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959039.png"> </p><h3 id="Redis-Cluster-æ”¯æŒ"><a href="#Redis-Cluster-æ”¯æŒ" class="headerlink" title="Redis Cluster æ”¯æŒ"></a>Redis Cluster æ”¯æŒ</h3><p>Ultimate æ‚¨ç°åœ¨å¯ä»¥è¿æ¥åˆ° Redis Cluster å¹¶æ‹¥æœ‰ä¸ç‹¬ç«‹ Redis ç›¸åŒçš„åŠŸèƒ½é›†ã€‚ è¿æ¥åˆ°é›†ç¾¤æ—¶ï¼Œå¿…é¡»åœ¨æ‰€éœ€ URL ä¹‹å‰è¾“å…¥ <code>jdbc:redis:cluster:</code>ã€‚ ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦é€‰æ‹©é€‚å½“çš„è¿æ¥ç±»å‹ã€‚ å¦‚æœè¿æ¥åˆ°é›†ç¾¤éœ€è¦ SSH éš§é“ï¼Œåº”åœ¨ URL ä¸­æŒ‡æ˜é›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„ä¸»æœºå’Œç«¯å£ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959076.png"> </p><h3 id="æ¶æ„è¿ç§»å¯¹è¯æ¡†çš„æ–°-UI"><a href="#æ¶æ„è¿ç§»å¯¹è¯æ¡†çš„æ–°-UI" class="headerlink" title="æ¶æ„è¿ç§»å¯¹è¯æ¡†çš„æ–° UI"></a>æ¶æ„è¿ç§»å¯¹è¯æ¡†çš„æ–° UI</h3><p>Ultimate åœ¨ v2023.2 ä¸­ï¼Œæˆ‘ä»¬é‡åšäº†æ¶æ„è¿ç§»åŠŸèƒ½ã€‚ ä¸»è¦åŒºåˆ«åœ¨äºï¼ŒåŒä¸€ä¸ªå¯¹è±¡ç°åœ¨ä½äºå¯¹è¯æ¡†ä¸¤ä¸ªéƒ¨åˆ†çš„åŒä¸€è¡Œä¸Šï¼Œä»è€Œæ›´æ¸…æ™°åœ°æ˜¾ç¤ºå°†åœ¨ç›®æ ‡æ¶æ„ä¸­æ·»åŠ ã€ç§»é™¤æˆ–æ›´æ”¹çš„å¯¹è±¡ã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959109.png"> </p><h3 id="æ•°æ®ç¼–è¾‘å™¨çš„-Time-zone-ï¼ˆæ—¶åŒºï¼‰è®¾ç½®"><a href="#æ•°æ®ç¼–è¾‘å™¨çš„-Time-zone-ï¼ˆæ—¶åŒºï¼‰è®¾ç½®" class="headerlink" title="æ•°æ®ç¼–è¾‘å™¨çš„ _Time zone_ï¼ˆæ—¶åŒºï¼‰è®¾ç½®"></a>æ•°æ®ç¼–è¾‘å™¨çš„ _Time zone_ï¼ˆæ—¶åŒºï¼‰è®¾ç½®</h3><p>Ultimate _Data Editor and Viewer_ï¼ˆæ•°æ®ç¼–è¾‘å™¨å’ŒæŸ¥çœ‹å™¨ï¼‰è®¾ç½®é¡µé¢æ–°å¢äº† _Time zone_ï¼ˆæ—¶åŒºï¼‰å­—æ®µï¼Œç”¨äºè®¾ç½®æ˜¾ç¤º <code>datetime</code> å€¼çš„æ—¶åŒºã€‚ <img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308051959129.png"> </p><h3 id="å¯¹-Redshift-ä¸­å¤–éƒ¨æ•°æ®åº“å’Œæ•°æ®å…±äº«çš„æ”¯æŒ"><a href="#å¯¹-Redshift-ä¸­å¤–éƒ¨æ•°æ®åº“å’Œæ•°æ®å…±äº«çš„æ”¯æŒ" class="headerlink" title="å¯¹ Redshift ä¸­å¤–éƒ¨æ•°æ®åº“å’Œæ•°æ®å…±äº«çš„æ”¯æŒ"></a>å¯¹ Redshift ä¸­å¤–éƒ¨æ•°æ®åº“å’Œæ•°æ®å…±äº«çš„æ”¯æŒ</h3><p>Ultimate ç°åœ¨ï¼Œå…±äº«æ•°æ®åº“åŠå…¶å†…å®¹å‡ä¼šå†…çœã€‚ åˆ›å»ºè¿™äº›æ•°æ®åº“çš„æ•°æ®å…±äº«ä¹Ÿä¼šå†…çœã€‚ </p><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><ul><li>åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬ä¸ºæƒ³è¦åœ¨ IDE ä¸­ä½¿ç”¨ç‰¹å®š LSP æœåŠ¡å™¨æä¾›ç¼–ç è¾…åŠ©çš„æ’ä»¶å¼€å‘è€…å¼•å…¥äº† LSP APIã€‚ å¦‚æœæ‚¨å·²ç»åˆ›å»ºäº†è‡ªå·±çš„ç¼–ç¨‹è¯­è¨€æˆ–æ¡†æ¶ï¼Œåˆ™å¯ä»¥åˆ›å»º LSP æœåŠ¡å™¨å’Œæ’ä»¶ä»¥åœ¨ IDE ä¸­è·å¾—æ”¯æŒã€‚ è¯·æ³¨æ„ï¼Œæ­¤åŠŸèƒ½ä»…åœ¨ IDE çš„ä»˜è´¹ç‰ˆæœ¬ä¸­å¯ç”¨ã€‚ <a href="https://blog.jetbrains.com/platform/2023/07/lsp-for-plugin-developers/">äº†è§£è¯¦æƒ…</a>ã€‚ </li><li>æˆ‘ä»¬åˆ†è§£äº† <a href="https://plugins.jetbrains.com/plugin/12494-big-data-tools">Big Data Tools</a> æ’ä»¶ï¼Œå…è®¸å•ç‹¬ä½¿ç”¨å…¶å„ä¸ªéƒ¨åˆ†ã€‚ è¿™è®© IntelliJ IDEA å¾—åˆ°å…­ä¸ªæ–°æ’ä»¶ï¼š<a href="https://plugins.jetbrains.com/plugin/21704-kafka">Kafka</a>ã€<a href="https://plugins.jetbrains.com/plugin/21700-spark">Spark</a>ã€<a href="https://plugins.jetbrains.com/plugin/21702-flink">Flink</a>ã€<a href="https://plugins.jetbrains.com/plugin/21706-remote-file-systems">Remote File Systems</a>ã€<a href="https://plugins.jetbrains.com/plugin/21701-big-data-file-viewer">Big Data File Viewer</a> å’Œ <a href="https://plugins.jetbrains.com/plugin/21673-zeppelin">Zeppelin</a>ã€‚ å¦‚æœæ‚¨éœ€è¦å…¨éƒ¨å…­ä¸ªæ’ä»¶ï¼Œä»ç„¶å¯ä»¥ä¸€é”®å®‰è£… Big Data Tools æ’ä»¶ã€‚ </li><li><pre><code> IntelliJ IDEA æ†ç»‘çš„ Android æ’ä»¶ç°åœ¨æä¾› Android Studio Giraffe Beta 2 çš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¯¹ Android Gradle Plugin (AGP) 8.0.0 çš„æ”¯æŒã€‚ è¯·æ³¨æ„ï¼Œæ­¤æ”¯æŒä¸åŒ…æ‹¬éœ€è¦ç™»å½• Firebase å¸å·çš„åŠŸèƒ½ã€‚ </code></pre></li><li><pre><code>    ä» 2023.2 å¼€å§‹ï¼Œæœ€å¤§å †å¤§å° (-Xmx) çš„é»˜è®¤å€¼å·²æ›´æ”¹ä¸º 2 GBã€‚</code></pre></li></ul><p>ï¿½å€¼å·²æ›´æ”¹ä¸º 2 GBã€‚</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> æ›´æ–°æ—¥å¿— </category>
          
      </categories>
      
      
        <tags>
            
            <tag> IDEA </tag>
            
            <tag> æ›´æ–°æ—¥å¿— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github Pagesè‡ªå®šä¹‰åŸŸå</title>
      <link href="/eef35e86.html"/>
      <url>/eef35e86.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="Github-Pagesè‡ªå®šä¹‰åŸŸå"><a href="#Github-Pagesè‡ªå®šä¹‰åŸŸå" class="headerlink" title="Github Pagesè‡ªå®šä¹‰åŸŸå"></a>Github Pagesè‡ªå®šä¹‰åŸŸå</h1><p>å½“ä½ æƒ³åœ¨ç½‘ä¸Šå‘å¸ƒå†…å®¹æ—¶ï¼Œé…ç½®Github Pagesæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚å¦‚æœä½ æƒ³è¦åœ¨è‡ªå·±çš„åŸŸåä¸Šå‘å¸ƒï¼Œä½ å¯ä»¥ä½¿ç”¨Github Pagesæ¥åˆ›å»ºè‡ªå·±çš„ç½‘ç«™ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨Github Pagesè‡ªå®šä¹‰åŸŸåã€‚</p><p>è¿™é‡Œå‘¢å…ˆåˆ—å‡ºå‰ç½®æ¡ä»¶ï¼š</p><ul><li>æ‚¨çš„Github Pagesèƒ½æ­£å¸¸è®¿é—®</li><li>æ‹¥æœ‰è‡ªå·±çš„åŸŸåå¹¶å¤‡æ¡ˆæˆåŠŸ</li></ul><p>å…³äºå¦‚ä½•åˆ›å»ºGithub Pageså¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰çš„åšå®¢<a href="https://mp.weixin.qq.com/s/onryCTQHSSoFcJWAjziqig" title="https://mp.weixin.qq.com/s/onryCTQHSSoFcJWAjziqig">https://mp.weixin.qq.com/s/onryCTQHSSoFcJWAjziqig</a></p><p>ä¸‹é¢è¯¦ç»†ä»‹ç»å¦‚ä½•é…ç½®</p><h2 id="ä¸€ã€é…ç½®CName"><a href="#ä¸€ã€é…ç½®CName" class="headerlink" title="ä¸€ã€é…ç½®CName"></a>ä¸€ã€é…ç½®CName</h2><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®°å½•å€¼å°±æ˜¯ä½ çš„Github Pagesåœ°å€ï¼Œè®°å½•ç±»å‹å¡«å†™CNameï¼Œä¸»æœºè®°å½•å°±æ˜¯ä½ çš„äºŒçº§åŸŸååœ°å€</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308012309959.png"></p><h2 id="äºŒã€æ·»åŠ CNAMEæ–‡ä»¶"><a href="#äºŒã€æ·»åŠ CNAMEæ–‡ä»¶" class="headerlink" title="äºŒã€æ·»åŠ CNAMEæ–‡ä»¶"></a>äºŒã€æ·»åŠ CNAMEæ–‡ä»¶</h2><p>é¦–å…ˆæ‰¾åˆ°ä½ çš„ä¸»åˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯è¦å’ŒSettingé‡Œé¢é…ç½®çš„åˆ†æ”¯ä¸€è‡´ã€‚ç„¶ååˆ›å»ºä¸€ä¸ªNAMEæ–‡ä»¶</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308012309973.png"></p><p>æ–‡ä»¶å†…å®¹æ˜¯<code>äºŒçº§åŸŸå.è‡ªå·±çš„åŸŸå</code></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308012309943.png"></p><h2 id="ä¸‰ã€è®¿é—®é…ç½®çš„CNAME"><a href="#ä¸‰ã€è®¿é—®é…ç½®çš„CNAME" class="headerlink" title="ä¸‰ã€è®¿é—®é…ç½®çš„CNAME"></a>ä¸‰ã€è®¿é—®é…ç½®çš„CNAME</h2><p>è¿™é‡Œç­‰å¾…å‡ åˆ†é’Ÿï¼Œæˆ‘è¿™é‡Œå‡ ç§’é’Ÿå°±åˆ·å‡ºæ¥äº†</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202308012309952.png"><br>com&#x2F;202308012309952.png)</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸŸå </tag>
            
            <tag> githubpages </tag>
            
            <tag> github pagesè‡ªå®šä¹‰åŸŸå </tag>
            
            <tag> cnameæ–‡ä»¶ </tag>
            
            <tag> è®¿é—®é…ç½®çš„cname </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+GithubPageså…è´¹æ­å»ºä¸ªäººåšå®¢ç½‘ç«™</title>
      <link href="/90bfb7d6.html"/>
      <url>/90bfb7d6.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="Hexo-GithubPageså…è´¹æ­å»ºä¸ªäººåšå®¢ç½‘ç«™"><a href="#Hexo-GithubPageså…è´¹æ­å»ºä¸ªäººåšå®¢ç½‘ç«™" class="headerlink" title="Hexo+GithubPageså…è´¹æ­å»ºä¸ªäººåšå®¢ç½‘ç«™"></a>Hexo+GithubPageså…è´¹æ­å»ºä¸ªäººåšå®¢ç½‘ç«™</h1><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><ul><li><a href="#%E4%B8%80%E5%89%8D%E8%A8%80">ä¸€ã€å‰è¨€</a></li><li><a href="#%E4%BA%8CGithub%E9%85%8D%E7%BD%AE">äºŒã€Githubé…ç½®</a><ul><li><a href="#%E6%96%B0%E5%BB%BA%E5%90%8C%E5%90%8D%E4%BB%93%E5%BA%93">æ–°å»ºåŒåä»“åº“</a></li><li><a href="#%E9%85%8D%E7%BD%AEPages">é…ç½®Pages</a></li></ul></li><li><a href="#%E4%B8%89%E5%AE%89%E8%A3%85Hexo">ä¸‰ã€å®‰è£…Hexo</a></li><li><a href="#%E5%9B%9B%E9%85%8D%E7%BD%AEhexo-deployer-git">å››ã€é…ç½®hexo-deployer-git</a></li><li><a href="#%E4%BA%94%E8%AE%BF%E9%97%AE">äº”ã€è®¿é—®</a></li><li><a href="#%E5%85%AD%E5%8F%91%E5%B8%83%E6%96%87%E7%AB%A0">å…­ã€å‘å¸ƒæ–‡ç« </a></li><li><a href="#%E4%B8%83%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98">ä¸ƒã€å®‰è£…ä¸»é¢˜</a></li></ul><h2 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h2><p>æˆ‘ä¹‹å‰å¼€äº†å¥½å‡ å¹´çš„äº‘æœåŠ¡å™¨äº†ï¼Œå®é™…ä¸Šä½¿ç”¨åœºæ™¯å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œæ„Ÿè§‰æœ‰ç‚¹æµªè´¹ã€‚å‰ä¸¤ä¸ªæœˆéƒ½ç»™å…³æ‰äº†ï¼Œç°åœ¨å‘¢ç¢ç£¨ç€å¼„ä¸€ä¸ªå…è´¹çš„äº‘æœåŠ¡æ­å»ºä¸ªäººåšå®¢ã€‚æš‚æ—¶å…ˆå¼„Githubçš„ï¼ŒGiteeçš„é‚£ä¸ªè¦èº«ä»½è¯ï¼Œæš‚æ—¶å¼„ä¸äº†ï¼Œç­‰ç­‰å§ã€‚</p><p>éœ€è¦å‡†å¤‡çš„ç¯å¢ƒï¼š</p><p>windowsçš„è¯éœ€è¦å‡†å¤‡nodeç¯å¢ƒï¼Œå¯ä»¥å…³æ³¨æŸç»¿è‰²è½¯ä»¶å›å¤ï¼š1009 ä¸é™é€Ÿä¸‹è½½è½¯ä»¶å®‰è£…</p><p>è¿™é‡Œåˆ—ä¸€ä¸‹æ¸…å•</p><ol><li>nodeç¯å¢ƒ</li><li>èƒ½è®¿é—®githubå¹¶å‡†å¤‡å¥½githubè´¦å·</li></ol><h2 id="äºŒã€Githubé…ç½®"><a href="#äºŒã€Githubé…ç½®" class="headerlink" title="äºŒã€Githubé…ç½®"></a>äºŒã€Githubé…ç½®</h2><h3 id="æ–°å»ºåŒåä»“åº“"><a href="#æ–°å»ºåŒåä»“åº“" class="headerlink" title="æ–°å»ºåŒåä»“åº“"></a>æ–°å»ºåŒåä»“åº“</h3><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021025.png"></p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æœ‰ä¸¤ç‚¹</p><ol><li>ä»“åº“åæ ¼å¼ï¼š username.github.io</li><li>ä»“åº“éœ€è¦è®¾ç½®publicï¼Œä¸èƒ½è®¾ç½®ä¸ºprivate</li></ol><h3 id="é…ç½®Pages"><a href="#é…ç½®Pages" class="headerlink" title="é…ç½®Pages"></a>é…ç½®Pages</h3><p>åœ¨ä»“åº“ä¸»é¡µç‚¹å‡»Setting</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021979.png"></p><p>è¿™é‡Œçš„é…ç½®æŒ‰ç…§ä»¥ä¸‹æ–¹å¼é…ç½®å³å¯</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021001.png"></p><p>OKï¼Œé‚£ä¹ˆè¿™é‡Œéœ€è¦é…ç½®çš„å®Œæˆäº†ã€‚</p><h2 id="ä¸‰ã€å®‰è£…Hexo"><a href="#ä¸‰ã€å®‰è£…Hexo" class="headerlink" title="ä¸‰ã€å®‰è£…Hexo"></a>ä¸‰ã€å®‰è£…Hexo</h2><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦å…ˆç¡®è®¤å®‰è£…å¥½äº†nodeç¯å¢ƒï¼Œå¹¶é…ç½®äº†ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥é€šè¿‡cmdè¾“å…¥ <code>npm -v</code> å‘½ä»¤ç¡®è®¤</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021887.png"></p><p>haloå®˜ç½‘åœ°å€ï¼š<a href="https://hexo.io/zh-cn/" title="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p><p>å®‰è£…å¾ˆç®€å•ï¼Œç›´æ¥åœ¨cmdä¸­è¾“å…¥ <code>npm install hexo-cli -g</code> å³å¯</p><p>æ­¤æ—¶ï¼Œéœ€è¦åœ¨æœ¬åœ°å»ºç«‹ä¸€ä¸ªä»“åº“ï¼Œè¿™ä¸ªä»“åº“ä¸­çš„æ–‡ä»¶å°†æ¥ä¼šåŒæ­¥åˆ°githubä¸Šã€‚</p><p>å»ºç«‹æ–¹å¼æ˜¯åœ¨cmdä¸­è¾“å…¥ <code>hexo init</code> ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œéœ€è¦åœ¨æŒ‡å®šç›®å½•æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œæˆ‘è¿™é‡Œæ¨èä¸€ä¸ªç®€å•çš„æ–¹å¼ã€‚</p><ol><li>è¿›å…¥éœ€è¦åˆå§‹åŒ–ä»“åº“çš„æ–‡ä»¶å¤¹ä¸‹</li><li>å·¦ä¸Šè§’è¾“å…¥cmd</li><li>å›è½¦</li></ol><p>è¿™æ ·æ‰“å¼€çš„cmdçª—å£è‡ªåŠ¨è¿›å…¥åˆ°å½“å‰ç›®å½•äº†</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021066.png"></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021947.png"></p><p>è¿™æ ·å°±ç®—æ˜¯åˆ›å»ºå¥½äº†ï¼Œå¯ä»¥çœ‹åˆ°ç”Ÿæˆäº†ä¸€å †æ–‡ä»¶</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021916.png"></p><h2 id="å››ã€é…ç½®hexo-deployer-git"><a href="#å››ã€é…ç½®hexo-deployer-git" class="headerlink" title="å››ã€é…ç½®hexo-deployer-git"></a>å››ã€é…ç½®hexo-deployer-git</h2><p>å®˜æ–¹åœ°å€ï¼š<a href="https://github.com/hexojs/hexo-deployer-git" title="https://github.com/hexojs/hexo-deployer-git">https://github.com/hexojs/hexo-deployer-git</a></p><p>å®‰è£…ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥åœ¨cmdä¸­è¾“å…¥  <code>npm install hexo-deployer-git --save</code></p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰§è¡Œè¯¥å‘½ä»¤ï¼Œéœ€è¦åœ¨ä¸Šé¢hexoåˆå§‹åŒ–çš„ä»“åº“ç›®å½•ä¸‹æ‰§è¡Œï¼Œå¦åˆ™æ˜¯æ²¡æœ‰ç”¨çš„ã€‚</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021574.png"></p><p>æ‰§è¡Œå®Œæ•ˆæœå¦‚ä¸Šå›¾</p><p>æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯ç”Ÿæˆçš„_config.ymlæ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬æ‰“å¼€è¿™ä¸ªæ–‡ä»¶ï¼Œå¹¶å¯¹éƒ¨åˆ†é…ç½®åšä¿®æ”¹ã€‚</p><ol><li><p>ä¿®æ”¹url</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021546.png"></p></li><li><p>ä¿®æ”¹deploy</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021633.png"></p></li><li><p>è¿™ä¸ªé…ç½®å¯æ”¹å¯ä¸æ”¹</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021598.png"></p></li></ol><p>ä¿®æ”¹å®Œæ¯•ä¿å­˜åï¼Œæˆ‘ä»¬åœ¨cmdä¸­æ‰§è¡Œå‘½ä»¤ <code>helo d</code> å³å¯éƒ¨ç½²æˆ‘ä»¬çš„é¡¹ç›®ï¼Œç¨ç­‰å‡ åˆ†é’Ÿï¼Œå°±èƒ½è®¿é—®åˆ°äº†ã€‚</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021587.png"></p><p>æ­£å¸¸åˆ°è¿™è¾¹å°±ç»“æŸäº†ï¼Œä½†æ˜¯åç»­å¤šä¸Šä¼ å‡ æ¬¡åå°±ä¼šæŠ¥é”™</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021533.png"></p><p>è¿™ä¸ªåŸå› å¯èƒ½æ˜¯è¢«é™åˆ¶äº†ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®token</p><p>æ‰“å¼€githubçš„settings</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021254.png"></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021142.png"></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021941.png"></p><p>æƒé™å‹¾é€‰ç¬¬ä¸€ä¸ªå°±è¡Œäº†</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021896.png"></p><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åœ¨_config.ymlä¸­åŠ ä¸Štoken</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021756.png"></p><h2 id="äº”ã€è®¿é—®"><a href="#äº”ã€è®¿é—®" class="headerlink" title="äº”ã€è®¿é—®"></a>äº”ã€è®¿é—®</h2><p>æˆ‘çš„è·¯ç”±æ˜¯ï¼š<a href="https://zysicyj.github.io/" title="https://zysicyj.github.io/">https://zysicyj.github.io/</a></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021678.png"></p><h2 id="å…­ã€å‘å¸ƒæ–‡ç« "><a href="#å…­ã€å‘å¸ƒæ–‡ç« " class="headerlink" title="å…­ã€å‘å¸ƒæ–‡ç« "></a>å…­ã€å‘å¸ƒæ–‡ç« </h2><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://hexo.io/zh-cn/docs/commands" title="https://hexo.io/zh-cn/docs/commands">https://hexo.io/zh-cn/docs/commands</a></p><p>æ‰§è¡Œ<code>hexo -new</code> å¯ä»¥åˆ›å»ºæ–‡ä»¶</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021581.png"></p><p>æ‰§è¡Œä¸Šä¼ å‘½ä»¤ <code>helo g &amp;&amp; hexo d</code> ï¼Œç„¶åç­‰å‡ åˆ†é’Ÿï¼Œèƒ½çœ‹åˆ°æ–‡ä»¶å·²ç»åŒæ­¥ä¸Šå»äº†</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021450.png"></p><h2 id="ä¸ƒã€å®‰è£…ä¸»é¢˜"><a href="#ä¸ƒã€å®‰è£…ä¸»é¢˜" class="headerlink" title="ä¸ƒã€å®‰è£…ä¸»é¢˜"></a>ä¸ƒã€å®‰è£…ä¸»é¢˜</h2><p>æˆ‘æ˜¯ç”¨çš„ä¸»é¢˜æ˜¯bufferfly <a href="https://butterfly.js.org/posts/21cfbf15/#%E5%AE%89%E8%A3%9D" title="https://butterfly.js.org/posts/21cfbf15/#å®‰è£">https://butterfly.js.org/posts/21cfbf15/#å®‰è£</a></p><p>ä»“åº“æ ¹ç›®å½•ä¸‹æ‹‰å–ä»£ç </p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021441.png"></p><p>ä¿®æ”¹_config.yml</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021501.png"></p><p>å®‰è£…æ’ä»¶</p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021568.png"></p><p>é‡æ–°ç”Ÿæˆéƒ¨ç½² <code>hexo -g &amp;&amp; hexo d</code></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021719.png"></p><p><img src="https://njpkhuan-blog.oss-cn-shanghai.aliyuncs.com/202307290021226.png"></p><p>åç»­çš„è¯è¿˜æœ‰ä¸å°‘å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæ¯”å¦‚hexoä¸»é¢˜ï¼Œåˆ†ç±»å’Œæ ‡ç­¾é—®é¢˜ï¼Œå›¾ç‰‡æ˜¾ç¤ºé—®é¢˜ç­‰ç­‰ï¼Œè¿™ä¸ªåç»­å†å†™æ–‡ç« å§<br>ä¸ªåç»­å†å†™æ–‡ç« å§</p></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> å·¥å…· </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> githubpages </tag>
            
            <tag> ä¸ªäººåšå®¢ </tag>
            
            <tag> æ­å»º </tag>
            
            <tag> å…è´¹ </tag>
            
            <tag> ç½‘ç«™ </tag>
            
            <tag> githubé…ç½® </tag>
            
            <tag> å®‰è£…hexo </tag>
            
            <tag> é…ç½®hexo-deployer-git </tag>
            
            <tag> è®¿é—® </tag>
            
            <tag> å‘å¸ƒæ–‡ç«  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IOCå­¦ä¹ ç¬”è®°ï¼ˆä¸Šç¯‡ï¼‰</title>
      <link href="/1a50bc40.html"/>
      <url>/1a50bc40.html</url>
      
        <content type="html"><![CDATA[<div id="readmore-container"><h1 id="IOCå­¦ä¹ ç¬”è®°ï¼ˆä¸Šç¯‡ï¼‰"><a href="#IOCå­¦ä¹ ç¬”è®°ï¼ˆä¸Šç¯‡ï¼‰" class="headerlink" title="IOCå­¦ä¹ ç¬”è®°ï¼ˆä¸Šç¯‡ï¼‰"></a>IOCå­¦ä¹ ç¬”è®°ï¼ˆä¸Šç¯‡ï¼‰</h1><p>å­¦ä¹ è§†é¢‘åœ°å€ï¼š<a href="https://time.geekbang.org/course/intro/100042601?tab=catalog">https://time.geekbang.org/course/detail/100042601-184049</a></p><h2 id="IOCå®¹å™¨çš„èŒè´£"><a href="#IOCå®¹å™¨çš„èŒè´£" class="headerlink" title="IOCå®¹å™¨çš„èŒè´£"></a>IOCå®¹å™¨çš„èŒè´£</h2><ul><li>ä¾èµ–å¤„ç† <ul><li>ä¾èµ–æŸ¥æ‰¾</li><li>ä¾èµ–æ³¨å…¥</li></ul></li><li>ç”Ÿå‘½å‘¨æœŸç®¡ç† <ul><li>å®¹å™¨</li><li>æ‰˜ç®¡çš„èµ„æºï¼ˆJava Beans æˆ–å…¶ä»–èµ„æº<a href="#fn1">[1]</a>ï¼‰</li></ul></li><li>é…ç½® <ul><li>å®¹å™¨</li><li>å¤–éƒ¨åŒ–é…ç½®</li><li>æ‰˜ç®¡çš„èµ„æºï¼ˆJava Beansæˆ–å…¶ä»–èµ„æº<a href="#fn1">[1:1]</a>ï¼‰</li></ul></li></ul><h2 id="Iocå®¹å™¨çš„å®ç°"><a href="#Iocå®¹å™¨çš„å®ç°" class="headerlink" title="Iocå®¹å™¨çš„å®ç°"></a>Iocå®¹å™¨çš„å®ç°</h2><ul><li>Java SE <ul><li>Java Beans</li><li>Java ServiceLoader SPI<a href="#fn2">[2]</a></li><li>JNDIï¼ˆJava Naming and Directory Interfaceï¼‰</li></ul></li><li>Java EE <ul><li>EJBï¼ˆEnterprise Java Beansï¼‰</li><li>Servlet</li></ul></li><li>å¼€æº <ul><li>Apache Avalonï¼ˆ<a href="http://avalon.apache.org/closed.html%EF%BC%89">http://avalon.apache.org/closed.htmlï¼‰</a></li><li>PicoContainerï¼ˆ<a href="http://picocontainer.xn--com-c16s">http://picocontainer.comï¼‰</a></li><li>Google Guiceï¼ˆ<a href="https://github.com/google/guice%EF%BC%89">https://github.com/google/guiceï¼‰</a></li><li>Spring Frameworkï¼ˆ<a href="https://spring.io/projects/spring-framework%EF%BC%89">https://spring.io/projects/spring-frameworkï¼‰</a></li></ul></li></ul><h2 id="ä¼ ç»ŸIoCå®¹å™¨çš„å®ç°"><a href="#ä¼ ç»ŸIoCå®¹å™¨çš„å®ç°" class="headerlink" title="ä¼ ç»ŸIoCå®¹å™¨çš„å®ç°"></a>ä¼ ç»ŸIoCå®¹å™¨çš„å®ç°</h2><ul><li>Java Beansä½œä¸ºIoCå®¹å™¨</li><li>ç‰¹æ€§ <ul><li><a href="https://www.wolai.com/mRb4QGrHGR47QcZ7kJ1awQ">ä¾èµ–æŸ¥æ‰¾</a></li><li>ç”Ÿå‘½å‘¨æœŸç®¡ç†</li><li>é…ç½®å…ƒä¿¡æ¯</li><li>äº‹ä»¶</li><li>è‡ªå®šä¹‰</li><li>èµ„æºç®¡ç†</li><li>æŒä¹…åŒ–</li></ul></li><li>è§„èŒƒ <ul><li>JavaBeansï¼š<a href="https://_www.oracle.com_technetwork_java_javase_tech_index-jsp-138795/">https://www.oracle.com/technetwork/java/javase/tech/index-jsp-138795.html</a></li><li>BeanContextï¼š<a href="https://_docs.oracle.com_javase_8_docs_technotes_guides_beans_spec_beancontext/">https://docs.oracle.com/javase/8/docs/technotes/guides/beans/spec/beancontext.html</a></li></ul></li></ul><h2 id="ä¾èµ–æŸ¥æ‰¾VSä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æŸ¥æ‰¾VSä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æŸ¥æ‰¾VSä¾èµ–æ³¨å…¥"></a>ä¾èµ–æŸ¥æ‰¾VSä¾èµ–æ³¨å…¥</h2><ul><li>ä¼˜åŠ£å¯¹æ¯”</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2023/png/548519/1690289784867-c1b13ab7-3e36-48fe-84b0-5f23dccc0c3b.png#from=url&id=cgbg5&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title="></p><h2 id="æ„é€ å™¨æ³¨å…¥VS-Setteræ³¨å…¥"><a href="#æ„é€ å™¨æ³¨å…¥VS-Setteræ³¨å…¥" class="headerlink" title="æ„é€ å™¨æ³¨å…¥VS Setteræ³¨å…¥"></a>æ„é€ å™¨æ³¨å…¥VS Setteræ³¨å…¥</h2><p>åœ¨é€‰æ‹©æ„é€ å™¨æ³¨å…¥ï¼ˆConstructor Injectionï¼‰å’ŒSetteræ³¨å…¥ï¼ˆSetter Injectionï¼‰ä¹‹é—´ï¼Œéœ€è¦æ ¹æ®å…·ä½“çš„æƒ…å†µæ¥å†³å®šã€‚<br>æ„é€ å™¨æ³¨å…¥æ˜¯é€šè¿‡ç±»çš„æ„é€ å™¨æ¥æ³¨å…¥ä¾èµ–å¯¹è±¡ï¼Œé€šå¸¸åœ¨åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ä¸­å®Œæˆæ³¨å…¥ã€‚è¿™ç§æ–¹å¼å¯ä»¥ä¿è¯å¯¹è±¡åœ¨åˆ›å»ºå®Œæˆåï¼Œå…¶ä¾èµ–å…³ç³»å·²ç»å®Œå…¨è¢«æ³¨å…¥ï¼Œä½¿å¾—å¯¹è±¡åœ¨ä½¿ç”¨æ—¶å…·å¤‡å®Œæ•´çš„çŠ¶æ€ã€‚æ„é€ å™¨æ³¨å…¥ä¹Ÿå¯ä»¥ä½¿å¯¹è±¡çš„ä¾èµ–å…³ç³»æ›´åŠ æ˜ç¡®ï¼Œå‡å°‘äº†å¯¹äºSetteræ–¹æ³•çš„ä¾èµ–ã€‚<br>Setteræ³¨å…¥æ˜¯é€šè¿‡ç±»çš„Setteræ–¹æ³•æ¥æ³¨å…¥ä¾èµ–å¯¹è±¡ï¼Œé€šå¸¸åœ¨å¯¹è±¡åˆ›å»ºåé€šè¿‡è°ƒç”¨Setteræ–¹æ³•æ¥å®Œæˆæ³¨å…¥ã€‚è¿™ç§æ–¹å¼å¯ä»¥åœ¨å¯¹è±¡åˆ›å»ºååŠ¨æ€åœ°ä¿®æ”¹å…¶ä¾èµ–å…³ç³»ï¼Œçµæ´»æ€§æ›´é«˜ã€‚Setteræ³¨å…¥ä¹Ÿå¯ä»¥æ”¯æŒå¯é€‰çš„ä¾èµ–ï¼Œå³æŸäº›ä¾èµ–å¯¹è±¡å¯ä»¥ä¸æ³¨å…¥è€Œä½¿ç”¨é»˜è®¤å€¼ã€‚<br>é€‰æ‹©æ„é€ å™¨æ³¨å…¥è¿˜æ˜¯Setteræ³¨å…¥ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li>å¯¹è±¡çš„ä¾èµ–å…³ç³»æ˜¯å¦å¿…é¡»è¦åœ¨åˆ›å»ºæ—¶æ³¨å…¥ï¼Œè¿˜æ˜¯å¯ä»¥åœ¨å¯¹è±¡åˆ›å»ºåè¿›è¡Œæ³¨å…¥ã€‚å¦‚æœä¾èµ–å…³ç³»å¿…é¡»åœ¨åˆ›å»ºæ—¶æ³¨å…¥ï¼Œé‚£ä¹ˆæ„é€ å™¨æ³¨å…¥æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ï¼›å¦‚æœä¾èµ–å…³ç³»å¯ä»¥åœ¨åˆ›å»ºååŠ¨æ€ä¿®æ”¹ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨Setteræ³¨å…¥ã€‚</li><li>å¯¹è±¡çš„ä¾èµ–å…³ç³»æ˜¯å¦æ˜¯å¿…éœ€çš„ï¼Œè¿˜æ˜¯å¯é€‰çš„ã€‚å¦‚æœæŸäº›ä¾èµ–æ˜¯å¿…éœ€çš„ï¼Œè€Œä¸”æ²¡æœ‰åˆé€‚çš„é»˜è®¤å€¼ï¼Œé‚£ä¹ˆæ„é€ å™¨æ³¨å…¥å¯ä»¥ç¡®ä¿è¿™äº›ä¾èµ–åœ¨åˆ›å»ºæ—¶è¢«æ³¨å…¥ï¼›å¦‚æœæŸäº›ä¾èµ–æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥ä½¿ç”¨Setteræ³¨å…¥ï¼Œå¹¶æä¾›é»˜è®¤å€¼ã€‚</li><li>å¯¹è±¡çš„å¯æµ‹è¯•æ€§ã€‚æ„é€ å™¨æ³¨å…¥å¯ä»¥ä½¿å¾—å¯¹è±¡çš„ä¾èµ–å…³ç³»æ›´åŠ æ˜ç¡®ï¼Œæ–¹ä¾¿è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡æ„é€ å™¨ä¼ å…¥æ¨¡æ‹Ÿå¯¹è±¡ã€‚è€ŒSetteræ³¨å…¥åœ¨å•å…ƒæµ‹è¯•ä¸­å¯èƒ½éœ€è¦é€šè¿‡åå°„ç­‰æ–¹å¼æ¥è®¾ç½®ä¾èµ–å¯¹è±¡ã€‚</li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œé€‰æ‹©æ„é€ å™¨æ³¨å…¥è¿˜æ˜¯Setteræ³¨å…¥å–å†³äºå…·ä½“çš„æƒ…å†µã€‚å¦‚æœä¾èµ–å…³ç³»å¿…é¡»åœ¨åˆ›å»ºæ—¶æ³¨å…¥ï¼Œè€Œä¸”æ˜¯å¿…éœ€çš„ï¼Œé‚£ä¹ˆæ„é€ å™¨æ³¨å…¥æ˜¯æ›´åˆé€‚çš„é€‰æ‹©ï¼›å¦‚æœä¾èµ–å…³ç³»å¯ä»¥åœ¨åˆ›å»ºååŠ¨æ€ä¿®æ”¹ï¼Œæˆ–è€…æŸäº›ä¾èµ–æ˜¯å¯é€‰çš„ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨Setteræ³¨å…¥ã€‚åŒæ—¶ï¼Œè¿˜éœ€è¦è€ƒè™‘å¯¹è±¡çš„å¯æµ‹è¯•æ€§å’Œä»£ç çš„å¯è¯»æ€§ç­‰å› ç´ ã€‚</p><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><h3 id="1-ä»€ä¹ˆæ˜¯IOCï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯IOCï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯IOCï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯IOCï¼Ÿ</h3><p>IOCï¼Œå…¨ç§°ä¸ºInversion of Controlï¼ˆæ§åˆ¶åè½¬ï¼‰ï¼Œæ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡åŸåˆ™å’Œç¼–ç¨‹æ€æƒ³ã€‚å®ƒæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ä¸­çš„ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºè§£è€¦å¯¹è±¡é—´çš„ä¾èµ–å…³ç³»ã€‚<br>åœ¨ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡ä¸­ï¼Œå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ç”±å¯¹è±¡è‡ªèº«è´Ÿè´£ç®¡ç†ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç±»åœ¨åˆ›å»ºå…¶ä»–ç±»çš„å¯¹è±¡æ—¶ï¼Œéœ€è¦ç›´æ¥è°ƒç”¨å…¶ä»–ç±»çš„æ„é€ å‡½æ•°æˆ–æ–¹æ³•æ¥è·å–æ‰€éœ€çš„å¯¹è±¡ã€‚è¿™ç§æ–¹å¼ä½¿å¾—ç±»ä¹‹é—´ç´§å¯†è€¦åˆï¼Œéš¾ä»¥è¿›è¡Œå•å…ƒæµ‹è¯•ã€ä»£ç å¤ç”¨å’Œæ›¿æ¢ç­‰æ“ä½œã€‚<br>è€ŒIOCæ˜¯ä¸€ç§åè½¬äº†å¯¹è±¡åˆ›å»ºå’Œä¾èµ–å…³ç³»ç®¡ç†çš„æ§åˆ¶æ–¹å¼ã€‚åœ¨IOCä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»çš„ç®¡ç†ç”±ä¸€ä¸ªå®¹å™¨ï¼ˆContainerï¼‰æ¥è´Ÿè´£ã€‚å®¹å™¨è´Ÿè´£åˆ›å»ºå¯¹è±¡ï¼Œå¹¶å°†ä¾èµ–çš„å¯¹è±¡æ³¨å…¥åˆ°éœ€è¦çš„åœ°æ–¹ã€‚å¯¹è±¡åªéœ€è¦å®šä¹‰è‡ªå·±æ‰€éœ€çš„ä¾èµ–ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå¦‚ä½•åˆ›å»ºå’Œç®¡ç†è¿™äº›ä¾èµ–ã€‚è¿™æ ·å¯ä»¥å®ç°å¯¹è±¡é—´çš„è§£è€¦ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚<br>IOCçš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰æ¥å®ç°å¯¹è±¡ä¹‹é—´çš„è§£è€¦ã€‚ä¾èµ–æ³¨å…¥æ˜¯æŒ‡å°†éœ€è¦çš„ä¾èµ–å¯¹è±¡é€šè¿‡æ„é€ å™¨ã€Setteræ–¹æ³•æˆ–å…¶ä»–æ–¹å¼æ³¨å…¥åˆ°å¯¹è±¡ä¸­ï¼Œè€Œä¸æ˜¯ç”±å¯¹è±¡è‡ªå·±åˆ›å»ºæˆ–è·å–ä¾èµ–å¯¹è±¡ã€‚ä¾èµ–æ³¨å…¥å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ã€æ³¨è§£æˆ–è‡ªåŠ¨æ‰«æç­‰æ–¹å¼æ¥å®ç°ã€‚<br>IOCçš„å¥½å¤„åŒ…æ‹¬ï¼š</p><ol><li>è§£è€¦ï¼šIOCé€šè¿‡å°†å¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»çš„ç®¡ç†äº¤ç»™å®¹å™¨æ¥å¤„ç†ï¼Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„å…³ç³»æ›´åŠ æ¾æ•£ï¼Œå‡å°‘äº†è€¦åˆã€‚</li><li>å¯æµ‹è¯•æ€§ï¼šç”±äºå¯¹è±¡çš„ä¾èµ–å…³ç³»ç”±å®¹å™¨æ³¨å…¥ï¼Œå¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œå•å…ƒæµ‹è¯•ï¼Œé€šè¿‡æ›¿æ¢ä¾èµ–å¯¹è±¡æ¥è¿›è¡Œæµ‹è¯•æˆ–æ¨¡æ‹Ÿã€‚</li><li>å¯æ‰©å±•æ€§ï¼šåœ¨IOCä¸­ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æˆ–æ³¨è§£ç­‰æ–¹å¼æ¥ç®¡ç†å¯¹è±¡çš„ä¾èµ–å…³ç³»ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ çµæ´»ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°è¿›è¡ŒåŠŸèƒ½æ‰©å±•æˆ–æ›¿æ¢ã€‚</li></ol><p>å¸¸è§çš„IOCæ¡†æ¶åŒ…æ‹¬Spring Frameworkã€Google Guiceç­‰ã€‚è¿™äº›æ¡†æ¶æä¾›äº†ä¾èµ–æ³¨å…¥çš„åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…å®ç°IOCï¼Œå¹¶æä¾›äº†å…¶ä»–çš„åŠŸèƒ½å’Œå·¥å…·æ¥æ”¯æŒåº”ç”¨ç¨‹åºçš„å¼€å‘ã€‚<br>æ€»ç»“æ¥è¯´ï¼ŒIOCï¼ˆæ§åˆ¶åè½¬ï¼‰æ˜¯ä¸€ç§è½¯ä»¶è®¾è®¡åŸåˆ™å’Œç¼–ç¨‹æ€æƒ³ï¼Œé€šè¿‡å°†å¯¹è±¡çš„ä¾èµ–å…³ç³»çš„ç®¡ç†äº¤ç»™å®¹å™¨æ¥å¤„ç†ï¼Œå®ç°å¯¹è±¡é—´çš„è§£è€¦ã€‚IOCçš„æ ¸å¿ƒæ˜¯ä¾èµ–æ³¨å…¥ï¼Œå°†å¯¹è±¡çš„ä¾èµ–é€šè¿‡æ„é€ å™¨ã€Setteræ–¹æ³•æˆ–å…¶ä»–æ–¹å¼æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚IOCå¯ä»¥æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p><h3 id="2-ä¾èµ–æŸ¥æ‰¾å’Œä¾èµ–æ³¨å…¥çš„åŒºåˆ«"><a href="#2-ä¾èµ–æŸ¥æ‰¾å’Œä¾èµ–æ³¨å…¥çš„åŒºåˆ«" class="headerlink" title="2. ä¾èµ–æŸ¥æ‰¾å’Œä¾èµ–æ³¨å…¥çš„åŒºåˆ«"></a>2. ä¾èµ–æŸ¥æ‰¾å’Œä¾èµ–æ³¨å…¥çš„åŒºåˆ«</h3><p>ä¾èµ–æŸ¥æ‰¾ï¼ˆDependency Lookupï¼‰å’Œä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼‰æ˜¯ä¸¤ç§ä¸åŒçš„ä¾èµ–å…³ç³»ç®¡ç†æ–¹å¼ã€‚<br>ä¾èµ–æŸ¥æ‰¾æ˜¯æŒ‡é€šè¿‡å®¹å™¨æˆ–ä¸Šä¸‹æ–‡æ¥æŸ¥æ‰¾æ‰€éœ€çš„ä¾èµ–å¯¹è±¡ã€‚åœ¨ä¾èµ–æŸ¥æ‰¾ä¸­ï¼Œå¯¹è±¡è‡ªå·±è´Ÿè´£è·å–å®ƒæ‰€ä¾èµ–çš„å¯¹è±¡ï¼Œé€šå¸¸æ˜¯é€šè¿‡å®¹å™¨æä¾›çš„æ–¹æ³•æˆ–APIæ¥è·å–ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡å®¹å™¨çš„getBean()æ–¹æ³•æ¥è·å–æ‰€éœ€çš„å¯¹è±¡ã€‚<br>ä¾èµ–æ³¨å…¥æ˜¯æŒ‡å°†ä¾èµ–å¯¹è±¡é€šè¿‡æ„é€ å™¨ã€Setteræ–¹æ³•æˆ–å…¶ä»–æ–¹å¼æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚åœ¨ä¾èµ–æ³¨å…¥ä¸­ï¼Œå¯¹è±¡ä¸éœ€è¦å…³å¿ƒå¦‚ä½•è·å–ä¾èµ–å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡æ³¨å…¥çš„æ–¹å¼æ¥è·å–ã€‚æ³¨å…¥å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ã€æ³¨è§£æˆ–è‡ªåŠ¨æ‰«æç­‰æ–¹å¼å®ç°ã€‚<br>åŒºåˆ«å¦‚ä¸‹ï¼š</p><ol><li>æ§åˆ¶æ–¹å¼ä¸åŒï¼šä¾èµ–æŸ¥æ‰¾æ˜¯ç”±å¯¹è±¡è‡ªå·±æ§åˆ¶è·å–ä¾èµ–å¯¹è±¡ï¼Œè€Œä¾èµ–æ³¨å…¥æ˜¯ç”±å®¹å™¨æ§åˆ¶å°†ä¾èµ–å¯¹è±¡æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚</li><li>ä¾èµ–å…³ç³»çš„è¡¨è¾¾æ–¹å¼ä¸åŒï¼šä¾èµ–æŸ¥æ‰¾éœ€è¦åœ¨å¯¹è±¡ä¸­æ˜¾å¼è°ƒç”¨å®¹å™¨æä¾›çš„æ–¹æ³•æ¥è·å–ä¾èµ–å¯¹è±¡ï¼Œè€Œä¾èµ–æ³¨å…¥æ˜¯é€šè¿‡æ„é€ å™¨ã€Setteræ–¹æ³•æˆ–å…¶ä»–æ–¹å¼å°†ä¾èµ–å¯¹è±¡æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚</li><li>å¯¹è±¡çš„å¯æµ‹è¯•æ€§ä¸åŒï¼šä¾èµ–æŸ¥æ‰¾åœ¨å•å…ƒæµ‹è¯•ä¸­å¯èƒ½éœ€è¦ä½¿ç”¨æ¨¡æ‹Ÿå¯¹è±¡ç­‰æŠ€æœ¯æ¥æ›¿ä»£çœŸå®çš„ä¾èµ–å¯¹è±¡ï¼Œè€Œä¾èµ–æ³¨å…¥å¯ä»¥é€šè¿‡æ³¨å…¥ä¸åŒçš„ä¾èµ–å¯¹è±¡æ¥è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚</li><li>å¯¹è±¡çš„ä¾èµ–å…³ç³»ç®¡ç†æ–¹å¼ä¸åŒï¼šä¾èµ–æŸ¥æ‰¾éœ€è¦åœ¨æ¯ä¸ªå¯¹è±¡ä¸­æ˜¾å¼è·å–ä¾èµ–å¯¹è±¡ï¼Œè€Œä¾èµ–æ³¨å…¥å°†ä¾èµ–å¯¹è±¡çš„ç®¡ç†äº¤ç»™å®¹å™¨æ¥å¤„ç†ï¼Œå¯¹è±¡åªéœ€è¦å®šä¹‰è‡ªå·±æ‰€éœ€çš„ä¾èµ–ï¼Œä¸éœ€è¦å…³å¿ƒå¦‚ä½•è·å–å’Œç®¡ç†è¿™äº›ä¾èµ–ã€‚</li></ol><p>ç»¼ä¸Šæ‰€è¿°ï¼Œä¾èµ–æŸ¥æ‰¾å’Œä¾èµ–æ³¨å…¥æ˜¯ä¸¤ç§ä¸åŒçš„ä¾èµ–å…³ç³»ç®¡ç†æ–¹å¼ã€‚ä¾èµ–æŸ¥æ‰¾ç”±å¯¹è±¡è‡ªå·±è´Ÿè´£è·å–ä¾èµ–å¯¹è±¡ï¼Œè€Œä¾èµ–æ³¨å…¥æ˜¯ç”±å®¹å™¨è´Ÿè´£å°†ä¾èµ–å¯¹è±¡æ³¨å…¥åˆ°å¯¹è±¡ä¸­ã€‚é€‰æ‹©ä¾èµ–æŸ¥æ‰¾è¿˜æ˜¯ä¾èµ–æ³¨å…¥å–å†³äºå…·ä½“çš„éœ€æ±‚å’Œè®¾è®¡é£æ ¼ã€‚ä¾èµ–æ³¨å…¥é€šå¸¸è¢«è®¤ä¸ºæ˜¯æ›´æ¨èçš„ä¸€ç§æ–¹å¼ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿå®ç°å¯¹è±¡é—´çš„è§£è€¦ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚</p><h3 id="3-Springä½œä¸ºIOCå®¹å™¨æœ‰ä»€ä¹ˆä¼˜åŠ¿"><a href="#3-Springä½œä¸ºIOCå®¹å™¨æœ‰ä»€ä¹ˆä¼˜åŠ¿" class="headerlink" title="3. Springä½œä¸ºIOCå®¹å™¨æœ‰ä»€ä¹ˆä¼˜åŠ¿"></a>3. Springä½œä¸ºIOCå®¹å™¨æœ‰ä»€ä¹ˆä¼˜åŠ¿</h3><p>Springä½œä¸ºä¸€ä¸ªæµè¡Œçš„IOCï¼ˆæ§åˆ¶åè½¬ï¼‰å®¹å™¨ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ol><li>æ¾è€¦åˆï¼šSpringå®ç°äº†ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰æœºåˆ¶ï¼Œé€šè¿‡å°†å¯¹è±¡çš„ä¾èµ–å…³ç³»äº¤ç”±å®¹å™¨ç®¡ç†ï¼Œå®ç°äº†å¯¹è±¡é—´çš„æ¾è€¦åˆã€‚è¿™ä½¿å¾—ä»£ç æ›´å®¹æ˜“ç†è§£ã€ç»´æŠ¤å’Œæ‰©å±•ï¼Œæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§ã€‚</li><li>å¯æµ‹è¯•æ€§ï¼šSpringçš„ä¾èµ–æ³¨å…¥æœºåˆ¶ä½¿å¾—å¯¹è±¡çš„ä¾èµ–å…³ç³»é€šè¿‡æ„é€ å™¨ã€Setteræ–¹æ³•æˆ–å…¶ä»–æ–¹å¼æ³¨å…¥ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨å¯¹è±¡å†…éƒ¨åˆ›å»ºæˆ–è·å–ä¾èµ–å¯¹è±¡ã€‚è¿™æ ·ï¼Œåœ¨è¿›è¡Œå•å…ƒæµ‹è¯•æ—¶ï¼Œå¯ä»¥æ›´æ–¹ä¾¿åœ°æ›¿æ¢ä¾èµ–å¯¹è±¡ï¼Œè¿›è¡Œé›†æˆæµ‹è¯•å’Œæ¨¡å—æµ‹è¯•ã€‚</li><li>é¢å‘æ¥å£ç¼–ç¨‹ï¼šSpringé¼“åŠ±é¢å‘æ¥å£ç¼–ç¨‹ï¼Œé€šè¿‡æ¥å£æ¥å®šä¹‰å…·ä½“ç±»çš„ä¾èµ–å…³ç³»ã€‚è¿™ç§ç¼–ç¨‹æ–¹å¼ä½¿å¾—ä»£ç æ›´å…·æ‰©å±•æ€§å’Œå¯æ›¿æ¢æ€§ï¼Œæœ‰åˆ©äºå®ç°å¤šæ€å’Œä¾èµ–å€’ç½®åŸåˆ™ã€‚</li><li>AOPæ”¯æŒï¼šSpringæä¾›äº†AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰çš„æ”¯æŒï¼Œé€šè¿‡é…ç½®å’Œä»£ç†æŠ€æœ¯ï¼Œå¯ä»¥å®ç°æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆä¾‹å¦‚äº‹åŠ¡ç®¡ç†ã€æ—¥å¿—è®°å½•ç­‰ï¼‰çš„é›†ä¸­ç®¡ç†å’Œå¤ç”¨ã€‚è¿™æ ·ï¼Œå¯ä»¥å°†ä¸šåŠ¡é€»è¾‘ä¸æ¨ªåˆ‡å…³æ³¨ç‚¹åˆ†ç¦»ï¼Œæé«˜ä»£ç çš„é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li><li>ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼šSpringå®¹å™¨ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥åœ¨å¯¹è±¡åˆ›å»ºã€åˆå§‹åŒ–å’Œé”€æ¯æ—¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œé€šè¿‡é…ç½®åˆå§‹åŒ–æ–¹æ³•å’Œé”€æ¯æ–¹æ³•ï¼Œå¯ä»¥åœ¨å¯¹è±¡åˆ›å»ºå’Œé”€æ¯æ—¶æ‰§è¡Œç‰¹å®šçš„é€»è¾‘ã€‚</li><li>é…ç½®çµæ´»æ€§ï¼šSpringé‡‡ç”¨åŸºäºXMLã€æ³¨è§£æˆ–Javaé…ç½®çš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä½¿å¾—é…ç½®æ›´åŠ çµæ´»å’Œå¯æ‰©å±•ã€‚å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„é…ç½®æ–¹å¼ï¼Œæ–¹ä¾¿åœ°åˆ‡æ¢å’Œä¿®æ”¹é…ç½®ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚</li><li>é›†æˆä¸°å¯Œï¼šSpringæä¾›äº†ä¸°å¯Œçš„é›†æˆæ”¯æŒï¼Œå¯ä»¥ä¸å„ç§å¼€æºå’Œå•†ä¸šæ¡†æ¶è¿›è¡Œé›†æˆï¼Œå¦‚Hibernateã€MyBatisã€Spring MVCç­‰ã€‚è¿™äº›é›†æˆæ”¯æŒç®€åŒ–äº†å¼€å‘è¿‡ç¨‹ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡å’Œç³»ç»Ÿçš„æ•´åˆèƒ½åŠ›ã€‚</li></ol><p>æ€»çš„æ¥è¯´ï¼ŒSpringä½œä¸ºä¸€ä¸ªIOCå®¹å™¨ï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥ã€é¢å‘æ¥å£ç¼–ç¨‹ã€AOPæ”¯æŒã€ç”Ÿå‘½å‘¨æœŸç®¡ç†å’Œçµæ´»çš„é…ç½®ç­‰ç‰¹æ€§ï¼Œæä¾›äº†ä¼˜ç§€çš„å¼€å‘æ¡†æ¶å’Œå·¥å…·ï¼Œä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€å¯æµ‹è¯•æ€§å’Œå¯æ‰©å±•æ€§ã€‚</p><hr><ol><li>æ¯”å¦‚ç›‘å¬å™¨å¯ä»¥é€šè¿‡å¤–éƒ¨å¼•å…¥ <a href="#fnref1">â†©ï¸</a><a href="">â†©ï¸</a></li><li>ä»JDK1.6ç‰ˆæœ¬å¼€å§‹å¼•å…¥ <a href="#fnref2">â†©ï¸</a><br>å¼•å…¥ <a href="#fnref2">â†©ï¸</a></li></ol></div><link rel="stylesheet" type="text/css" href="https://qiniu.techgrow.cn/readmore/dist/hexo.css"><script src="https://qiniu.techgrow.cn/readmore/dist/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);var isEncrypt = document.getElementById('hexo-blog-encrypt');var allowMobile = false;if (!isEncrypt && (!isMobile || (isMobile && allowMobile))) {try {var plugin = new ReadmorePlugin();plugin.init({"type": "hexo","id": "readmore-container","name": "ç¨‹åºå‘˜æœ±æ°¸èƒœ","blogId": "39259-6450029321246-893","qrcode": "https://blog-1253652709.cos.ap-guangzhou.myqcloud.com/blog/202308142242856.jpg","keyword": "1","random": "1","height": "auto","expires": "365","lockToc": "yes","interval": "60","baseUrl": ""});} catch(e) {console.warn("readmore plugin occurred error: " + e.name + " | " + e.message);}}</script>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯æ–‡ç«  </category>
          
          <category> åç«¯æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é…ç½® </tag>
            
            <tag> ioc </tag>
            
            <tag> ä¾èµ–å¤„ç† </tag>
            
            <tag> ä¾èµ–æŸ¥æ‰¾ </tag>
            
            <tag> ä¾èµ–æ³¨å…¥ </tag>
            
            <tag> ç”Ÿå‘½å‘¨æœŸç®¡ç† </tag>
            
            <tag> å®¹å™¨ </tag>
            
            <tag> æ‰˜ç®¡çš„èµ„æº </tag>
            
            <tag> å¤–éƒ¨åŒ–é…ç½® </tag>
            
            <tag> java beans </tag>
            
            <tag> java serviceloader spi </tag>
            
            <tag> jndi </tag>
            
            <tag> ejb </tag>
            
            <tag> servlet </tag>
            
            <tag> apache avalon </tag>
            
            <tag> picocontainer </tag>
            
            <tag> google guice </tag>
            
            <tag> spring framework </tag>
            
            <tag> ä¾èµ–æŸ¥æ‰¾vsä¾èµ–æ³¨å…¥ </tag>
            
            <tag> æ„é€ å™¨æ³¨å…¥vs setteræ³¨å…¥ </tag>
            
            <tag> ä»€ä¹ˆæ˜¯ioc </tag>
            
            <tag> ä¾èµ–æŸ¥æ‰¾å’Œä¾èµ–æ³¨å…¥çš„åŒºåˆ« </tag>
            
            <tag> springä½œä¸ºiocå®¹å™¨çš„ä¼˜åŠ¿ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
